<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[é¢è¯•é¢˜001]]></title>
    <url>%2F2019%2F02%2F26%2F2019%2F%E9%9D%A2%E8%AF%95%E9%A2%98001%2F</url>
    <content type="text"><![CDATA[å†™ä¸€ä¸ªæ ‡å‡†å® MIN/MAX åˆ©ç”¨ __typeof__ é‡æ–°å£°æ˜Ž 2 ä¸ªç›¸åŒç±»åž‹çš„å˜é‡ï¼Œåœ¨æŠŠç›¸å…³çš„å€¼èµ‹å€¼ç»™æ–°çš„å˜é‡ï¼Œåœ¨è¿›è¡Œæ¯”è¾ƒï¼Œè¿™æ ·å¯ä»¥æŽ’é™¤å…¶ä»–çš„å„ç§ä¼˜å…ˆçº§é—®é¢˜ã€‚ 12#define kMIN(a,b) (&#123;__typeof__(a) __a__COUNTER__ = (a);__typeof__(b) __b__COUNTER__ = (b);(__a__COUNTER__) &lt; (__b__COUNTER__) ? (__a__COUNTER__) : (__b__COUNTER__);&#125;)#define kMAX(a,b) (&#123;__typeof__(a) __a__COUNTER__ = (a);__typeof__(b) __b__COUNTER__ = (b);(__a__COUNTER__) &gt; (__b__COUNTER__) ? (__a__COUNTER__) : (__b__COUNTER__);&#125;) OCå¦‚ä½•å®žçŽ°å¤šç»§æ‰¿ å…·ä½“æ€Žä¹ˆåš å¯ä»¥ä½¿ç”¨ OC çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶ï¼Œæ¶ˆæ¯è½¬å‘æœ‰ 3 ä¸ªè¿‡ç¨‹ å‚è€ƒã€‚åŠ¨æ€æ–¹æ³•è§£æž -&gt; è½¬å‘ -&gt; è‡ªç”±æ´¾å‘ã€‚å¯ä»¥åœ¨ ç¬¬ 2 æ­¥ å’Œ ç¬¬ 3 æ­¥æ¥è®©ç›¸å…³çš„æ–¹æ³•è½¬å‘ç»™å…¶ä»–å¯¹è±¡ï¼Œä»Žè€Œå®žçŽ°å¤šç»§æ‰¿ç±»ä¼¼çš„åŠŸèƒ½ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[2018]]></title>
    <url>%2F2018%2F12%2F31%2F2018%2F2018%2F</url>
    <content type="text"><![CDATA[é¢†è¯äº†; å°æœ‹å‹æ¯”ä»¥å‰å¬è¯å¤šäº†; èµšäº†ç‚¹å¤–å¿«æŠŠä¹‹å‰çš„æ‰€æœ‰å¤–å€ºè¿˜æ¸…äº†ï¼Œæ— å€ºä¸€èº«è½»ï¼Œå­˜äº†ç‚¹ç²®é£Ÿ; æ„Ÿè°¢è‹¹æžœç²‘ç²‘ï¼Œè™½ç„¶è¢«è™åƒç™¾éï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›æ”¶èŽ·; ä¸–ç•Œæ¯è¾“äº†ç‚¹ï¼Œä½†è¿˜å¥½ï¼Œå› ç¥¸å¾—ç¦; æŠ€æœ¯æ–¹é¢å°±ä¸è°ˆäº†; 2019 åŠ æ²¹ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[iOS è¿è¡Œæ—¶ä¹‹æ¶ˆæ¯è½¬å‘æœºåˆ¶]]></title>
    <url>%2F2018%2F12%2F28%2F2018%2FiOS-%E8%BF%90%E8%A1%8C%E6%97%B6%E4%B9%8B%E6%B6%88%E6%81%AF%E8%BD%AC%E5%8F%91%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[Objective-C ä¸‹æ‰€æœ‰çš„æ–¹æ³•è°ƒç”¨éƒ½å¯ä»¥ç†è§£ä¸ºï¼Œæ¶ˆæ¯ã€‚ä¸€ä¸ªå¯¹è±¡æŽ¥æ”¶åˆ°æ¶ˆæ¯åŽï¼Œå¤„ç†æµç¨‹å¦‚ä¸‹ï¼š é€šè¿‡ NSObject çš„ isa æŒ‡é’ˆæ‰¾åˆ°å¯¹åº”çš„ Class åœ¨æ–¹æ³•ç¼“å­˜ä¸­æŸ¥æ‰¾ SEL åœ¨ Class çš„æ–¹æ³•åˆ—è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„ SEL å¦‚æžœæ²¡æœ‰ç»§ç»­å¾€çˆ¶ç±»ä¸­æ‰¾ åœ¨å¸¸è§„çš„æ“ä½œä¸­ï¼Œå¦‚æžœæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªæ²¡æœ‰å®žçŽ°çš„æ–¹æ³•æ—¶ï¼Œä¸€ç›´æ‰¾åˆ° root class æ—¶éƒ½æ²¡æ‰¾åˆ°æ–¹æ³•å®žçŽ°æ—¶ï¼Œå´©æºƒã€‚ é‚£ä¹ˆåœ¨æ²¡æœ‰æŸ¥åˆ°å®žçŽ°çš„æ–¹æ³•æ—¶ç³»ç»Ÿæ˜¯å¦åšäº†å…¶ä»–çš„æ“ä½œå‘¢ï¼Ÿæˆ–è€…æˆ‘ä»¬æœ‰ä»€ä¹ˆåŠžæ³•æ¥é˜²æ­¢ç¨‹åºå´©æºƒå— ï¼Ÿè¿™å°±æ˜¯æœ¬æ–‡çš„ä¸»é¢˜ æ¶ˆæ¯è½¬å‘æœºåˆ¶. å¦‚ä¸‹çš„æµç¨‹å›¾æ¸…æ™°çš„æè¿°äº†å…·ä½“è¿‡ç¨‹ã€‚ æ€»ç»“ä¸º 3 ä¸ªé˜¶æ®µå¯ä»¥è¡¥æ•‘ã€‚ ç¬¬ 1 ä¸ªé˜¶æ®µ - åŠ¨æ€æ–¹æ³•è§£æž åœ¨åŠ¨æ€æ–¹æ³•è§£æžé˜¶æ®µï¼Œåœ¨è¯¥é˜¶æ®µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€çš„ä¸ºç±»æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œä»Žè€Œè®©åŠ¨æ€æ·»åŠ çš„æ–¹æ³•æ¥å¤„ç†ä¹‹å‰æœªèƒ½å¤„ç†çš„æ¶ˆæ¯ï¼Œå…·ä½“æ˜¯åœ¨ä¸‹é¢çš„æ–¹æ³•ä¸­åŠ¨æ€æ·»åŠ æ–¹æ³•åŒä¸Šè¿”å›ž YESï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šé‡ç»™å¯¹è±¡å‘é€åˆšæ‰çš„æ¶ˆæ¯æ¥æ‰§è¡Œæ‰§è¡Œã€‚ 1234+ (BOOL)resolveInstanceMethod:(SEL)sel &#123; // åŠ¨æ€æ·»åŠ æ–¹æ³•&#125; ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324#import &lt;Foundation/Foundation.h&gt;#import &lt;objc/runtime.h&gt;void test1test1(id self, SEL _cmd) &#123; NSLog(@&quot;test1test1 %@ %@&quot;, NSStringFromSelector(_cmd) ,self);&#125;@interface BMPerson : NSObject- (void)test1;@end@implementation BMPerson+ (BOOL)resolveInstanceMethod:(SEL)sel &#123; NSLog(@&quot;%@&quot;, NSStringFromSelector(sel)); class_addMethod(BMPerson.class, NSSelectorFromString(@&quot;test1&quot;), (IMP) test1test1, NULL); return YES;&#125;@endint main(int argc, const char * argv[]) &#123; BMPerson *peron = BMPerson.new; [peron test1]; return 0;&#125; ç¬¬ 2 ä¸ªé˜¶æ®µ - è½¬å‘ åœ¨è¿™ä¸ªé˜¶æ®µç³»ç»Ÿæ˜¯è¦æ±‚æˆ‘ä»¬ç»™ä»–è¿”å›žä¸€ä¸ªå¯ä»¥æ­£å¸¸å“åº”æ¬¡æ¶ˆæ¯çš„å¯¹è±¡ï¼Œç³»ç»Ÿå°±ä¼šæŠŠåˆšæ‰çš„æ¶ˆæ¯è½¬å‘ç»™å¼€å‘è€…è¿”å›žçš„å¯¹è±¡ï¼Œè®©æ–°çš„å¯¹è±¡åŽ»æ¶ˆæ¯å“åº”çš„æ¶ˆæ¯ã€‚ 123- (id)forwardingTargetForSelector:(SEL)aSelector &#123; // ç„¶åŽå¯ä»¥å“åº”æ¶ˆæ¯çš„å¯¹è±¡&#125; ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627#import &lt;Foundation/Foundation.h&gt;@interface BMGood : NSObject@end@implementation BMGood- (void)test1 &#123; NSLog(@&quot;BMGood test1&quot;);&#125;@end@interface BMPerson : NSObject- (void)test1;@end@implementation BMPerson- (id)forwardingTargetForSelector:(SEL)aSelector &#123; return BMGood.new;&#125;@endint main(int argc, const char * argv[]) &#123; BMPerson *peron = BMPerson.new; [peron test1]; return 0;&#125; ç¬¬ 3 ä¸ªé˜¶æ®µ - è‡ªç”±æ´¾å‘ åœ¨è¿™ä¸ªé˜¶æ®µæ˜¯æœ€åŽä¸€æ¬¡æœºä¼šï¼Œä¹Ÿæ˜¯æœ€å¼ºå¤§çš„ä¸€æ­¥ï¼Œå› ä¸ºåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»»æ„çš„è½¬å‘ç»™å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸”å¯ä»¥è½¬å‘ç»™å¤šä¸ªå…¶ä»–å¯¹è±¡ï¼Œä»Žè€Œæˆ‘ä»¬å¯ä»¥ä¸º Objective-C å®žçŽ° å¤šé‡ç»§æ‰¿ åŠŸèƒ½ï¼Œå¦‚æŸä¸€ç§åŠ¨ç‰©ç»§æ‰¿äº†ðŸ±å’ŒðŸ¶ï¼Œåœ¨è¿™é‡Œå°±å¯ä»¥è½¬å‘ç»™ðŸ±å’ŒðŸ¶ï¼ŒåŒæ—¶æ‹¥æœ‰æŠ“è€é¼ å’Œçœ‹å®¶çš„åŠŸèƒ½ã€‚ 1234- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector &#123; // è¿”å›ž NSMethodSignature å¯¹è±¡&#125; ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#import &lt;Foundation/Foundation.h&gt;@interface BMGood : NSObject@end@implementation BMGood- (void)test1BMGood &#123; NSLog(@&quot;BMGood test1BMGood&quot;);&#125;@end@interface BMPerson : NSObject- (void)test1;@end@implementation BMPerson- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector &#123; NSLog(@&quot;%@&quot;, NSStringFromSelector(aSelector)); SEL selector = @selector(test1BMGood); // åˆ›å»ºNSMethodSignature BMGood *target = BMGood.new; NSMethodSignature *signature = [target methodSignatureForSelector:selector]; // åˆ›å»ºNSInvocation NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature]; // è®¾ç½®target invocation.target = target; // è®¾ç½®SEL invocation.selector = selector; // å¼€å§‹è°ƒç”¨ [invocation invoke]; return signature;&#125;- (void)forwardInvocation:(NSInvocation *)anInvocation &#123; NSLog(@&quot;%@&quot;, anInvocation);&#125;@endint main(int argc, const char * argv[]) &#123; BMPerson *peron = BMPerson.new; [peron test1]; return 0;&#125; å´©æºƒé˜¶æ®µ å¦‚æžœåœ¨ä¸Šé¢çš„ 3 æ­¥éƒ½æ²¡æŒ½æ•‘ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šè°ƒç”¨ doesNotRecognizeSelector æ–¹æ³•æ¥è¾“å‡ºå´©æºƒçš„æ—¥å¿—ä¿¡æ¯. ç®€å•æ€»ç»“ ç”±ä¸Šé¢çš„ç®€å•åˆ†æžï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨æ²¡æœ‰å®žçŽ°çš„æ–¹æ³•åˆ°å´©æºƒç»è¿‡äº† æ–¹æ³•æŸ¥æ‰¾ åŠ¨æ€æ–¹æ³•è§£æž è½¬å‘ è‡ªç”±æ´¾å‘ å´©æºƒ 5 ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ 2 3 4 ä¸­æ‹¦æˆªè¿™ä¸ªå´©æºƒçš„äº§ç”Ÿã€‚ å®Œæ•´DEMO]]></content>
  </entry>
  <entry>
    <title><![CDATA[JSPatchç®€å•åˆ†æž1]]></title>
    <url>%2F2018%2F10%2F19%2F2018%2FJSPatch%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%901%2F</url>
    <content type="text"><![CDATA[è¯´åœ¨å‰é¢ https://github.com/bang590/JSPatch JSPatch æ˜¯ä¸€ä¸ªåŸºäºŽ JavaScriptCore çš„å¼€æºé¡¹ç›®ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é‡Œå¼•å…¥æžå°çš„å¼•æ“Žæ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ JavaScript å®žæ—¶ä¿®å¤çº¿ä¸Š bugã€‚ JavaScriptCoreåˆæŽ¢ æœ¬æ®µå‚è€ƒæ¥è‡ª æ³¨ï¼šJavaScriptCore APIä¹Ÿå¯ä»¥ç”¨Swiftæ¥è°ƒç”¨ï¼Œæœ¬æ–‡ç”¨Objective-Cæ¥ä»‹ç»ã€‚ åœ¨iOS7ä¹‹å‰ï¼ŒåŽŸç”Ÿåº”ç”¨å’ŒWebåº”ç”¨ä¹‹é—´å¾ˆéš¾é€šä¿¡ã€‚å¦‚æžœä½ æƒ³åœ¨iOSè®¾å¤‡ä¸Šæ¸²æŸ“HTMLæˆ–è€…è¿è¡ŒJavaScriptï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨UIWebViewã€‚iOS7å¼•å…¥äº†JavaScriptCoreï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼Œä½¿ç”¨æ›´ç®€å•ã€‚ JavaScriptCoreæ˜¯å°è£…äº†JavaScriptå’ŒObjective-Cæ¡¥æŽ¥çš„Objective-C APIï¼Œåªè¦ç”¨å¾ˆå°‘çš„ä»£ç ï¼Œå°±å¯ä»¥åšåˆ°JavaScriptè°ƒç”¨Objective-Cï¼Œæˆ–è€…Objective-Cè°ƒç”¨JavaScriptã€‚ åœ¨ä¹‹å‰çš„iOSç‰ˆæœ¬ï¼Œä½ åªèƒ½é€šè¿‡å‘UIWebViewå‘é€stringByEvaluatingJavaScriptFromString:æ¶ˆæ¯æ¥æ‰§è¡Œä¸€æ®µJavaScriptè„šæœ¬ã€‚å¹¶ä¸”å¦‚æžœæƒ³ç”¨JavaScriptè°ƒç”¨Objective-Cï¼Œå¿…é¡»æ‰“å¼€ä¸€ä¸ªè‡ªå®šä¹‰çš„URLï¼ˆä¾‹å¦‚ï¼šfoo://ï¼‰ï¼Œç„¶åŽåœ¨UIWebViewçš„delegateæ–¹æ³•webView:shouldStartLoadWithRequest:navigationTypeä¸­è¿›è¡Œå¤„ç†ã€‚ ç„¶è€ŒçŽ°åœ¨å¯ä»¥åˆ©ç”¨JavaScriptCoreçš„å…ˆè¿›åŠŸèƒ½äº†ï¼Œå®ƒå¯ä»¥ï¼š è¿è¡ŒJavaScriptè„šæœ¬è€Œä¸éœ€è¦ä¾èµ–UIWebView ä½¿ç”¨çŽ°ä»£Objective-Cçš„è¯­æ³•ï¼ˆä¾‹å¦‚Blockså’Œä¸‹æ ‡ï¼‰ åœ¨Objective-Cå’ŒJavaScriptä¹‹é—´æ— ç¼çš„ä¼ é€’å€¼æˆ–è€…å¯¹è±¡ åˆ›å»ºæ··åˆå¯¹è±¡ï¼ˆåŽŸç”Ÿå¯¹è±¡å¯ä»¥å°†JavaScriptå€¼æˆ–å‡½æ•°ä½œä¸ºä¸€ä¸ªå±žæ€§ï¼‰ ä½¿ç”¨ JavaScriptCore åš JavaScript å’Œ OC ä¹‹é—´çš„ç›¸äº’è°ƒç”¨çš„2ä¸ªå°ä¾‹å­Objective-Cè°ƒç”¨JavaScript11234JSContext *context = [[JSContext alloc] init];NSString *str = @"(1*(2-2)+1)*5*8-2+9";JSValue *value = [context evaluateScript:str];NSLog(@"%@ = %@", str,value.toNumber); 2123456JSContext *context = [[JSContext alloc] init];NSString *jsfunc = @"function fac(n)&#123; return (n * 2);&#125;";[context evaluateScript:jsfunc];JSValue *func = context[@"fac"];JSValue *value1 = [func callWithArguments:@[@100]];NSLog(@"%@",value1.toNumber); JavaScriptè°ƒç”¨Objective-C1234567JSContext *context = [[JSContext alloc] init];[context evaluateScript:@"function printHello() &#123;print(\"Hello, World! æˆ‘åœ¨ JS ä¸­ æ¥çš„\");&#125;"];context[@"print"] = ^(NSString *text) &#123; NSLog(@"%@", text);&#125;;JSValue *function = context[@"printHello"];[function callWithArguments:@[]]; çŸ¥é“äº† JavaScriptCore çš„å¼ºå¤§ä¹‹å¤„ï¼Œåˆç”±äºŽ JavaScript æ˜¯è„šæœ¬è¯­è¨€åŒæ—¶ OC çš„åŠ¨æ€è¯­è¨€ï¼Œæ‰€ä»¥ JSPatch å°±è¯žç”Ÿäº†ã€‚ åŽŸç†åˆ†æž å‚è€ƒæ¥è‡ª JSPatch å®žçŽ°åŽŸç†è¯¦è§£ æˆ‘ä»¬ä»Ž JSPatch ä¾‹å­å¼€å§‹çœ‹ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬ä½¿ç”¨äº†ä¸‹é¢çš„ js æ¥åŠ¨æ€åˆ›å»ºä¸€ä¸ªview 1234require('UIView')var view = UIView.alloc().init()view.setBackgroundColor(require('UIColor').grayColor())view.setAlpha(0.5) å½“æˆ‘ä»¬åœ¨ oc ä¸­æ‰§è¡Œä¸Šé¢çš„ js æ—¶ï¼Œ require(â€˜UIViewâ€™) æ˜¯è°ƒç”¨ js ä¸­çš„ä¸€ä¸ªæ–¹æ³• 12345678var _require = function(clsName) &#123; if (!global[clsName]) &#123; global[clsName] = &#123; __clsName: clsName &#125; &#125; return global[clsName]&#125; var view = UIView.alloc().init() è¡¨ç¤ºä½¿ç”¨ UIView è°ƒç”¨ alloc init æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ js ä¸­å…¶å®žæ˜¯æ²¡æœ‰ è¿™2 ä¸ªæ–¹æ³•çš„ï¼Œä½†å¦‚æžœæ²¡æœ‰çš„è¯ä¼šæŠ¥é”™ï¼Œå¼€å‘è€…å¼€å§‹æƒ³çš„åŠžæ³•åŠ¨æ€ç»™ js æ·»åŠ ï¼Œå› ä¸º js å¯ä»¥éšæ—¶éšåœ°å¢žåŠ æ–¹æ³•ï¼Œä½†æ¯”è¾ƒç—›è‹¦ã€‚å› ä¸ºè¿™äº›æ–¹æ³•å…¶å®žæ˜¯æ¥è‡ªäºŽ oc ä¸­ éœ€è¦æˆ‘ä»¬åŽ»éåŽ† oc ã€‚ç”±äºŽ js æ²¡æœ‰æ–¹æ³•è½¬å‘çš„åŠŸèƒ½ï¼Œæœ€åŽç”¨äº†ä¸€ä¸ªç²¾å·§çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨æ¯ä¸€ä¸ª js å‘æ”¾è°ƒç”¨å‰å…ˆè°ƒä¸€ä¸ª js å·²ç»å®žçŽ°å¥½çš„æ–¹æ³• __cï¼ˆï¼‰ï¼Œå…¶å®žçŽ°å¦‚ä¸‹å›¾ã€‚åœ¨è¿™ä¸ªjsæ–¹æ³•ä¸­åšå¤„ç†ï¼ŒåŒæ—¶æƒ³åŠžæ³•å›žè°ƒåˆ° oc ä¸­åšåº”è¯¥åšçš„äº‹ã€‚ä½¿ç”¨ä¸Šé¢çš„ js å°±ä¼šæœ€åŽå›žè°ƒåˆ°å—oc ä¸­åˆ›å»ºä¸€ä¸ª view è®¾ç½®é¢œè‰²ç­‰ã€‚ åŠ¨æ·»åŠ  __c çš„è°ƒç”¨å¦‚ä¸‹ï¼š 1NSString *formatedScript = [NSString stringWithFormat:@";(function()&#123;try&#123;\n%@\n&#125;catch(e)&#123;_OC_catch(e.message, e.stack)&#125;&#125;)();", 123456789101112131415161718192021222324252627282930313233343536373839404142434445;(function()&#123;try&#123;defineClass('JPViewController', &#123; handleBtn: function(sender) &#123; var tableViewCtrl = JPTableViewController.__c("alloc")().__c("init")() self.__c("navigationController")().__c("pushViewController_animated")(tableViewCtrl, YES) &#125;&#125;)defineClass('JPTableViewController : UITableViewController &lt;UIAlertViewDelegate&gt;', ['data'], &#123; dataSource: function() &#123; var data = self.__c("data")(); if (data) return data; var data = []; for (var i = 0; i &lt; 20; i ++) &#123; data.__c("push")("cell from js " + i); &#125; self.__c("setData")(data) return data; &#125;, numberOfSectionsInTableView: function(tableView) &#123; return 1; &#125;, tableView_numberOfRowsInSection: function(tableView, section) &#123; return self.__c("dataSource")().length; &#125;, tableView_cellForRowAtIndexPath: function(tableView, indexPath) &#123; var cell = tableView.__c("dequeueReusableCellWithIdentifier")("cell") if (!cell) &#123; cell = require('UITableViewCell').__c("alloc")().__c("initWithStyle_reuseIdentifier")(0, "cell") &#125; cell.__c("textLabel")().__c("setText")(self.__c("dataSource")()[indexPath.__c("row")()]) return cell &#125;, tableView_heightForRowAtIndexPath: function(tableView, indexPath) &#123; return 60 &#125;, tableView_didSelectRowAtIndexPath: function(tableView, indexPath) &#123; var alertView = require('UIAlertView').__c("alloc")().__c("initWithTitle_message_delegate_cancelButtonTitle_otherButtonTitles")("Alert",self.__c("dataSource")()[indexPath.__c("row")()], self, "OK", null); alertView.__c("show")() &#125;, alertView_willDismissWithButtonIndex: function(alertView, idx) &#123; console.__c("log")('click btn ' + alertView.__c("buttonTitleAtIndex")(idx).__c("toJS")()) &#125;&#125;)&#125;catch(e)&#123;_OC_catch(e.message, e.stack)&#125;&#125;)(); 12345678910111213141516var _customMethods = &#123;__c: function(methodName) &#123; var slf = this if (slf instanceof Boolean) &#123; return function() &#123; return false &#125; &#125; if (slf[methodName]) &#123; return slf[methodName].bind(slf); &#125; if (!slf.__obj &amp;&amp; !slf.__clsName) &#123; throw new Error(slf + '.' + methodName + ' is undefined') &#125; JSPatch çš„æœ€åŸºæœ¬çš„æ“ä½œåº•å±‚åŽŸç†å°±æ˜¯ä¾é  js å’Œ oc çš„ç›¸äº’è°ƒç”¨æ¥å®žçŽ°çš„ï¼ŒåŒæ—¶ JavaScriptCore å¯ä»¥åšåˆ° oc å¯¹è±¡ åœ¨ oc å’Œ js ç»„ä»¶æ— ç¼ä¼ é€’ã€‚ ä¸‹é¢ç®€å•è¯´ä¸‹ JSPatch æ˜¯æ€Žä¹ˆæ ·åšåˆ°åŠ¨æ€æ·»åŠ æ–¹æ³• å’Œ äº¤æ¢æ–¹æ³•çš„ã€‚æˆ‘ä»¬ä½¿ç”¨ runtime æ¥æ·»åŠ æ–¹æ³• ä¸€èˆ¬æ˜¯æå‰å·²ç»æœ‰äº† Cå‡½æ•°çš„å®žçŽ°ï¼Œæˆ‘ä»¬åœ¨æ·»åŠ æ—¶ï¼Œè®© IMP æŒ‡å‘æˆ‘ä»¬çš„ cå‡½æ•°æŒ‡é’ˆå³å¯ï¼Œä½†æ˜¯ JSPatch æ˜¯å®Œå…¨åŠ¨æ€çš„æ·»åŠ ä»»ä½•ç±»åž‹çš„æ–¹æ³•ï¼Œæ€Žä¹ˆåšåˆ°å‘¢ï¼Ÿï¼Ÿ è‚¯å®šä¸å¯èƒ½æˆ‘ä»¬æå‰å°±å®žçŽ°å¥½äº† cå‡½æ•°ï¼Œè¿™é‡Œå¼€å‘è€…æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªé€šç”¨çš„ cå‡½æ•°æ¥å®žçŽ°è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ æ‰€æœ‰æ·»åŠ çš„æ–¹æ³• å…¶å®žéƒ½æ˜¯æ‰§è¡Œåˆ°äº†å†™æ­»çš„ cå‡½æ•°ä¸­ï¼Œcå‡½æ•°å¦‚ä¸‹ï¼Œå½“ç„¶åšäº†å„ç§çš„å‘å¤„ç†ï¼ŒåŒ…æ‹¬å„ç§å‚æ•°åŒ¹é…ï¼Œ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277static void JPForwardInvocation(__unsafe_unretained id assignSlf, SEL selector, NSInvocation *invocation)&#123; #ifdef DEBUG _JSLastCallStack = [NSThread callStackSymbols];#endif BOOL deallocFlag = NO; id slf = assignSlf; BOOL isBlock = [[assignSlf class] isSubclassOfClass : NSClassFromString(@"NSBlock")]; NSMethodSignature *methodSignature = [invocation methodSignature]; NSInteger numberOfArguments = [methodSignature numberOfArguments]; NSString *selectorName = isBlock ? @"" : NSStringFromSelector(invocation.selector); NSString *JPSelectorName = [NSString stringWithFormat:@"_JP%@", selectorName]; JSValue *jsFunc = isBlock ? objc_getAssociatedObject(assignSlf, "_JSValue")[@"cb"] : getJSFunctionInObjectHierachy(slf, JPSelectorName); if (!jsFunc) &#123; JPExecuteORIGForwardInvocation(slf, selector, invocation); return; &#125; NSMutableArray *argList = [[NSMutableArray alloc] init]; if (!isBlock) &#123; if ([slf class] == slf) &#123; [argList addObject:[JSValue valueWithObject:@&#123;@"__clsName": NSStringFromClass([slf class])&#125; inContext:_context]]; &#125; else if ([selectorName isEqualToString:@"dealloc"]) &#123; [argList addObject:[JPBoxing boxAssignObj:slf]]; deallocFlag = YES; &#125; else &#123; [argList addObject:[JPBoxing boxWeakObj:slf]]; &#125; &#125; for (NSUInteger i = isBlock ? 1 : 2; i &lt; numberOfArguments; i++) &#123; const char *argumentType = [methodSignature getArgumentTypeAtIndex:i]; switch(argumentType[0] == 'r' ? argumentType[1] : argumentType[0]) &#123; #define JP_FWD_ARG_CASE(_typeChar, _type) \ case _typeChar: &#123; \ _type arg; \ [invocation getArgument:&amp;arg atIndex:i]; \ [argList addObject:@(arg)]; \ break; \ &#125; JP_FWD_ARG_CASE('c', char) JP_FWD_ARG_CASE('C', unsigned char) JP_FWD_ARG_CASE('s', short) JP_FWD_ARG_CASE('S', unsigned short) JP_FWD_ARG_CASE('i', int) JP_FWD_ARG_CASE('I', unsigned int) JP_FWD_ARG_CASE('l', long) JP_FWD_ARG_CASE('L', unsigned long) JP_FWD_ARG_CASE('q', long long) JP_FWD_ARG_CASE('Q', unsigned long long) JP_FWD_ARG_CASE('f', float) JP_FWD_ARG_CASE('d', double) JP_FWD_ARG_CASE('B', BOOL) case '@': &#123; __unsafe_unretained id arg; [invocation getArgument:&amp;arg atIndex:i]; if ([arg isKindOfClass:NSClassFromString(@"NSBlock")]) &#123; [argList addObject:(arg ? [arg copy]: _nilObj)]; &#125; else &#123; [argList addObject:(arg ? arg: _nilObj)]; &#125; break; &#125; case '&#123;': &#123; NSString *typeString = extractStructName([NSString stringWithUTF8String:argumentType]); #define JP_FWD_ARG_STRUCT(_type, _transFunc) \ if ([typeString rangeOfString:@#_type].location != NSNotFound) &#123; \ _type arg; \ [invocation getArgument:&amp;arg atIndex:i]; \ [argList addObject:[JSValue _transFunc:arg inContext:_context]]; \ break; \ &#125; JP_FWD_ARG_STRUCT(CGRect, valueWithRect) JP_FWD_ARG_STRUCT(CGPoint, valueWithPoint) JP_FWD_ARG_STRUCT(CGSize, valueWithSize) JP_FWD_ARG_STRUCT(NSRange, valueWithRange) @synchronized (_context) &#123; NSDictionary *structDefine = _registeredStruct[typeString]; if (structDefine) &#123; size_t size = sizeOfStructTypes(structDefine[@"types"]); if (size) &#123; void *ret = malloc(size); [invocation getArgument:ret atIndex:i]; NSDictionary *dict = getDictOfStruct(ret, structDefine); [argList addObject:[JSValue valueWithObject:dict inContext:_context]]; free(ret); break; &#125; &#125; &#125; break; &#125; case ':': &#123; SEL selector; [invocation getArgument:&amp;selector atIndex:i]; NSString *selectorName = NSStringFromSelector(selector); [argList addObject:(selectorName ? selectorName: _nilObj)]; break; &#125; case '^': case '*': &#123; void *arg; [invocation getArgument:&amp;arg atIndex:i]; [argList addObject:[JPBoxing boxPointer:arg]]; break; &#125; case '#': &#123; Class arg; [invocation getArgument:&amp;arg atIndex:i]; [argList addObject:[JPBoxing boxClass:arg]]; break; &#125; default: &#123; NSLog(@"error type %s", argumentType); break; &#125; &#125; &#125; if (_currInvokeSuperClsName[selectorName]) &#123; Class cls = NSClassFromString(_currInvokeSuperClsName[selectorName]); NSString *tmpSelectorName = [[selectorName stringByReplacingOccurrencesOfString:@"_JPSUPER_" withString:@"_JP"] stringByReplacingOccurrencesOfString:@"SUPER_" withString:@"_JP"]; if (!_JSOverideMethods[cls][tmpSelectorName]) &#123; NSString *ORIGSelectorName = [selectorName stringByReplacingOccurrencesOfString:@"SUPER_" withString:@"ORIG"]; [argList removeObjectAtIndex:0]; id retObj = callSelector(_currInvokeSuperClsName[selectorName], ORIGSelectorName, [JSValue valueWithObject:argList inContext:_context], [JSValue valueWithObject:@&#123;@"__obj": slf, @"__realClsName": @""&#125; inContext:_context], NO); id __autoreleasing ret = formatJSToOC([JSValue valueWithObject:retObj inContext:_context]); [invocation setReturnValue:&amp;ret]; return; &#125; &#125; NSArray *params = _formatOCToJSList(argList); char returnType[255]; strcpy(returnType, [methodSignature methodReturnType]); // Restore the return type if (strcmp(returnType, @encode(JPDouble)) == 0) &#123; strcpy(returnType, @encode(double)); &#125; if (strcmp(returnType, @encode(JPFloat)) == 0) &#123; strcpy(returnType, @encode(float)); &#125; switch (returnType[0] == 'r' ? returnType[1] : returnType[0]) &#123; #define JP_FWD_RET_CALL_JS \ JSValue *jsval; \ [_JSMethodForwardCallLock lock]; \ jsval = [jsFunc callWithArguments:params]; \ [_JSMethodForwardCallLock unlock]; \ while (![jsval isNull] &amp;&amp; ![jsval isUndefined] &amp;&amp; [jsval hasProperty:@"__isPerformInOC"]) &#123; \ NSArray *args = nil; \ JSValue *cb = jsval[@"cb"]; \ if ([jsval hasProperty:@"sel"]) &#123; \ id callRet = callSelector(![jsval[@"clsName"] isUndefined] ? [jsval[@"clsName"] toString] : nil, [jsval[@"sel"] toString], jsval[@"args"], ![jsval[@"obj"] isUndefined] ? jsval[@"obj"] : nil, NO); \ args = @[[_context[@"_formatOCToJS"] callWithArguments:callRet ? @[callRet] : _formatOCToJSList(@[_nilObj])]]; \ &#125; \ [_JSMethodForwardCallLock lock]; \ jsval = [cb callWithArguments:args]; \ [_JSMethodForwardCallLock unlock]; \ &#125; #define JP_FWD_RET_CASE_RET(_typeChar, _type, _retCode) \ case _typeChar : &#123; \ JP_FWD_RET_CALL_JS \ _retCode \ [invocation setReturnValue:&amp;ret];\ break; \ &#125; #define JP_FWD_RET_CASE(_typeChar, _type, _typeSelector) \ JP_FWD_RET_CASE_RET(_typeChar, _type, _type ret = [[jsval toObject] _typeSelector];) \ #define JP_FWD_RET_CODE_ID \ id __autoreleasing ret = formatJSToOC(jsval); \ if (ret == _nilObj || \ ([ret isKindOfClass:[NSNumber class]] &amp;&amp; strcmp([ret objCType], "c") == 0 &amp;&amp; ![ret boolValue])) ret = nil; \ #define JP_FWD_RET_CODE_POINTER \ void *ret; \ id obj = formatJSToOC(jsval); \ if ([obj isKindOfClass:[JPBoxing class]]) &#123; \ ret = [((JPBoxing *)obj) unboxPointer]; \ &#125; #define JP_FWD_RET_CODE_CLASS \ Class ret; \ ret = formatJSToOC(jsval); #define JP_FWD_RET_CODE_SEL \ SEL ret; \ id obj = formatJSToOC(jsval); \ if ([obj isKindOfClass:[NSString class]]) &#123; \ ret = NSSelectorFromString(obj); \ &#125; JP_FWD_RET_CASE_RET('@', id, JP_FWD_RET_CODE_ID) JP_FWD_RET_CASE_RET('^', void*, JP_FWD_RET_CODE_POINTER) JP_FWD_RET_CASE_RET('*', void*, JP_FWD_RET_CODE_POINTER) JP_FWD_RET_CASE_RET('#', Class, JP_FWD_RET_CODE_CLASS) JP_FWD_RET_CASE_RET(':', SEL, JP_FWD_RET_CODE_SEL) JP_FWD_RET_CASE('c', char, charValue) JP_FWD_RET_CASE('C', unsigned char, unsignedCharValue) JP_FWD_RET_CASE('s', short, shortValue) JP_FWD_RET_CASE('S', unsigned short, unsignedShortValue) JP_FWD_RET_CASE('i', int, intValue) JP_FWD_RET_CASE('I', unsigned int, unsignedIntValue) JP_FWD_RET_CASE('l', long, longValue) JP_FWD_RET_CASE('L', unsigned long, unsignedLongValue) JP_FWD_RET_CASE('q', long long, longLongValue) JP_FWD_RET_CASE('Q', unsigned long long, unsignedLongLongValue) JP_FWD_RET_CASE('f', float, floatValue) JP_FWD_RET_CASE('d', double, doubleValue) JP_FWD_RET_CASE('B', BOOL, boolValue) case 'v': &#123; JP_FWD_RET_CALL_JS break; &#125; case '&#123;': &#123; NSString *typeString = extractStructName([NSString stringWithUTF8String:returnType]); #define JP_FWD_RET_STRUCT(_type, _funcSuffix) \ if ([typeString rangeOfString:@#_type].location != NSNotFound) &#123; \ JP_FWD_RET_CALL_JS \ _type ret = [jsval _funcSuffix]; \ [invocation setReturnValue:&amp;ret];\ break; \ &#125; JP_FWD_RET_STRUCT(CGRect, toRect) JP_FWD_RET_STRUCT(CGPoint, toPoint) JP_FWD_RET_STRUCT(CGSize, toSize) JP_FWD_RET_STRUCT(NSRange, toRange) @synchronized (_context) &#123; NSDictionary *structDefine = _registeredStruct[typeString]; if (structDefine) &#123; size_t size = sizeOfStructTypes(structDefine[@"types"]); JP_FWD_RET_CALL_JS void *ret = malloc(size); NSDictionary *dict = formatJSToOC(jsval); getStructDataWithDict(ret, dict, structDefine); [invocation setReturnValue:ret]; free(ret); &#125; &#125; break; &#125; default: &#123; break; &#125; &#125; if (_pointersToRelease) &#123; for (NSValue *val in _pointersToRelease) &#123; void *pointer = NULL; [val getValue:&amp;pointer]; CFRelease(pointer); &#125; _pointersToRelease = nil; &#125; if (deallocFlag) &#123; slf = nil; Class instClass = object_getClass(assignSlf); Method deallocMethod = class_getInstanceMethod(instClass, NSSelectorFromString(@"ORIGdealloc")); void (*originalDealloc)(__unsafe_unretained id, SEL) = (__typeof__(originalDealloc))method_getImplementation(deallocMethod); originalDealloc(assignSlf, NSSelectorFromString(@"dealloc")); &#125;&#125; å¹³å°ä½¿ç”¨ å¹³å°ä½¿ç”¨è¯´æ˜Ž å¦‚æžœä½¿ç”¨å…¶å¹³å°æ¥åšè¿˜æ˜¯ç®—ç®€å•çš„ï¼ŒåŸºæœ¬ä¸ç”¨åšå…¶ä»–é…ç½®ã€‚ é›†æˆ SDK ä¸€èˆ¬æƒ…å†µçš„SDKçš„ä½¿ç”¨å®Œå…¨æŒ‰ç…§æ–‡æ¡£åŸºæœ¬æ²¡æœ‰é—®é¢˜ åœ¨å¹³å°åˆ›å»º APP ä¸‹è½½SDKé›†æˆåˆ°é¡¹ç›®ä¸­ å·²ç»é›†æˆå®Œæ¯• åœ¨éœ€è¦ä¿®å¤ bug æ—¶ï¼Œå…ˆå†™å¥½ js è„šæœ¬ æœ¬åœ°æµ‹è¯• æµ‹è¯•æˆåŠŸåŽï¼ŒåŽ»å¹³å°ä¸‹å‘å³å¯ã€‚ å¹³å° SDK ä½¿ç”¨æ³¨æ„ç‚¹ï¼š è¡¥ä¸ç´¯è®¡ä¸è¦è¶…è¿‡ 1 ä¸ª æ¯ä¸€æ¬¡ App æ›´æ–°å¿…é¡»ä½¿ç”¨åŽŸç”Ÿæ¥å¤„ç†æŽ‰æ‰€æœ‰çš„è¡¥ä¸ï¼ŒåŒæ—¶éœ€è¦æ¸…é™¤ç›¸åº”çš„è¡¥ä¸ä¸‹è½½ã€‚ æ¯ä¸€æ¬¡ä¸‹å‘è¡¥ä¸éœ€ææœ¬åœ°æµ‹è¯• è‡ªå»ºå¹³å° è‡ªå»ºå¹³å°æ—¶éœ€è¦å¤„ç†çš„ä¸€äº›é—®é¢˜ æ‹·è´ä¸‹å®˜æ–¹çš„ä¸€ä¸ª DEMO æœ‰ä¸€ä¸ªæœ€ç®€å•çš„æŽ§åˆ¶å™¨ä¸Šæœ‰ä¸€ä¸ªæŒ‰é’®ï¼ŒçŽ°åœ¨æƒ³åŠ ç‚¹åŠŸèƒ½ï¼Œå°±æ˜¯åœ¨ç‚¹å‡»è¿™ä¸ªæŒ‰é’®æ—¶è·³è½¬åˆ°ä¸€ä¸ªæ–°ç•Œé¢ï¼Œæ–°çš„ç•Œé¢ä¸Šæœ‰ä¸€ä¸ª tableViewï¼ŒåŒæ—¶åšç›¸åº”çš„ç®€å•å±•ç¤ºã€ 123456789101112131415161718#import &quot;JPViewController.h&quot;@implementation JPViewController- (void)viewDidLoad &#123; [super viewDidLoad]; UIButton *btn = [[UIButton alloc] initWithFrame:CGRectMake(0, 100, [UIScreen mainScreen].bounds.size.width, 50)]; [btn setTitle:@&quot;Push JPTableViewController&quot; forState:UIControlStateNormal]; [btn addTarget:self action:@selector(handleBtn:) forControlEvents:UIControlEventTouchUpInside]; [btn setBackgroundColor:[UIColor grayColor]]; [self.view addSubview:btn];&#125;- (void)handleBtn:(id)sender&#123;&#125;@end é›†æˆé¡¹ç›® 1234[JPEngine startEngine];NSString *sourcePath = [[NSBundle mainBundle] pathForResource:@&quot;demo&quot; ofType:@&quot;js&quot;];NSString *script = [NSString stringWithContentsOfFile:sourcePath encoding:NSUTF8StringEncoding error:nil];[JPEngine evaluateScript:script]; JS è„šæœ¬å¦‚ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243defineClass(&apos;JPViewController&apos;, &#123; handleBtn: function(sender) &#123; var tableViewCtrl = JPTableViewController.alloc().init() self.navigationController().pushViewController_animated(tableViewCtrl, YES) &#125;&#125;)defineClass(&apos;JPTableViewController : UITableViewController &lt;UIAlertViewDelegate&gt;&apos;, [&apos;data&apos;], &#123; dataSource: function() &#123; var data = self.data(); if (data) return data; var data = []; for (var i = 0; i &lt; 20; i ++) &#123; data.push(&quot;cell from js &quot; + i); &#125; self.setData(data) return data; &#125;, numberOfSectionsInTableView: function(tableView) &#123; return 1; &#125;, tableView_numberOfRowsInSection: function(tableView, section) &#123; return self.dataSource().length; &#125;, tableView_cellForRowAtIndexPath: function(tableView, indexPath) &#123; var cell = tableView.dequeueReusableCellWithIdentifier(&quot;cell&quot;) if (!cell) &#123; cell = require(&apos;UITableViewCell&apos;).alloc().initWithStyle_reuseIdentifier(0, &quot;cell&quot;) &#125; cell.textLabel().setText(self.dataSource()[indexPath.row()]) return cell &#125;, tableView_heightForRowAtIndexPath: function(tableView, indexPath) &#123; return 60 &#125;, tableView_didSelectRowAtIndexPath: function(tableView, indexPath) &#123; var alertView = require(&apos;UIAlertView&apos;).alloc().initWithTitle_message_delegate_cancelButtonTitle_otherButtonTitles(&quot;Alert&quot;,self.dataSource()[indexPath.row()], self, &quot;OK&quot;, null); alertView.show() &#125;, alertView_willDismissWithButtonIndex: function(alertView, idx) &#123; console.log(&apos;click btn &apos; + alertView.buttonTitleAtIndex(idx).toJS()) &#125;&#125;)]]></content>
  </entry>
  <entry>
    <title><![CDATA[Swift ä¹‹ init æž„é€ æ–¹æ³•]]></title>
    <url>%2F2018%2F08%2F08%2F2018%2FSwift-%E4%B9%8B-init-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[åœ¨æˆ‘ä»¬åˆšåˆšæŽ¥è§¦ Swift æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ° init æž„é€ æ–¹æ³• çš„å„ç§å‘ï¼Œå„ç§æŠ¥é”™ï¼Œé‚£ä¹ˆ Apple ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿéš¾é“æ˜¯æ— èŠè™å¼€å‘è€…å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œå…¶å®žæˆ‘ä»¬åœ¨ä½¿ç”¨ Objective-C ç¼–ç æ—¶ï¼Œå¯¹äºŽæ–°æ‰‹æ¥è¯´å¤ªå¤šå‘äº†ï¼Œæ¯”å¦‚ï¼šåœ¨ init ä¸­è°ƒå„ç§æ–¹æ³•ï¼Œè®¿é—®å„ç§å±žæ€§ç­‰ï¼Œåœ¨ Objective-C ä¸­å…¶å®ž Apple æ˜¯ä¸æŽ¨èåœ¨ init ä¸­è®¿é—®å±žæ€§çš„ï¼Œå› ä¸ºæ­¤æ—¶å¯èƒ½éƒ¨åˆ†å±žæ€§æ ¹æœ¬æ²¡æœ‰åˆå§‹åŒ–ï¼Œå¯èƒ½å¯¼è‡´ä¸€ç³»åˆ—çš„é—®é¢˜å­˜åœ¨ã€‚åˆ°äº† Swift æ—¶ï¼ŒApple åšäº†å¼ºåˆ¶æŽªæ–½ï¼Œå½»åº•è§£å†³ç±»ä¼¼çš„é—®é¢˜ã€‚ Apple åœ¨ Swift ä¸­çš„ init æ–¹æ³•åšå„ç§é™åˆ¶çš„ç»ˆæžç›®æ ‡å°±æ˜¯ä¸ºäº† ä¿è¯ä½¿ç”¨è€…ä¸å…³ä½¿ç”¨ä»€ä¹ˆæ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œå‡ä¿è¯åœ¨åˆå§‹åŒ–å®Œæˆå‰æ‰€æœ‰çš„å±žæ€§éƒ½è¢«åˆå§‹åŒ–ï¼Œæ˜Žç™½è¿™ç›®çš„æ—¶ï¼Œå¯¹ Swift çš„ init å°±æ¯”è¾ƒå¥½ç†è§£äº†,å…·ä½“çš„å¯ä»¥å‚è€ƒä¸‹é¢çš„æ–‡ç« ï¼Œå°±ä¸å†ä¸€ä¸€åˆ†æžäº†å“ˆï¼Œé€ƒ. å‚è€ƒ http://swifter.tips/init-keywords/ https://www.jianshu.com/p/b1ab25ab00c1]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ­£ç¡®é«˜æ•ˆä½¿ç”¨ Google]]></title>
    <url>%2F2018%2F07%2F11%2F2018%2F%E6%AD%A3%E7%A1%AE%E9%AB%98%E6%95%88%E4%BD%BF%E7%94%A8-Google%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ æ–‡ç« æ¥è‡ª ä¸ƒå¹´å°±æ˜¯ä¸€è¾ˆå­-æŽç¬‘æ¥ ç ”ç©¶è¿™ä¸ªè¯ï¼Œåœ¨è‹±æ–‡ä¸­æ˜¯researchï¼Œæˆ‘æŠŠå®ƒç†è§£ä¸ºre-searchï¼Œå®žé™…ä¸Šå„ç§è¯­è¨€æ˜¯ç›¸é€šçš„ï¼Œæ‰€è°“re-searchå…¶å®žå°±æ˜¯â€œåå¤æœç´¢â€ï¼Œå°±æ˜¯â€œä¸Šä¸‹æ±‚ç´¢â€ï¼ˆè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ï¼‰ã€‚æ‰€ä»¥ï¼Œå¦‚æžœä½ æƒ³å­¦ç‚¹ä»€ä¹ˆï¼Œå°±è¦å–„äºŽæœç´¢ã€‚è€Œåœ¨è¿™ä¸ªæ—¶ä»£é‡Œï¼Œæœ€å¥½çš„æœç´¢å·¥å…·å°±æ˜¯ Googleã€‚ æœç´¢å¼•æ“Žä¹‹æ‰€ä»¥è¿·äººï¼Œå°±æ˜¯å› ä¸ºå®ƒå°±å¥½åƒæœ›è¿œé•œä¸€æ ·ï¼š èƒ½è®©ä½ çœ‹åˆ°ä½ åŽŸæœ¬å®Œå…¨çœ‹ä¸åˆ°çš„ä¸œè¥¿â€¦â€¦ äº’è”ç½‘å°±å¥½åƒé‚£æµ©ç€šçš„å®‡å®™ï¼Œé‡Œé¢å‡ ä¹Žä»€ä¹ˆéƒ½æœ‰ï¼Œåªè¦ä½ è‚¯ç”¨â€œæœ›è¿œé•œâ€åŽ»çœ‹ã€ç”¨æœç´¢å¼•æ“ŽåŽ»æœâ€¦â€¦ æœç´¢å¼•æ“Žæ˜¯å…¬å¼€çš„ï¼Œäººäººéƒ½å¯ä»¥ç”¨çš„ï¼Œå¯ååå¤§å¤šæ•°äººä¸ç”¨ã€ä¸ä¼šç”¨ï¼Œç”šè‡³é”™è¯¯åœ°ç”¨â€¦â€¦ äºŽæ˜¯äººä¸Žäººä¹‹é—´çš„å·®å¼‚å¤šäº†å¦å¤–ä¸€ä¸ªä¸æ–­å»¶å±•çš„ç»´åº¦ã€‚åœ¨è¿™ä¸ªç»´åº¦ä¸Šä½ ä¸å¦‚äººå®¶ä½ èƒ½æ€ªè°ï¼Ÿ æœ€çƒ‚çš„æé—®æ˜¯ï¼šâ€œæˆ‘è¿žä¸ä¸Š Google æ€Žä¹ˆåŠžå‘€ï¼Ÿâ€ ç­”æ¡ˆæ˜¯â€œè‡ªå·±æƒ³åŠžæ³•â€ â€”â€” å¦‚æžœä½ åœ¨ä¹Žï¼Œä½ å°±è‚¯èŠ±æ—¶é—´è‡ªå·±è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æžœä½ ä¸åœ¨ä¹Žï¼Œå°±ä¸ç”¨åœ¨ä¹Žäº†ã€‚ ä½¿ç”¨â€œæœ¬å°Šâ€æœ€å¥½ä½¿ç”¨ http://www.google.com/ncr NCR: No Country Redirectionï¼Œè€Œä¸æ˜¯http://www.google.com.hkï¼›æœ‰æ—¶ï¼Œç›´æŽ¥è¾“å…¥http://www.google.comä¹Ÿä¼šè¢«è‡ªåŠ¨è½¬åˆ°â€œæœ¬åœ°Googleâ€ï¼Œæ¯”å¦‚ï¼Œæˆ‘ç”¨æ—¥æœ¬çš„ VPNï¼Œæµè§ˆå™¨å°±ä¼šæŠŠæˆ‘è½¬åˆ°http://www.google.co.jpâ€¦â€¦ ä¼˜å…ˆä½¿ç”¨è‹±æ–‡å…³é”®å­—æœç´¢è¿™æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚åˆ«è¯´ä¸ä¼šè‹±æ–‡ï¼Œä¸ä¼šå°±å­¦ï¼Œæ²¡é‚£ä¹ˆéš¾ã€‚ åŸºæœ¬æŠ€å·§Google æœç´¢å¼•æ“Žä¹Ÿè®¸æ˜¯ä¸–ç•Œä¸Šæœ€ç®€å•çš„åº”ç”¨ç•Œé¢ï¼Œåªæœ‰ä¸€ä¸ªè¾“å…¥æ¡†å’Œä¸€ä¸ªæŒ‰é’®ã€‚ç„¶è€Œï¼Œç”¨å¥½å®ƒè¿˜æ˜¯éœ€è¦èŠ±ç‚¹æ—¶é—´åŽ»å­¦ä¹ çš„ã€‚Google æœ‰å¸®åŠ©æ–‡æ¡£ï¼Œè¿˜ä¸“é—¨è®¾è®¡äº†ä¸ªå­¦ä¹ ç½‘ç«™ A Google A Day åŠ å·åœ¨ Google çš„è¾“å…¥æ¡†é‡Œï¼Œæ‰€æœ‰çš„ç©ºæ ¼éƒ½è¢« Google ç†è§£ä¸ºåŠ å·+ã€‚å¦‚æžœä½ è¾“å…¥çš„æ˜¯ purpose of educationé‚£ä¹ˆ Google è¿”å›žçš„æ–‡ç« é‡Œæ—¢æœ‰â€œpurposeâ€å­˜åœ¨ï¼Œä¹Ÿæœ‰â€œeducationâ€å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šæœ‰â€œpurpose of educationâ€å­˜åœ¨ã€‚å¦å¤–ï¼Œè¿‡åˆ†å¸¸ç”¨çš„ã€å•ç‹¬å­˜åœ¨æ²¡æœ‰æ„ä¹‰çš„è¯æ±‡å¾€å¾€è¢«å¿½ç•¥æŽ‰ï¼Œæ¯”å¦‚å† è¯â€œaâ€ã€â€œtheâ€ï¼›ä»‹è¯â€œofâ€ã€â€œinâ€ã€â€œonâ€ã€â€œatâ€ã€â€œtoâ€ï¼›è¿žè¯â€œandâ€ã€â€œorâ€ã€â€œbutâ€ï¼›ä»Žå±žè¿žè¯â€œthatâ€ã€â€œwhichâ€ã€â€œwhenâ€ï¼›ä»£è¯â€œmyâ€ã€â€œhisâ€ã€â€œthemâ€ç­‰ç­‰ã€‚ å¼•å·å¦‚æžœä½ æƒ³è¦æ‰¾å«æœ‰â€œpurpose of educationâ€è¿™ä¸ªè¯ç»„çš„æ–‡ç« ï¼Œé‚£ä¹ˆä½ å¿…é¡»è¾“å…¥â€purpose of educationâ€ã€‚çŽ°åœ¨çš„ Google å·²ç»å¯ä»¥å¤„ç† utf-8 å¤§å­—ç¬¦é›†äº†ï¼Œæ‰€ä»¥ï¼Œå³ä¾¿ä½ åœ¨è¾“å…¥çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯å…¨è§’å­—ç¬¦ï¼ˆä¸æ˜¯åŠè§’å­—ç¬¦çš„â€è€Œæ˜¯â€œæˆ–è€…â€ï¼‰Googleä¹Ÿç…§æ ·èƒ½å¤Ÿæ­£ç¡®å¤„ç†ã€‚æ¯”è¾ƒä¸€ä¸‹ä¸¤ç§è¾“å…¥è¿”å›žçš„ç»“æžœï¼špurpose of education vs.â€œpurpose of educationâ€ã€‚å†è¯•è¯• the most important benefit of education å’Œ â€œthe most important benefit of educationâ€ã€‚è¿™å°±æ˜¯å¼•å·ï¼ˆâ€œâ€¦â€¦â€ï¼‰çš„ä½œç”¨â€”â€”è¿”å›žâ€œå®Œæ•´åŒ¹é…â€çš„ç»“æžœã€‚ å‡å·ä¸ºäº†è¿›ä¸€æ­¥ç­›é€‰æœç´¢ç»“æžœï¼Œè¿˜éœ€è¦å­¦ä¼šå¦å¤–ä¸€ä¸ªç¬¦å·â€”â€”å‡å·-ã€‚æ¯”å¦‚ï¼Œâ€œthe most important benefit of educationâ€ â€“ â€œunited statesâ€è¦æ±‚Googleè¿”å›žå«æœ‰â€œthe most important benefit of educationâ€ä½†ä¸å­˜åœ¨â€œunited statesâ€çš„æ–‡ç« ã€‚ æ˜Ÿå·å¦å¤–ä¸€ä¸ªå¨åŠ›æ— ç©·çš„ç¬¦å·æ˜¯æ˜Ÿå·ã€‚Google æ”¯æŒé€šé…ç¬¦æœç´¢ï¼Œå³æœç´¢å­—ç¬¦ä¸²ä¸­å¯ä»¥åŒ…å«æ˜Ÿå·ï¼Œç”¨æ¥æ›¿ä»£ä»»æ„å­—ç¬¦ä¸²ã€‚æ¯”å¦‚ï¼Œâ€œthe most * examples of censorshipâ€å°†ä¼šè¿”å›žå«æœ‰ç±»ä¼¼â€œthe most outrageous examples of censorshipâ€ã€â€œthe most brazen examples of censorshipâ€ã€â€œthe most heinous examples of censorshipâ€ã€â€œthe most stupidest examples of censorshipâ€ã€â€œthe most dangerous examples of censorshipâ€ã€â€œthe most egregious examples of censorshipâ€ã€â€œthe most prolific examples of censorshipâ€ã€â€œthe most absurd examples of censorshipâ€â€¦â€¦ æ³¢æµªå·è¿˜æœ‰ä¸€ä¸ªè¿ç”¨ç›¸å½“çµæ´»ã€ç»å¸¸å¸¦æ¥æ„å¤–æ”¶èŽ·çš„ç¬¦å·æ˜¯æ³¢æµªå·~ã€‚æŠŠæ³¢æµªå·~åŠ åœ¨æŸä¸ªå•è¯å‰é¢ï¼Œæ˜¯åœ¨å‘Šè¯‰ Googleï¼šé™¤äº†ç»™å‡ºçš„å…³é”®å­—ä¹‹å¤–ï¼Œè¿˜è¦æœç´¢ä¸Žæ³¢æµªå·~åŽé¢çš„é‚£ä¸ªå•è¯ç›¸å…³çš„è¯æ±‡ã€‚æ¯”å¦‚ï¼Œæœç´¢the importance of ~censorshipçš„ç»“æžœä¸­åŒ…å«ç€â€œthe importance of censorshipâ€ï¼Œä¹ŸåŒ…å«ç€ä¸Žcensorshipç›¸å…³çš„å¦å¤–ä¸€ä¸ªè¯æ±‡â€œpropagandaâ€â€”â€”â€œthe importance of propagandaâ€ã€‚ é«˜çº§æŠ€å·§ç«™å†…æœç´¢å†å­¦ä¸€ä¸ªåœ¨æŒ‡å®šç½‘ç«™ä¸­æœç´¢çš„è¯­æ³•â€œsite:â€ã€‚æ¯”å¦‚ï¼Œâ€œthe purpose of educationâ€ site:http://www.time.com/å°±æ˜¯è¦æ±‚ Google åªè¿”å›ž http://www.time.com è¿™ä¸ªç½‘ç«™é‡Œçš„å«æœ‰â€œthe purpose of educationâ€çš„æ–‡ç« ã€‚ å®šåˆ¶æœç´¢2006å¹´ï¼ŒGoogle æŽ¨å‡ºäº†â€œco-opâ€æœåŠ¡ï¼ˆè‡ªå®šä¹‰æœç´¢å¼•æ“Žï¼‰ã€‚å…¶ä¸­æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯å¯ä»¥æŒ‡å®š Google æœç´¢ä¸€ä¸ªæˆ–è€…è‹¥å¹²ä¸ªæŒ‡å®šçš„ç½‘ç«™â€”â€”ç›¸å½“äºŽå‰é¢æåˆ°çš„ Google è¯­æ³•â€œsite:â€çš„æ‰©å±•ã€‚æ¯”å¦‚ï¼Œæˆ‘å°±æ›¾ç»ä¸ºæˆ‘çš„å­¦ç”Ÿå®šåˆ¶äº†ä¸€ä¸ª Google cseï¼ˆCustom Search Engineï¼‰â€”â€”Search News Mediaã€‚ä¸å¦¨çœ‹çœ‹åœ¨è¿™ä¸ªè‡ªå®šä¹‰æœç´¢å¼•æ“Žä¸Šæœç´¢censorshipè¿”å›žçš„ç»“æžœï¼ˆGRE/SAT çš„ä½œæ–‡è€ƒè¯•ä¸­ï¼Œéƒ½æœ‰å¾ˆå¤šå…³äºŽâ€œcensorshipâ€çš„ä½œæ–‡é¢˜ï¼‰ã€‚è¿™ä¸ª cse åªæœç´¢ä»¥ä¸‹10ä¸ªç½‘ç«™ï¼š http://www.economist.com/ http://www.cnn.com/ http://www.time.com/ http://nytimes.com/ http://www.washingtonpost.com/ http://www.usnews.com/ http://usatoday.com/ http://www.reuters.com/ http://www.bbc.co.uk/ http://en.wikinews.org/ ç‰¹åˆ«å£°æ˜Ž æ–‡ç« æ¥è‡ª ä¸ƒå¹´å°±æ˜¯ä¸€è¾ˆå­-æŽç¬‘æ¥]]></content>
      <categories>
        <category>æ•ˆçŽ‡</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - ä¸­å›½æ•™è‚²é—®é¢˜çš„æ ¹æºåœ¨äºŽå¤§å­¦è€Œä¸åœ¨é«˜ä¸­]]></title>
    <url>%2F2018%2F06%2F25%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-%E4%B8%AD%E5%9B%BD%E6%95%99%E8%82%B2%E9%97%AE%E9%A2%98%E7%9A%84%E6%A0%B9%E6%BA%90%E5%9C%A8%E4%BA%8E%E5%A4%A7%E5%AD%A6%E8%80%8C%E4%B8%8D%E5%9C%A8%E9%AB%98%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[æ–‡ç« è½¬è½½è‡ª https://mp.weixin.qq.com/s/PJc-EPoYWCiIK06zngWBCwï¼Œç‰¹åˆ«æŽ¨èå¤§å®¶å…³æ³¨æ­¤å…¬ä¼—å·ã€‚]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[CSS å…¥é—¨ä¹‹ä¸€]]></title>
    <url>%2F2018%2F06%2F13%2F2018%2FCSS-%E5%85%A5%E9%97%A8%E4%B9%8B%E4%B8%80%2F</url>
    <content type="text"><![CDATA[CSSå¸ƒå±€å…¥é—¨ä¹‹ä¸€flex display: flex; é˜®ä¸€å³° - Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡ é˜®ä¸€å³° - Flex å¸ƒå±€æ•™ç¨‹ï¼šå®žä¾‹ç¯‡ mozilla.org - ä½¿ç”¨ CSS å¼¹æ€§ç›’å­ å®¹å™¨çš„å±žæ€§ flex-direction ä¸»è½´æ–¹å‘ rowï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å·¦ç«¯ã€‚ row-reverseï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å³ç«¯ã€‚ columnï¼šä¸»è½´ä¸ºåž‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸Šæ²¿ã€‚ column-reverseï¼šä¸»è½´ä¸ºåž‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸‹æ²¿ã€‚ flex-wrap æ¢è¡Œæ ·å¼ ï¼ˆ1ï¼‰nowrapï¼ˆé»˜è®¤ï¼‰ï¼šä¸æ¢è¡Œã€‚ ï¼ˆ2ï¼‰wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹ã€‚ ï¼ˆ3ï¼‰wrap-reverseï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹ã€‚ flex-flow flex-direction å’Œ flex-wrap ç®€å†™æ–¹å¼ é»˜è®¤å€¼ä¸ºrow nowrap justify-content ä¸»è½´å¯¹é½æ–¹å¼ flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå·¦å¯¹é½ flex-endï¼šå³å¯¹é½ centerï¼š å±…ä¸­ space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ã€‚ space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸Žè¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚ align-items äº¤å‰è½´/ä¾§è½´ å¯¹é½æ–¹å¼ flex-startï¼šäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚ flex-endï¼šäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚ centerï¼šäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚ baseline: é¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚ stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå¦‚æžœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸ºautoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ã€‚ align-content å¤šè½´çº¿æ—¶,ä¸€èˆ¬æ˜¯å¤šæ¡äº¤å‰è½´æ—¶ï¼Œå¤šè¡Œé¡¹ç›®å°±æœ‰å¤šæ¡äº¤å‰è½´çº¿ç›¸å½“äºŽäº¤å‰è½´çš„å¯¹é½æ–¹å¼ æ˜¯å¯¹å…¨éƒ¨çš„é¡¹ç›®çš„å¯¹é½æ–¹å¼ã€‚ flex-startï¼šä¸Žäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚ flex-endï¼šä¸Žäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚ centerï¼šä¸Žäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚ space-betweenï¼šä¸Žäº¤å‰è½´ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”å¹³å‡åˆ†å¸ƒã€‚ space-aroundï¼šæ¯æ ¹è½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”æ¯”è½´çº¿ä¸Žè¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚ stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šè½´çº¿å æ»¡æ•´ä¸ªäº¤å‰è½´ã€‚ é¡¹ç›®çš„å±žæ€§ order orderå±žæ€§å®šä¹‰é¡¹ç›®çš„æŽ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼ŒæŽ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0 flex-growå±žæ€§ flex-growå±žæ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æžœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚ å¦‚æžœæ‰€æœ‰é¡¹ç›®çš„flex-growå±žæ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æžœæœ‰çš„è¯ï¼‰ã€‚ å¦‚æžœä¸€ä¸ªé¡¹ç›®çš„flex-growå±žæ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚ flex-shrinkå±žæ€§ flex-shrinkå±žæ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æžœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚ å¦‚æžœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkå±žæ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚ å¦‚æžœä¸€ä¸ªé¡¹ç›®çš„flex-shrinkå±žæ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚ è´Ÿå€¼å¯¹è¯¥å±žæ€§æ— æ•ˆã€‚ flex-basiså±žæ€§ (å¾…ç†è§£) flex-basiså±žæ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰ã€‚ æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±žæ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚ å®ƒå¯ä»¥è®¾ä¸ºè·Ÿwidthæˆ–heightå±žæ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ã€‚ flexå±žæ€§ flexå±žæ€§æ˜¯flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚åŽä¸¤ä¸ªå±žæ€§å¯é€‰ã€‚ .item { flex: none | [ &lt;&apos;flex-grow&apos;&gt; &lt;&apos;flex-shrink&apos;&gt;? || &lt;&apos;flex-basis&apos;&gt; ] } è¯¥å±žæ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto (1 1 auto) å’Œ none (0 0 auto)ã€‚ å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±žæ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±žæ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæŽ¨ç®—ç›¸å…³å€¼ã€‚ align-selfå±žæ€§ align-selfå±žæ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸Žå…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±žæ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±žæ€§ï¼Œå¦‚æžœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºŽstretchã€‚ .item { align-self: auto | flex-start | flex-end | center | baseline | stretch; } è¯¥å±žæ€§å¯èƒ½å–6ä¸ªå€¼ï¼Œé™¤äº†autoï¼Œå…¶ä»–éƒ½ä¸Žalign-itemså±žæ€§å®Œå…¨ä¸€è‡´ã€‚ position å®šä½http://www.runoob.com/css/css-padding.html position ä½ç½®çš„æ„æ€ï¼Œ position: static é»˜è®¤ï¼Œ ä¸ä¼šè¢«å®šä½ï¼Œç”±ä¸Šä¸‹æ–‡è‡ªåŠ¨ç¡®å®šå…¶ä½ç½® position: absolute ç»å¯¹å®šä½ï¼Œå‘ä¸Šæ‰¾åˆ°ç¬¬ä¸€ä¸ª position ä¸º relative çš„æ ‡ç­¾ä¸ºå‚è€ƒï¼Œå¯ä»¥ä½¿ç”¨ top left right bottom ç­‰å±žæ€§ position: relative ç›¸å¯¹å®šä½ï¼Œä»¥è‡ªå·±ä¸ºå‚è€ƒ position: fixed å›ºå®šå®šä½ ä¸€äº›å®žä¾‹å•è¡Œæ–‡æœ¬æ¡†åž‚ç›´å±…ä¸­ å¯ä»¥æŠŠå…¶ [è¡Œé«˜ line-height ] è®¾ç½®ä¸ºæ ‡ç­¾é«˜åº¦å³å¯ line-height: height; å¤šè¡Œæ–‡æœ¬æ¡†åž‚ç›´å±…ä¸­ å¯ä»¥ä½¿ç”¨ table å’Œ table-cell å‚è€ƒ https://www.cnblogs.com/xiaofeixiang/p/5005587.html?utm_source=tuicool&amp;utm_medium=referral CSSæ ·å¼ç±»åž‹ æ ‡ç­¾ ç±» id é€šé…æ ·å¼ äº¤é›† å¹¶é›† å­å¸¦ åŽå¸¦]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆ iOS äº‹ä»¶çš„ä¼ é€’å’Œå“åº”è¿‡ç¨‹]]></title>
    <url>%2F2018%2F06%2F08%2F2018%2F%E6%B5%85%E8%B0%88-iOS-%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BC%A0%E9%80%92%E5%92%8C%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[é—®é¢˜ iOS ä¸­ View çš„äº‹ä»¶åˆ°åº•æ˜¯æ€Žä¹ˆä¼ é€’å’Œå“åº”çš„ï¼Ÿ ä¸ºä»€ä¹ˆ çˆ¶View å…³é—­äº†äº‹ä»¶å“åº”æ—¶ï¼Œå­View å°±æ— æ³•å“åº”äº‹ä»¶ï¼Ÿ åº•å±‚åŽŸç†ï¼Ÿ å¦‚ä½•æ‰©å¤§ Button çš„ç‚¹å‡»èŒƒå›´ ï¼Ÿ å¦‚ä½•è®© çˆ¶View å’Œ å­View åŒæ—¶å“åº”åŒä¸€äº‹ä»¶ï¼Ÿé»˜è®¤æƒ…å†µä¸‹åªä¼šå“åº” å­View çš„äº‹ä»¶å›žè°ƒã€‚ ä¸ºä»€ä¹ˆ å­View å…³é—­äº†äº‹ä»¶ï¼Œä½†å…¶ çˆ¶View å¼€å¯äº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡» å­View æ—¶ï¼Œçˆ¶View å¯ä»¥æ­£å¸¸å“åº”äº‹ä»¶ï¼Ÿ ä¸ºä»€ä¹ˆ å­View æ˜¯ UIViewæ—¶ï¼Œå¦‚æžœæ²¡æœ‰æ·»åŠ æ‰‹åŠ¿ï¼Œç‚¹å‡»å­ Viewæ—¶ï¼Œä¼šç”±å…¶çˆ¶Viewæ¥å“åº”ï¼Œè€Œ å­View æ˜¯ UIControl æ—¶ï¼Œå­View æ²¡æœ‰æ·»åŠ æ‰‹åŠ¿ï¼Œä¸€æ ·ä¸ä¼šç”± çˆ¶View æ¥å“åº” â€¦ åˆ†æž iOS çš„äº‹ä»¶å¯ä»¥åˆ†ä¸ºä¸‰ç§ Touch Events(è§¦æ‘¸äº‹ä»¶) Motion Events(è¿åŠ¨äº‹ä»¶ï¼Œæ¯”å¦‚é‡åŠ›æ„Ÿåº”å’Œæ‘‡ä¸€æ‘‡ç­‰) Remote Events(è¿œç¨‹äº‹ä»¶ï¼Œæ¯”å¦‚ç”¨è€³æœºä¸Šå¾—æŒ‰é”®æ¥æŽ§åˆ¶æ‰‹æœº) ä¸‹é¢ä¸»è¦è®²è§£ Touch Events(è§¦æ‘¸äº‹ä»¶) Touch Eventsäº‹ä»¶çš„æ•´ä¸ªè¿‡ç¨‹å¯ä»¥åˆ†ä¸º ä¼ é€’å’Œå“åº” 2 ä¸ªé˜¶æ®µï¼Œ ä¼ é€’ï¼š æ˜¯å½“æˆ‘ä»¬è§¦æ‘¸å±å¹•æ—¶ï¼Œä¸ºæˆ‘ä»¬æ‰¾å‡ºæœ€é€‚åˆçš„ Viewï¼Œ å“åº”ï¼š å½“æˆ‘ä»¬æ‰¾å‡ºæœ€é€‚åˆçš„ View åŽï¼Œæ­¤æ—¶åªæ˜¯æ‰¾åˆ°äº†æœ€åˆé€‚çš„ Viewï¼Œä½†æœªå¿… æ­¤ View å¯ä»¥å“åº”æ­¤äº‹ä»¶ï¼Œæ‰€ä»¥éœ€è¦ç»§ç»­æ‰¾å‡ºèƒ½å“åº”æ­¤äº‹ä»¶çš„ Viewã€‚ ä¼ é€’è¿‡ç¨‹ æ¯å½“æ‰‹æŒ‡æŽ¥è§¦å±å¹•ï¼Œæ“ä½œç³»ç»Ÿä¼šæŠŠäº‹ä»¶ä¼ é€’ç»™å½“å‰çš„ Appï¼Œ åœ¨ UIApplicationæŽ¥æ”¶åˆ°æ‰‹æŒ‡çš„äº‹ä»¶ä¹‹åŽï¼Œå°±ä¼šåŽ»è°ƒç”¨`UIWindowçš„hitTest:withEvent:ï¼Œçœ‹çœ‹å½“å‰ç‚¹å‡»çš„ç‚¹æ˜¯ä¸æ˜¯åœ¨windowå†…ï¼Œå¦‚æžœæ˜¯åˆ™ç»§ç»­ä¾æ¬¡è°ƒç”¨å…¶ subViewçš„hitTest:withEvent:æ–¹æ³•ï¼Œç›´åˆ°æ‰¾åˆ°æœ€åŽéœ€è¦çš„viewã€‚è°ƒç”¨ç»“æŸå¹¶ä¸”hit-test viewç¡®å®šä¹‹åŽï¼Œä¾¿å¯ä»¥ç¡®å®šæœ€åˆé€‚çš„ Viewã€‚ å¼•ç”¨å‡ å¼ å›¾æ¥è¯´æ˜Ž å›¾ç‰‡è¡¨ç¤ºçš„å†…å®¹å¯ç”¨ä¸‹é¢çš„è¯æè¿°æ¥è‡ªè¿™é‡Œ é€’å½’æ˜¯å‘ç•Œé¢çš„æ ¹èŠ‚ç‚¹UIWindowå‘é€hitTest:withEvent:æ¶ˆæ¯å¼€å§‹çš„ï¼Œä»Žè¿™ä¸ªæ¶ˆæ¯è¿”å›žçš„æ˜¯ä¸€ä¸ªUIViewï¼Œä¹Ÿå°±æ˜¯æ‰‹æŒ‡å½“å‰ä½ç½®æœ€å‰é¢çš„é‚£ä¸ª hittest viewã€‚ å½“å‘UIWindowå‘é€hitTest:withEvent:æ¶ˆæ¯æ—¶ï¼ŒhitTest:withEvent:é‡Œé¢æ‰€åšçš„äº‹ï¼Œå°±æ˜¯åˆ¤æ–­å½“å‰çš„ç‚¹å‡»ä½ç½®æ˜¯å¦åœ¨windowé‡Œé¢ï¼Œå¦‚æžœåœ¨åˆ™éåŽ†windowçš„subviewç„¶åŽä¾æ¬¡å¯¹subviewå‘é€hitTest:withEvent:æ¶ˆæ¯(æ³¨æ„è¿™é‡Œç»™subviewå‘é€æ¶ˆæ¯æ˜¯æ ¹æ®å½“å‰subviewçš„indexé¡ºåºï¼Œindexè¶Šå¤§å°±è¶Šå…ˆè¢«è®¿é—®)ã€‚å¦‚æžœå½“å‰çš„pointæ²¡æœ‰åœ¨viewä¸Šé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªviewçš„subviewä¹Ÿå°±ä¸ä¼šè¢«éåŽ†äº†ã€‚å½“äº‹ä»¶éåŽ†åˆ°äº†view B.1ï¼Œå‘çŽ°pointåœ¨view B.1é‡Œé¢ï¼Œå¹¶ä¸”view B.1æ²¡æœ‰subviewï¼Œé‚£ä¹ˆä»–å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„hittest viewäº†ï¼Œæ‰¾åˆ°ä¹‹åŽå°±ä¼šä¸€è·¯è¿”å›žç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œè€Œview Bä¹‹åŽçš„view Aä¹Ÿä¸ä¼šè¢«éåŽ†äº†ã€‚ ä¸‹é¢æ˜¯ - (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event æ–¹æ³•çš„å†…éƒ¨å®žçŽ° 1234567891011121314 - (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event&#123; if (self.hidden || !self.userInteractionEnabled || self.alpha &lt; 0.01 || ![self pointInside:point withEvent:event] || ![self _isAnimatedUserInteractionEnabled]) &#123; return nil; &#125; else &#123; for (UIView *subview in [self.subviews reverseObjectEnumerator]) &#123; UIView *hitView = [subview hitTest:[subview convertPoint:point fromView:self] withEvent:event]; if (hitView) &#123; return hitView; &#125; &#125; return self; &#125;&#125; ä¸Šé¢çš„ä»£ç æ¥è‡ªè¿™é‡Œ å“åº”è¿‡ç¨‹ ä¸ªäººå¯¹å“åº”è¿‡ç¨‹çš„ç†è§£å¦‚ä¸‹ï¼š å½“æˆ‘ä»¬çŸ¥é“æœ€åˆé€‚çš„ View åŽï¼Œäº‹ä»¶ä¼š ç”±ä¸Šå‘ä¸‹ã€å­view -&gt; çˆ¶viewï¼ŒæŽ§åˆ¶å™¨view -&gt; æŽ§åˆ¶å™¨ã€‘æ¥æ‰¾å‡ºåˆé€‚å“åº”äº‹ä»¶çš„ Viewï¼Œæ¥å“åº”ç›¸å…³çš„äº‹ä»¶ã€‚å¦‚æžœå½“å‰çš„ View æœ‰æ·»åŠ æ‰‹åŠ¿ï¼Œé‚£ä¹ˆç›´æŽ¥å“åº”ç›¸åº”çš„äº‹ä»¶ï¼Œä¸ä¼šç»§ç»­å‘ä¸‹å¯»æ‰¾äº†ï¼Œå¦‚æžœæ²¡æœ‰æ‰‹åŠ¿äº‹ä»¶ï¼Œé‚£ä¹ˆä¼šçœ‹å…¶æ˜¯å¦å®žçŽ°äº†å¦‚ä¸‹çš„æ–¹æ³•ï¼š 1234- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event;- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event;- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event;- (void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event; å¦‚æžœæœ‰å®žçŽ°é‚£ä¹ˆå°±ç”±æ­¤ View å“åº”ï¼Œå¦‚æžœæ²¡æœ‰å®žçŽ°ï¼Œé‚£ä¹ˆå°±ä¼šä¼ é€’ç»™ä»–çš„ä¸‹ä¸€ä¸ªå“åº”è€…ã€å­view -&gt; çˆ¶viewï¼ŒæŽ§åˆ¶å™¨view -&gt; æŽ§åˆ¶å™¨ã€‘ï¼Œ è¿™é‡Œæˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªç®€å•çš„éªŒè¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ UIView æ˜¯ä¸å“åº”äº‹ä»¶çš„ï¼ŒUIControl å°±ç®—æ²¡æœ‰æ·»åŠ æ‰‹åŠ¿ä¸€æ ·çš„ä¼šç”±ä»–æ¥å“åº”ï¼Œ è¿™é‡Œå¯ä»¥ä½¿ç”¨ runtimeæŸ¥çœ‹ UIView å’Œ UIControl çš„æ–¹æ³•åˆ—è¡¨ï¼Œ æˆ– æŸ¥çœ‹ UIKit æºç  å¯çŸ¥ï¼Œ UIView æ²¡æœ‰å®žçŽ°å¦‚ä¸Šçš„ touchesBeganæ–¹æ³•ï¼Œè€Œ UIControl æ˜¯å®žçŽ°äº†å¦‚ä¸Šçš„ç›¸å…³æ–¹æ³•ï¼Œæ‰€ä»¥éªŒè¯äº†åˆšæ‰çš„ UIView ä¸å“åº”ï¼Œå’Œ UIControl çš„å“åº”ã€‚ä¸€æ—¦æ‰¾åˆ°æœ€åˆé€‚å“åº”çš„Viewå°±ç»“æŸ, åœ¨æ‰§è¡Œå“åº”çš„ç»‘å®šçš„äº‹ä»¶ï¼Œå¦‚æžœæ²¡æœ‰å°±æŠ›å¼ƒæ­¤äº‹ä»¶ã€‚ æˆ‘çš„éªŒè¯ é¦–å…ˆå¤„ç†æ·»åŠ äº†æ‰‹åŠ¿æ—¶ï¼Œå…¶ä¾¿å¯ä»¥å¤„ç†äº‹ä»¶ã€‚ æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªview A åœ¨ A ä¸­æ·»åŠ ä¸€ä¸ª view B, å¦‚æžœæˆ‘ä»¬ç»™ A åŠ äº†æ‰‹åŠ¿ï¼ŒBæ²¡æœ‰åŠ æ‰‹åŠ¿ï¼Œ æˆ‘ä»¬åœ¨ç‚¹å‡» B æ—¶ï¼Œä¼šå“åº” A çš„äº‹ä»¶ï¼Œéžå¸¸æ­£å¸¸çš„æƒ…å†µï¼Œé‚£ä¹ˆå®ƒæ˜¯æ€Žä¹ˆåˆ¤æ–­ B æ˜¯å¦å¯ä»¥å¤„ç†çš„å‘¢ï¼Ÿ æˆ‘ä»¬çŽ°åœ¨ç»™ B åŠ ä¸€ä¸ªæ‰‹åŠ¿ï¼Œé‚£ä¹ˆåŒæ ·çš„æ“ä½œæ—¶ä¼šè§¦å‘ B çš„æ‰‹åŠ¿ï¼ŒçŽ°åœ¨æˆ‘ä»¬ ç»™ B å¢žåŠ ä¸€ä¸ªæ–¹æ³•ï¼Œ @implementation BMSonView - (NSArray&lt;UIGestureRecognizer *&gt; *)gestureRecognizers { NSLog(@"%@", self); return @[]; } æ‰‹åŠ¿è¿”å›ž @[]ï¼Œæ­¤æ—¶ç‚¹å‡» B åªä¼šè§¦å‘ A çš„äº‹ä»¶ï¼Œç”±æ­¤å¯ä»¥è¯´æ˜Žåœ¨åˆ¤æ–­ view æ˜¯å¦å¯ä»¥å¤„ç†äº‹ä»¶å®žçŽ°æ˜¯åˆ¤æ–­ gestureRecognizers å³æ˜¯å¦æ·»åŠ äº†æ‰‹åŠ¿ï¼Œä¸Šé¢æåˆ°äº†è¿˜æœ‰åˆ¤æ–­å¦‚ä¸‹çš„æ–¹æ³•æ˜¯å¦å®žçŽ°äº†,é»˜è®¤æƒ…å†µä¸‹ UIView æ˜¯æ²¡æœ‰å®žçŽ°å¦‚ä¸‹çš„æ–¹æ³•çš„ï¼Œä½¿ç”¨åœ¨æ²¡æœ‰æ·»åŠ æ‰‹åŠ¿æ—¶ä»–ä¸å“åº”äº‹ä»¶ã€‚ - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event; - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event; - (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event; - (void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event; å¦‚æžœæˆ‘ä»¬æ‰‹åŠ¨å®žçŽ°äº†å¦‚ä¸Šçš„æ–¹æ³•æ—¶ï¼Œå°±ç®—æ²¡æœ‰ç»™ B æ·»åŠ æ‰‹åŠ¿ï¼Œç‚¹å‡» B æ—¶ï¼Œ äº‹ä»¶ä¸ä¼šå“åº” A çš„æ–¹æ³•ï¼Œä¼šåˆ°ä¸Šé¢çš„æ–¹æ³•ä¸­ã€‚ä»Ž UIControl çš„æºç ä¾¿å¯æ¸…é™¤çœ‹åˆ°ã€‚ æ‰€ä»¥ä¸ªäººç†è§£ï¼š äº‹ä»¶åœ¨ä¼ é€’æ—¶å’Œä¸Šé¢çš„ hit æ–¹æ³•æœ‰å…³ï¼Œä¸€å±‚å±‚å‘ä¸Šä¼ é€’ï¼Œã€çª—å£â€”&gt; viewã€‘ç”±å…¶ç›¸åº”çš„ view ä¸­å…·ä½“çš„å®žçŽ°æ¥ç¡®å®šè°æ‰æ˜¯æ˜¯æœ€åˆé€‚å“åº”çš„view åœ¨å“åº”æ—¶ï¼Œåˆä¸Šå‘ä¸‹æ‰¾å‡ºç¬¬ä¸€ä¸ªèƒ½å¤„ç†çš„viewæ¥å¤„ç†äº‹ä»¶ï¼Œ[view â€”&gt; çª—å£]ï¼Œåœ¨å¯»æ‰¾åˆšè¿‡ç¨‹ä¸­ ä¼šåˆ¤æ–­æ˜¯å¦å¢žåŠ äº†æ‰‹åŠ¿ å’Œæ˜¯å¦å®žçŽ°äº†å¦‚ä¸Šçš„ è§¦æ‘¸æ–¹æ³•ã€‚ è‡³äºŽ UIControl Button çš„ç‰¹æ®Šäº‹ä»¶ç›¸åº”ï¼Œä¸ªäººè®¤ä¸ºæ˜¯åœ¨å…¶mæ–‡ä»¶ä¸­å®žçŽ°äº†ä¸Šé¢çš„4ä¸ªæ–¹æ³•ï¼Œåœ¨è¿™4ä¸ªæ–¹æ³•ä¸­åšäº†ç›¸å…³çš„å¤„ç†ï¼Œè¿™é‡Œå¯ä»¥ä»Ž UIControl ä»£ç ä¸­åœ¨çŸ¥é“ä¸€äº›å†…å®¹ã€‚ æ‰€ä»¥å¦‚æžœæƒ³è‡ªå·±å®žçŽ° UIControl Button ï¼Œé¦–å…ˆè¦æƒ³åŠžæ³•å¤„ç†å¥½ä¸Šé¢çš„4ä¸ªæ–¹æ³•ã€‚ å›¾å¦‚ä¸‹ é—®é¢˜è§£ç­” iOS ä¸­ View çš„äº‹ä»¶åˆ°åº•æ˜¯æ€Žä¹ˆä¼ é€’å’Œå“åº”çš„ï¼Ÿ å¦‚ä¸Šæ‰€æã€‚ ä¸ºä»€ä¹ˆ çˆ¶View å…³é—­äº†äº‹ä»¶å“åº”æ—¶ï¼Œå­View å°±æ— æ³•å“åº”äº‹ä»¶ï¼Ÿ å› ä¸ºåœ¨äº‹ä»¶ä¼ é€’çš„æ—¶ï¼Œå…ˆåˆ°çˆ¶viewï¼Œå½“çˆ¶viewæ— æ³•å“åº”äº‹ï¼Œç›´æŽ¥å°±è·³è¿‡äº†éåŽ†å…¶å­viewï¼Œæ•…åªè¦çˆ¶ç±»å…³é—­äº†äº‹ä»¶ï¼Œå­ view å°±å·²ç»æ²¡æœ‰æœºä¼šå“åº”äº‹ä»¶äº†ã€‚ å¦‚ä½•æ‰©å¤§ Button çš„ç‚¹å‡»èŒƒå›´ï¼Ÿ æ‰©å¤§ç‚¹å‡»èŒƒå›´ï¼Œæ— éžå°±æ˜¯æƒ³æœ¬æ¥æ²¡æœ‰ç‚¹å‡» btn ä½†æƒ³è®© btn å“åº”äº‹ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ hitTest æ–¹æ³•ä¸­åšé€‚å½“çš„æ“ä½œï¼Œå½“æ»¡è¶³xxxæ¡ä»¶æ—¶ï¼Œå¼ºè¡Œè¿”å›ž btn æ¥è¾¾åˆ°æœ€ä½³ç‚¹å‡»èŒƒå›´çš„æ•ˆæžœï¼Œç›¸å…³çš„å®žçŽ°å¯ä»¥è‡ªè¡Œ Google ï¼Œæœ‰ä¸€äº›è¾ƒä¼˜é›…è€Œç®€æ´çš„æ–¹å¼ã€‚ å¦‚ä½•è®© çˆ¶View å’Œ å­View åŒæ—¶å“åº”åŒä¸€äº‹ä»¶ï¼Ÿ çˆ¶View å’Œ å­ViewåŒæ—¶å“åº”åŒä¸€äº‹ä»¶ï¼Œé»˜è®¤å½“ç‚¹å‡»å­viewæ—¶ï¼Œå¦‚æžœziviewå¯ä»¥å¤„ç†äº‹ä»¶ï¼Œé‚£ä¹ˆå…¶ä»–çˆ¶view æ˜¯ä¸ä¼šå“åº”çš„ï¼Œä½†æ˜¯åœ¨ çˆ¶view ä¼ åˆ° å­view æ—¶æˆ‘ä»¬åœ¨ hitTest æ–¹æ³•ä¸­æ˜¯æ¸…æ¥šçŸ¥é“çš„ï¼Œä½¿ç”¨å¯ä»¥åœ¨è¿™é‡Œåšç›¸å…³çš„æ“ä½œä¾¿å®žçŽ°äº†å­view å’Œçˆ¶view åŒæ—¶å“åº”äº‹ä»¶çš„æ•ˆæžœã€‚ ä¸ºä»€ä¹ˆå­View å…³é—­äº†äº‹ä»¶ï¼Œä½†å…¶ çˆ¶View å¼€å¯äº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡» å­View æ—¶ï¼Œçˆ¶View å¯ä»¥å“åº”äº‹ä»¶ï¼Ÿ å­viewå…³é—­äº†äº‹ä»¶ï¼Œäº‹ä»¶çš„ä¼ é€’æ˜¯ çˆ¶view åˆ°å­viewï¼Œåœ¨ çˆ¶viewæ—¶ï¼Œçˆ¶viewå¯ä»¥å“åº”ï¼Œé‚£ä¹ˆä¼šç»§ç»­è®¿é—®å…¶ å­viewæ˜¯å¦å¯ä»¥å“åº”ï¼Œå¦‚æžœæ­¤æ—¶å­viewä¸å¯ä»¥å“åº”ï¼Œé‚£ä¹ˆä»–ä¼šç›´æŽ¥è¿”å›ž çˆ¶viewï¼Œæ‰€ä»¥ å­View å…³é—­äº†äº‹ä»¶ çˆ¶View æ­£å¸¸æ‰§è¡Œäº‹ä»¶æ˜¯å¿…ç„¶çš„ã€‚ ä¸ºä»€ä¹ˆ å­View æ˜¯ UIViewæ—¶ï¼Œå¦‚æžœæ²¡æœ‰æ·»åŠ æ‰‹åŠ¿ï¼Œç‚¹å‡»å­ Viewæ—¶ï¼Œä¼šç”±å…¶çˆ¶Viewæ¥å“åº”ï¼Œè€Œ å­View æ˜¯ UIControl æ—¶ï¼Œå­View æ²¡æœ‰æ·»åŠ æ‰‹åŠ¿ï¼Œä¸€æ ·ä¸ä¼šç”± çˆ¶View æ¥å“åº” è¿™ä¸ªé—®é¢˜å¯ä»¥è§ä¸Šé¢çš„å¯»æ‰¾å¯ä»¥å“åº”çš„ view æ¥è§£å†³ï¼ŒUIControl å®žçŽ°äº†å¦‚ä¸Šçš„ 4 å¤§æ–¹æ³•ï¼Œè€Œ UIView æ²¡æœ‰å®žçŽ°ã€‚ è¿™é‡Œå…¶å®žè¿˜æœ‰è®¸å¤šå†…å®¹å¾…æŒ–æŽ˜ï¼Œæ¯”å¦‚ï¼šscrollview çš„äº‹ä»¶å“åº”ç­‰ã€‚ å‚è€ƒèµ„æ–™ http://smnh.me/hit-testing-in-ios/ https://zhoon.github.io/ios/2015/04/12/ios-event.html http://southpeak.github.io/blog/2015/03/07/uiresponder/ https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIScrollView_Class/index.html#//apple_ref/doc/uid/TP40006922 https://developer.apple.com/library/ios/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/event_delivery_responder_chain/event_delivery_responder_chain.html https://developer.apple.com/library/ios/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/GestureRecognizer_basics/GestureRecognizer_basics.html#//apple_ref/doc/uid/TP40009541-CH2-SW2 https://developer.apple.com/library/ios/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/GestureRecognizer_basics/GestureRecognizer_basics.html#//apple_ref/doc/uid/TP40009541-CH2-SW2]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - ä¼˜åŒ– iOS ç¨‹åºæ€§èƒ½çš„ 24 ä¸ªæ–¹æ³•]]></title>
    <url>%2F2018%2F05%2F23%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-%E4%BC%98%E5%8C%96-iOS-%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD%E7%9A%84-24-%E4%B8%AA%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç”¨ARCç®¡ç†å†…å­˜ è½¬è‡ª http://www.codeceo.com/article/optimize-ios-program-performance.html ARC(Automatic ReferenceCounting, è‡ªåŠ¨å¼•ç”¨è®¡æ•°)å’ŒiOS5ä¸€èµ·å‘å¸ƒï¼Œå®ƒé¿å…äº†æœ€å¸¸è§çš„ä¹Ÿå°±æ˜¯ç»å¸¸æ˜¯ç”±äºŽæˆ‘ä»¬å¿˜è®°é‡Šæ”¾å†…å­˜æ‰€é€ æˆçš„å†…å­˜æ³„éœ²ã€‚å®ƒè‡ªåŠ¨ä¸ºä½ ç®¡ç†retainå’Œreleaseçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ä½ å°±ä¸å¿…åŽ»æ‰‹åŠ¨å¹²é¢„äº†ã€‚å¿˜æŽ‰ä»£ç æ®µç»“å°¾çš„releaseç®€ç›´åƒè®°å¾—åƒé¥­ä¸€æ ·ç®€å•ã€‚è€ŒARCä¼šè‡ªåŠ¨åœ¨åº•å±‚ä¸ºä½ åšè¿™äº›å·¥ä½œã€‚é™¤äº†å¸®ä½ é¿å…å†…å­˜æ³„éœ²ï¼ŒARCè¿˜å¯ä»¥å¸®ä½ æé«˜æ€§èƒ½ï¼Œå®ƒèƒ½ä¿è¯é‡Šæ”¾æŽ‰ä¸å†éœ€è¦çš„å¯¹è±¡çš„å†…å­˜ã€‚ çŽ°åœ¨æ‰€æœ‰çš„iOSç¨‹åºéƒ½ç”¨ARCäº†ï¼Œè¿™æ¡å¯ä»¥å¿½ç•¥ã€‚ åœ¨æ­£ç¡®çš„åœ°æ–¹ä½¿ç”¨ reuseIdentifier ä¸€ä¸ªå¼€å‘ä¸­å¸¸è§çš„é”™è¯¯å°±æ˜¯æ²¡æœ‰ç»™UITableViewCellsï¼Œ UICollectionViewCellsï¼Œç”šè‡³æ˜¯UITableViewHeaderFooterViewsè®¾ç½®æ­£ç¡®çš„reuseIdentifierã€‚ ä¸ºäº†æ€§èƒ½æœ€ä¼˜åŒ–ï¼Œtable viewç”¨tableView:cellForRowAtIndexPath:ä¸ºrowsåˆ†é…cellsçš„æ—¶å€™ï¼Œå®ƒçš„æ•°æ®åº”è¯¥é‡ç”¨è‡ªUITableViewCellã€‚ä¸€ä¸ªtable viewç»´æŒä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®å¯é‡ç”¨çš„UITableViewCellå¯¹è±¡ã€‚ ä¸ä½¿ç”¨reuseIdentifierçš„è¯ï¼Œæ¯æ˜¾ç¤ºä¸€è¡Œtable viewå°±ä¸å¾—ä¸è®¾ç½®å…¨æ–°çš„cellã€‚è¿™å¯¹æ€§èƒ½çš„å½±å“å¯æ˜¯ç›¸å½“å¤§çš„ï¼Œå°¤å…¶ä¼šä½¿appçš„æ»šåŠ¨ä½“éªŒå¤§æ‰“æŠ˜æ‰£ã€‚ è‡ªiOS6èµ·ï¼Œé™¤äº†UICollectionViewçš„cellså’Œè¡¥å……viewsï¼Œä½ ä¹Ÿåº”è¯¥åœ¨headerå’Œfooter viewsä¸­ä½¿ç”¨reuseIdentifiersã€‚ æƒ³è¦ä½¿ç”¨reuseIdentifiersçš„è¯ï¼Œåœ¨ä¸€ä¸ªtable viewä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„cellæ—¶åœ¨data source objectä¸­æ·»åŠ è¿™ä¸ªæ–¹æ³•ï¼š staticNSString *CellIdentifier = @&quot;Cell&quot;; UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath]; è¿™ä¸ªæ–¹æ³•æŠŠé‚£äº›å·²ç»å­˜åœ¨çš„cellä»Žé˜Ÿåˆ—ä¸­æŽ’é™¤ï¼Œæˆ–è€…åœ¨å¿…è¦æ—¶ä½¿ç”¨å…ˆå‰æ³¨å†Œçš„nibæˆ–è€…classåˆ›é€ æ–°çš„cellã€‚å¦‚æžœæ²¡æœ‰å¯é‡ç”¨çš„cellï¼Œä½ ä¹Ÿæ²¡æœ‰æ³¨å†Œä¸€ä¸ªclassæˆ–è€…nibçš„è¯ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›žnilã€‚ å°½é‡æŠŠviewsè®¾ç½®ä¸ºé€æ˜Ž å¦‚æžœä½ æœ‰é€æ˜Žçš„Viewsä½ åº”è¯¥è®¾ç½®å®ƒä»¬çš„opaqueå±žæ€§ä¸ºYESã€‚ åŽŸå› æ˜¯è¿™ä¼šä½¿ç³»ç»Ÿç”¨ä¸€ä¸ªæœ€ä¼˜çš„æ–¹å¼æ¸²æŸ“è¿™äº›viewsã€‚è¿™ä¸ªç®€å•çš„å±žæ€§åœ¨IBæˆ–è€…ä»£ç é‡Œéƒ½å¯ä»¥è®¾å®šã€‚ Appleçš„æ–‡æ¡£å¯¹äºŽä¸ºå›¾ç‰‡è®¾ç½®é€æ˜Žå±žæ€§çš„æè¿°æ˜¯ï¼š (opaque)è¿™ä¸ªå±žæ€§ç»™æ¸²æŸ“ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå¦‚ä½•å¤„ç†è¿™ä¸ªviewçš„æç¤ºã€‚å¦‚æžœè®¾ä¸ºYESï¼Œæ¸²æŸ“ç³»ç»Ÿå°±è®¤ä¸ºè¿™ä¸ªviewæ˜¯å®Œå…¨ä¸é€æ˜Žçš„ï¼Œè¿™ä½¿å¾—æ¸²æŸ“ç³»ç»Ÿä¼˜åŒ–ä¸€äº›æ¸²æŸ“è¿‡ç¨‹å’Œæé«˜æ€§èƒ½ã€‚å¦‚æžœè®¾ç½®ä¸ºNOï¼Œæ¸²æŸ“ç³»ç»Ÿæ­£å¸¸åœ°å’Œå…¶å®ƒå†…å®¹ç»„æˆè¿™ä¸ªViewã€‚é»˜è®¤å€¼æ˜¯YESã€‚ åœ¨ç›¸å¯¹æ¯”è¾ƒé™æ­¢çš„ç”»é¢ä¸­ï¼Œè®¾ç½®è¿™ä¸ªå±žæ€§ä¸ä¼šæœ‰å¤ªå¤§å½±å“ã€‚ç„¶è€Œå½“è¿™ä¸ªviewåµŒåœ¨scroll viewé‡Œè¾¹ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå¤æ‚åŠ¨ç”»çš„ä¸€éƒ¨åˆ†ï¼Œä¸è®¾ç½®è¿™ä¸ªå±žæ€§çš„è¯ä¼šåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“appçš„æ€§èƒ½ã€‚ ä½ å¯ä»¥åœ¨æ¨¡æ‹Ÿå™¨ä¸­ç”¨Debug\Color Blended Layersé€‰é¡¹æ¥å‘çŽ°å“ªäº›viewæ²¡æœ‰è¢«è®¾ç½®ä¸ºopaqueã€‚ç›®æ ‡å°±æ˜¯ï¼Œèƒ½è®¾ä¸ºopaqueçš„å°±å…¨è®¾ä¸ºopaque! è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œåªè¦æ˜¯æœ‰ä¸­æ–‡å­—ç¬¦çš„Labelï¼Œå“ªæ€•ä½ è®¾ç½®æˆä¸é€æ˜Žï¼Œæ¨¡æ‹Ÿå™¨ä¸­è¿™ä¸ªLabelä¾ç„¶ä¼šå˜çº¢ï¼Œè¿™ä¸ªçŒœæµ‹æ˜¯å­—ç¬¦ç»˜åˆ¶çš„æ—¶å€™å‡ºçš„é—®é¢˜ï¼Œè¿™ä¸ªç›®å‰æ²¡æ‰¾åˆ°å¥½çš„è§£å†³æ–¹æ³•ã€‚ é¿å…è¿‡äºŽåºžå¤§çš„XIB iOS5ä¸­åŠ å…¥çš„Storyboards(åˆ†é•œ)æ­£åœ¨å¿«é€Ÿå–ä»£XIBã€‚ç„¶è€ŒXIBåœ¨ä¸€äº›åœºæ™¯ä¸­ä»ç„¶å¾ˆæœ‰ç”¨ã€‚æ¯”å¦‚ä½ çš„appéœ€è¦é€‚åº”iOS5ä¹‹å‰çš„è®¾å¤‡ï¼Œæˆ–è€…ä½ æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„å¯é‡ç”¨çš„view,ä½ å°±ä¸å¯é¿å…åœ°è¦ç”¨åˆ°ä»–ä»¬ã€‚ å¦‚æžœä½ ä¸å¾—ä¸XIBçš„è¯ï¼Œä½¿ä»–ä»¬å°½é‡ç®€å•ã€‚å°è¯•ä¸ºæ¯ä¸ªControlleré…ç½®ä¸€ä¸ªå•ç‹¬çš„XIBï¼Œå°½å¯èƒ½æŠŠä¸€ä¸ªView Controllerçš„viewå±‚æ¬¡ç»“æž„åˆ†æ•£åˆ°å•ç‹¬çš„XIBä¸­åŽ»ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½ åŠ è½½ä¸€ä¸ªXIBçš„æ—¶å€™æ‰€æœ‰å†…å®¹éƒ½è¢«æ”¾åœ¨äº†å†…å­˜é‡Œï¼ŒåŒ…æ‹¬ä»»ä½•å›¾ç‰‡ã€‚å¦‚æžœæœ‰ä¸€ä¸ªä¸ä¼šå³åˆ»ç”¨åˆ°çš„viewï¼Œä½ è¿™å°±æ˜¯åœ¨æµªè´¹å®è´µçš„å†…å­˜èµ„æºäº†ã€‚Storyboardså°±æ˜¯å¦ä¸€ç äº‹å„¿äº†ï¼Œstoryboardä»…åœ¨éœ€è¦æ—¶å®žä¾‹åŒ–ä¸€ä¸ªview controller. å½“å®¶åœ¨XIBæ˜¯ï¼Œæ‰€æœ‰å›¾ç‰‡éƒ½è¢«chacheï¼Œå¦‚æžœä½ åœ¨åšOS Xå¼€å‘çš„è¯ï¼Œå£°éŸ³æ–‡ä»¶ä¹Ÿæ˜¯ã€‚Appleåœ¨ç›¸å…³æ–‡æ¡£ä¸­çš„è®°è¿°æ˜¯ï¼š å½“ä½ åŠ è½½ä¸€ä¸ªå¼•ç”¨äº†å›¾ç‰‡æˆ–è€…å£°éŸ³èµ„æºçš„nibæ—¶ï¼ŒnibåŠ è½½ä»£ç ä¼šæŠŠå›¾ç‰‡å’Œå£°éŸ³æ–‡ä»¶å†™è¿›å†…å­˜ã€‚åœ¨OS Xä¸­ï¼Œå›¾ç‰‡å’Œå£°éŸ³èµ„æºè¢«ç¼“å­˜åœ¨named cacheä¸­ä»¥ä¾¿å°†æ¥ç”¨åˆ°æ—¶èŽ·å–ã€‚åœ¨iOSä¸­ï¼Œä»…å›¾ç‰‡èµ„æºä¼šè¢«å­˜è¿›named cachesã€‚å–å†³äºŽä½ æ‰€åœ¨çš„å¹³å°ï¼Œä½¿ç”¨NSImage æˆ–UIImageçš„imageNamed:æ–¹æ³•æ¥èŽ·å–å›¾ç‰‡èµ„æºã€‚ è¿™ä¸ªé—®é¢˜æˆ‘æ·±æœ‰ä½“ä¼šï¼Œç”¨xibå†™çš„ç•Œé¢åŠ è½½é€Ÿåº¦æ¯”ç›´æŽ¥ç”¨ä»£ç å†™çš„è¦æ…¢å¥½å¤šã€‚ ä¸è¦é˜»å¡žä¸»çº¿ç¨‹ æ°¸è¿œä¸è¦ä½¿ä¸»çº¿ç¨‹æ‰¿æ‹…è¿‡å¤šã€‚å› ä¸ºUIKitåœ¨ä¸»çº¿ç¨‹ä¸Šåšæ‰€æœ‰å·¥ä½œï¼Œæ¸²æŸ“ï¼Œç®¡ç†è§¦æ‘¸ååº”ï¼Œå›žåº”è¾“å…¥ç­‰éƒ½éœ€è¦åœ¨å®ƒä¸Šé¢å®Œæˆã€‚ ä¸€ç›´ä½¿ç”¨ä¸»çº¿ç¨‹çš„é£Žé™©å°±æ˜¯å¦‚æžœä½ çš„ä»£ç çœŸçš„blockäº†ä¸»çº¿ç¨‹ï¼Œä½ çš„appä¼šå¤±åŽ»ååº”ã€‚ å¤§éƒ¨åˆ†é˜»ç¢ä¸»è¿›ç¨‹çš„æƒ…å½¢æ˜¯ä½ çš„appåœ¨åšä¸€äº›ç‰µæ¶‰åˆ°è¯»å†™å¤–éƒ¨èµ„æºçš„I/Oæ“ä½œï¼Œæ¯”å¦‚å­˜å‚¨æˆ–è€…ç½‘ç»œã€‚ ä½ å¯ä»¥ä½¿ç”¨NSURLConnectionå¼‚æ­¥åœ°åšç½‘ç»œæ“ä½œ: + (void)sendAsynchronousRequest:(NSURLRequest *)request queue:(NSOperationQueue*)queue completionHandler:(void (^)(NSURLResponse*, NSData*, NSError*))handler æˆ–è€…ä½¿ç”¨åƒAFNetworkingè¿™æ ·çš„æ¡†æž¶æ¥å¼‚æ­¥åœ°åšè¿™äº›æ“ä½œã€‚ å¦‚æžœä½ éœ€è¦åšå…¶å®ƒç±»åž‹çš„éœ€è¦è€—è´¹å·¨å¤§èµ„æºçš„æ“ä½œ(æ¯”å¦‚æ—¶é—´æ•æ„Ÿçš„è®¡ç®—æˆ–è€…å­˜å‚¨è¯»å†™)é‚£å°±ç”¨ Grand Central Dispatchï¼Œæˆ–è€…&gt;NSOperationå’Œ NSOperationQueues. ä¸‹é¢ä»£ç æ˜¯ä½¿ç”¨GCDçš„æ¨¡æ¿ dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ // switch to a background thread and perform your expensive operation dispatch_async(dispatch_get_main_queue(), ^{ // switch back to the main thread to update your UI }); }); å‘çŽ°ä»£ç ä¸­æœ‰ä¸€ä¸ªåµŒå¥—çš„dispatch_asyncå—ï¼Ÿè¿™æ˜¯å› ä¸ºä»»ä½•UIKitç›¸å…³çš„ä»£ç éœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸Šè¿›è¡Œã€‚ åœ¨Image Viewsä¸­è°ƒæ•´å›¾ç‰‡å¤§å° å¦‚æžœè¦åœ¨UIImageViewä¸­æ˜¾ç¤ºä¸€ä¸ªæ¥è‡ªbundleçš„å›¾ç‰‡ï¼Œä½ åº”ä¿è¯å›¾ç‰‡çš„å¤§å°å’ŒUIImageViewçš„å¤§å°ç›¸åŒã€‚åœ¨è¿è¡Œä¸­ç¼©æ”¾å›¾ç‰‡æ˜¯å¾ˆè€—è´¹èµ„æºçš„ï¼Œç‰¹åˆ«æ˜¯UIImageViewåµŒå¥—åœ¨UIScrollViewä¸­çš„æƒ…å†µä¸‹ã€‚ å¦‚æžœå›¾ç‰‡æ˜¯ä»Žè¿œç«¯æœåŠ¡åŠ è½½çš„ä½ ä¸èƒ½æŽ§åˆ¶å›¾ç‰‡å¤§å°ï¼Œæ¯”å¦‚åœ¨ä¸‹è½½å‰è°ƒæ•´åˆ°åˆé€‚å¤§å°çš„è¯ï¼Œä½ å¯ä»¥åœ¨ä¸‹è½½å®ŒæˆåŽï¼Œæœ€å¥½æ˜¯ç”¨background &gt;threadï¼Œç¼©æ”¾ä¸€æ¬¡ï¼Œç„¶åŽåœ¨UIImageViewä¸­ä½¿ç”¨ç¼©æ”¾åŽçš„å›¾ç‰‡ã€‚ é€‰æ‹©æ­£ç¡®çš„Collection å­¦ä¼šé€‰æ‹©å¯¹ä¸šåŠ¡åœºæ™¯æœ€åˆé€‚çš„ç±»æˆ–è€…å¯¹è±¡æ˜¯å†™å‡ºèƒ½æ•ˆé«˜çš„ä»£ç çš„åŸºç¡€ã€‚å½“å¤„ç†collectionsæ—¶è¿™å¥è¯å°¤å…¶æ­£ç¡®ã€‚ ä¸€äº›å¸¸è§collectionçš„æ€»ç»“ï¼š Arrays: æœ‰åºçš„ä¸€ç»„å€¼ã€‚ä½¿ç”¨indexæ¥lookupå¾ˆå¿«ï¼Œä½¿ç”¨value lookupå¾ˆæ…¢ï¼Œæ’å…¥/åˆ é™¤å¾ˆæ…¢ã€‚Dictionaries: å­˜å‚¨é”®å€¼å¯¹ã€‚ç”¨é”®æ¥æŸ¥æ‰¾æ¯”è¾ƒå¿«ã€‚Sets: æ— åºçš„ä¸€ç»„å€¼ã€‚ç”¨å€¼æ¥æŸ¥æ‰¾å¾ˆå¿«ï¼Œæ’å…¥/åˆ é™¤å¾ˆå¿«ã€‚å› ä¸ºSetç”¨åˆ°äº†å“ˆå¸Œï¼Œæ‰€ä»¥æ’å…¥åˆ é™¤æŸ¥æ‰¾é€Ÿåº¦æ¯”Arrayå¿«å¾ˆå¤š æ‰“å¼€gzipåŽ‹ç¼© å¤§é‡appä¾èµ–äºŽè¿œç«¯èµ„æºå’Œç¬¬ä¸‰æ–¹APIï¼Œä½ å¯èƒ½ä¼šå¼€å‘ä¸€ä¸ªéœ€è¦ä»Žè¿œç«¯ä¸‹è½½XML, JSON, HTMLæˆ–è€…å…¶å®ƒæ ¼å¼çš„appã€‚ é—®é¢˜æ˜¯æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç§»åŠ¨è®¾å¤‡ï¼Œå› æ­¤ä½ å°±ä¸èƒ½æŒ‡æœ›ç½‘ç»œçŠ¶å†µæœ‰å¤šå¥½ã€‚ä¸€ä¸ªç”¨æˆ·çŽ°åœ¨è¿˜åœ¨edgeç½‘ç»œï¼Œä¸‹ä¸€åˆ†é’Ÿå¯èƒ½å°±åˆ‡æ¢åˆ°äº†3Gã€‚ä¸è®ºä»€ä¹ˆåœºæ™¯ï¼Œä½ è‚¯å®šä¸æƒ³è®©ä½ çš„ç”¨æˆ·ç­‰å¤ªé•¿æ—¶é—´ã€‚ å‡å°æ–‡æ¡£çš„ä¸€ä¸ªæ–¹å¼å°±æ˜¯åœ¨æœåŠ¡ç«¯å’Œä½ çš„appä¸­æ‰“å¼€gzipã€‚è¿™å¯¹äºŽæ–‡å­—è¿™ç§èƒ½æœ‰æ›´é«˜åŽ‹ç¼©çŽ‡çš„æ•°æ®æ¥è¯´ä¼šæœ‰æ›´æ˜¾è‘—çš„æ•ˆç”¨ã€‚ å¥½æ¶ˆæ¯æ˜¯ï¼ŒiOSå·²ç»åœ¨NSURLConnectionä¸­é»˜è®¤æ”¯æŒäº†gzipåŽ‹ç¼©ï¼Œå½“ç„¶AFNetworkingè¿™äº›åŸºäºŽå®ƒçš„æ¡†æž¶äº¦ç„¶ã€‚åƒGoogle App Engineè¿™äº›äº‘æœåŠ¡æä¾›è€…ä¹Ÿå·²ç»æ”¯æŒäº†åŽ‹ç¼©è¾“å‡ºã€‚ é‡ç”¨å’Œå»¶è¿ŸåŠ è½½(lazy load) Views æ›´å¤šçš„viewæ„å‘³ç€æ›´å¤šçš„æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯æ›´å¤šçš„CPUå’Œå†…å­˜æ¶ˆè€—ï¼Œå¯¹äºŽé‚£ç§åµŒå¥—äº†å¾ˆå¤šviewåœ¨UIScrollViewé‡Œè¾¹çš„appæ›´æ˜¯å¦‚æ­¤ã€‚ è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°çš„æŠ€å·§å°±æ˜¯æ¨¡ä»¿UITableViewå’ŒUICollectionViewçš„æ“ä½œ:ä¸è¦ä¸€æ¬¡åˆ›å»ºæ‰€æœ‰çš„subviewï¼Œè€Œæ˜¯å½“éœ€è¦æ—¶æ‰åˆ›å»ºï¼Œå½“å®ƒä»¬å®Œæˆäº†ä½¿å‘½ï¼ŒæŠŠä»–ä»¬æ”¾è¿›ä¸€ä¸ªå¯é‡ç”¨çš„é˜Ÿåˆ—ä¸­ã€‚ è¿™æ ·çš„è¯ä½ å°±åªéœ€è¦åœ¨æ»šåŠ¨å‘ç”Ÿæ—¶åˆ›å»ºä½ çš„viewsï¼Œé¿å…äº†ä¸åˆ’ç®—çš„å†…å­˜åˆ†é…ã€‚ åˆ›å»ºviewsçš„èƒ½æ•ˆé—®é¢˜ä¹Ÿé€‚ç”¨äºŽä½ appçš„å…¶å®ƒæ–¹é¢ã€‚æƒ³è±¡ä¸€ä¸‹ä¸€ä¸ªç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®çš„æ—¶å€™éœ€è¦å‘ˆçŽ°ä¸€ä¸ªviewçš„åœºæ™¯ã€‚æœ‰ä¸¤ç§å®žçŽ°æ–¹æ³•ï¼š åˆ›å»ºå¹¶éšè—è¿™ä¸ªviewå½“è¿™ä¸ªscreenåŠ è½½çš„æ—¶å€™ï¼Œå½“éœ€è¦æ—¶æ˜¾ç¤ºå®ƒï¼› å½“éœ€è¦æ—¶æ‰åˆ›å»ºå¹¶å±•ç¤ºã€‚ æ¯ä¸ªæ–¹æ¡ˆéƒ½æœ‰å…¶ä¼˜ç¼ºç‚¹ã€‚ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆçš„è¯å› ä¸ºä½ éœ€è¦ä¸€å¼€å§‹å°±åˆ›å»ºä¸€ä¸ªviewå¹¶ä¿æŒå®ƒç›´åˆ°ä¸å†ä½¿ç”¨ï¼Œè¿™å°±ä¼šæ›´åŠ æ¶ˆè€—å†…å­˜ã€‚ç„¶è€Œè¿™ä¹Ÿä¼šä½¿ä½ çš„appæ“ä½œæ›´æ•æ„Ÿå› ä¸ºå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™å®ƒåªéœ€è¦æ”¹å˜ä¸€ä¸‹è¿™ä¸ªviewçš„å¯è§æ€§ã€‚ ç¬¬äºŒç§æ–¹æ¡ˆåˆ™ç›¸å-æ¶ˆè€—æ›´å°‘å†…å­˜ï¼Œä½†æ˜¯ä¼šåœ¨ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™æ¯”ç¬¬ä¸€ç§ç¨æ˜¾å¡é¡¿ã€‚ Cache, Cache, è¿˜æ˜¯Cache!æ³¨æ„ä½ çš„ç¼“å­˜ ä¸€ä¸ªæžå¥½çš„åŽŸåˆ™å°±æ˜¯ï¼Œç¼“å­˜æ‰€éœ€è¦çš„ï¼Œä¹Ÿå°±æ˜¯é‚£äº›ä¸å¤§å¯èƒ½æ”¹å˜ä½†æ˜¯éœ€è¦ç»å¸¸è¯»å–çš„ä¸œè¥¿ã€‚ æˆ‘ä»¬èƒ½ç¼“å­˜äº›ä»€ä¹ˆå‘¢ï¼Ÿä¸€äº›é€‰é¡¹æ˜¯ï¼Œè¿œç«¯æœåŠ¡å™¨çš„å“åº”ï¼Œå›¾ç‰‡ï¼Œç”šè‡³è®¡ç®—ç»“æžœï¼Œæ¯”å¦‚UITableViewçš„è¡Œé«˜ã€‚ NSURLConnectioné»˜è®¤ä¼šç¼“å­˜èµ„æºåœ¨å†…å­˜æˆ–è€…å­˜å‚¨ä¸­æ ¹æ®å®ƒæ‰€åŠ è½½çš„HTTP Headersã€‚ä½ ç”šè‡³å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªNSURLRequestç„¶åŽä½¿å®ƒåªåŠ è½½ç¼“å­˜çš„å€¼ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå¯ç”¨çš„ä»£ç æ®µï¼Œä½ å¯ä»¥å¯ä»¥ç”¨å®ƒåŽ»ä¸ºä¸€ä¸ªåŸºæœ¬ä¸ä¼šæ”¹å˜çš„å›¾ç‰‡åˆ›å»ºä¸€ä¸ªNSURLRequestå¹¶ç¼“å­˜å®ƒï¼š + (NSMutableURLRequest *)imageRequestWithURL:(NSURL *)url { NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url]; request.cachePolicy = NSURLRequestReturnCacheDataElseLoad;// this will make sure the request always returns the cached image request.HTTPShouldHandleCookies = NO; request.HTTPShouldUsePipelining = YES; [request addValue:@&quot;image/*&quot;forHTTPHeaderField:@&quot;Accept&quot;]; return request; } æ³¨æ„ä½ å¯ä»¥é€šè¿‡ NSURLConnection èŽ·å–ä¸€ä¸ªURL requestï¼Œ AFNetworkingä¹Ÿä¸€æ ·çš„ã€‚è¿™æ ·ä½ å°±ä¸å¿…ä¸ºé‡‡ç”¨è¿™æ¡tipè€Œæ”¹å˜æ‰€æœ‰çš„networkingä»£ç äº†ã€‚ å¦‚æžœä½ éœ€è¦ç¼“å­˜å…¶å®ƒä¸æ˜¯HTTP Requestçš„ä¸œè¥¿ï¼Œä½ å¯ä»¥ç”¨NSCacheã€‚ NSCacheå’ŒNSDictionaryç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ç³»ç»Ÿå›žæ”¶å†…å­˜çš„æ—¶å€™å®ƒä¼šè‡ªåŠ¨åˆ æŽ‰å®ƒçš„å†…å®¹ã€‚ æƒè¡¡æ¸²æŸ“æ–¹æ³• åœ¨iOSä¸­å¯ä»¥æœ‰å¾ˆå¤šæ–¹æ³•åšå‡ºæ¼‚äº®çš„æŒ‰é’®ã€‚ä½ å¯ä»¥ç”¨æ•´å¹…çš„å›¾ç‰‡ï¼Œå¯è°ƒå¤§å°çš„å›¾ç‰‡ï¼Œæˆ–è€…å¯ä»¥ç”¨CALayerï¼Œ CoreGraphicsç”šè‡³OpenGLæ¥ç”»å®ƒä»¬ã€‚å½“ç„¶æ¯ä¸ªä¸åŒçš„è§£å†³æ–¹æ³•éƒ½æœ‰ä¸åŒçš„å¤æ‚ç¨‹åº¦å’Œç›¸åº”çš„æ€§èƒ½ã€‚ ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨äº‹å…ˆæ¸²æŸ“å¥½çš„å›¾ç‰‡æ›´å¿«ä¸€äº›ï¼Œå› ä¸ºå¦‚æ­¤ä¸€æ¥iOSå°±å…åŽ»äº†åˆ›å»ºä¸€ä¸ªå›¾ç‰‡å†ç”»ä¸œè¥¿ä¸ŠåŽ»ç„¶åŽæ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ç¨‹åºã€‚é—®é¢˜æ˜¯ä½ éœ€è¦æŠŠæ‰€æœ‰ä½ éœ€è¦ç”¨åˆ°çš„å›¾ç‰‡æ”¾åˆ°appçš„bundleé‡Œé¢ï¼Œè¿™æ ·å°±å¢žåŠ äº†ä½“ç§¯â€“è¿™å°±æ˜¯ä½¿ç”¨å¯å˜å¤§å°çš„å›¾ç‰‡æ›´å¥½çš„åœ°æ–¹äº†:ä½ å¯ä»¥çœåŽ»ä¸€äº›ä¸å¿…è¦çš„ç©ºé—´ï¼Œä¹Ÿä¸éœ€è¦å†ä¸ºä¸åŒçš„å…ƒç´ (æ¯”å¦‚æŒ‰é’®)æ¥åšä¸åŒçš„å›¾ã€‚ ç„¶è€Œï¼Œä½¿ç”¨å›¾ç‰‡ä¹Ÿæ„å‘³ç€ä½ å¤±åŽ»äº†ä½¿ç”¨ä»£ç è°ƒæ•´å›¾ç‰‡çš„æœºåŠ¨æ€§ï¼Œä½ éœ€è¦ä¸€éåˆä¸€éä¸æ–­åœ°é‡åšä»–ä»¬ï¼Œè¿™æ ·å°±å¾ˆæµªè´¹æ—¶é—´äº†ï¼Œè€Œä¸”ä½ å¦‚æžœè¦åšä¸€ä¸ªåŠ¨ç”»æ•ˆæžœï¼Œè™½ç„¶æ¯å¹…å›¾åªæ˜¯ä¸€äº›ç»†èŠ‚çš„å˜åŒ–ä½ å°±éœ€è¦å¾ˆå¤šçš„å›¾ç‰‡é€ æˆbundleå¤§å°çš„ä¸æ–­å¢žå¤§ã€‚ æ€»å¾—æ¥è¯´ï¼Œä½ éœ€è¦æƒè¡¡ä¸€ä¸‹åˆ©å¼Šï¼Œåˆ°åº•æ˜¯è¦æ€§èƒ½èƒ½è¿˜æ˜¯è¦bundleä¿æŒåˆé€‚çš„å¤§å°ã€‚ å¤„ç†å†…å­˜è­¦å‘Š ä¸€æ—¦ç³»ç»Ÿå†…å­˜è¿‡ä½Žï¼ŒiOSä¼šé€šçŸ¥æ‰€æœ‰è¿è¡Œä¸­appã€‚åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ˜¯è¿™æ ·è®°è¿°: å¦‚æžœä½ çš„appæ”¶åˆ°äº†å†…å­˜è­¦å‘Šï¼Œå®ƒå°±éœ€è¦å°½å¯èƒ½é‡Šæ”¾æ›´å¤šçš„å†…å­˜ã€‚æœ€ä½³æ–¹å¼æ˜¯ç§»é™¤å¯¹ç¼“å­˜ï¼Œå›¾ç‰‡objectå’Œå…¶ä»–ä¸€äº›å¯ä»¥é‡åˆ›å»ºçš„objectsçš„strong references. å¹¸è¿çš„æ˜¯ï¼ŒUIKitæä¾›äº†å‡ ç§æ”¶é›†ä½Žå†…å­˜è­¦å‘Šçš„æ–¹æ³•: åœ¨app delegateä¸­ä½¿ç”¨applicationDidReceiveMemoryWarning:çš„æ–¹æ³•åœ¨ä½ çš„è‡ªå®šä¹‰UIViewControllerçš„å­ç±»(subclass)ä¸­è¦†ç›–didReceiveMemoryWarningæ³¨å†Œå¹¶æŽ¥æ”¶ UIApplicationDidReceiveMemoryWarningNotificationçš„é€šçŸ¥ä¸€æ—¦æ”¶åˆ°è¿™ç±»é€šçŸ¥ï¼Œä½ å°±éœ€è¦é‡Šæ”¾ä»»ä½•ä¸å¿…è¦çš„å†…å­˜ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼ŒUIViewControllerçš„é»˜è®¤è¡Œä¸ºæ˜¯ç§»é™¤ä¸€äº›ä¸å¯è§çš„viewï¼Œå®ƒçš„ä¸€äº›å­ç±»åˆ™å¯ä»¥è¡¥å……è¿™ä¸ªæ–¹æ³•ï¼Œåˆ æŽ‰ä¸€äº›é¢å¤–çš„æ•°æ®ç»“æž„ã€‚ä¸€ä¸ªæœ‰å›¾ç‰‡ç¼“å­˜çš„appå¯ä»¥ç§»é™¤ä¸åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å›¾ç‰‡ã€‚ è¿™æ ·å¯¹å†…å­˜è­¦æŠ¥çš„å¤„ç†æ˜¯å¾ˆå¿…è¦çš„ï¼Œè‹¥ä¸é‡è§†ï¼Œä½ çš„appå°±å¯èƒ½è¢«ç³»ç»Ÿæ€æŽ‰ã€‚ ç„¶è€Œï¼Œå½“ä½ ä¸€å®šè¦ç¡®è®¤ä½ æ‰€é€‰æ‹©çš„objectæ˜¯å¯ä»¥è¢«é‡çŽ°åˆ›å»ºçš„æ¥é‡Šæ”¾å†…å­˜ã€‚ä¸€å®šè¦åœ¨å¼€å‘ä¸­ç”¨æ¨¡æ‹Ÿå™¨ä¸­çš„å†…å­˜æé†’æ¨¡æ‹ŸåŽ»æµ‹è¯•ä¸€ä¸‹ã€‚ å½“ç„¶ï¼ŒçŽ°åœ¨iOSè®¾å¤‡è¿è¡Œå†…å­˜è¶Šæ¥è¶Šå¤§ï¼Œè¿™ä¸€ç‚¹å¾ˆéš¾å‡ºçŽ°äº†ã€‚ é‡ç”¨å¤§å¼€é”€å¯¹è±¡ ä¸€äº›objectsçš„åˆå§‹åŒ–å¾ˆæ…¢ï¼Œæ¯”å¦‚NSDateFormatterå’ŒNSCalendarã€‚ç„¶è€Œï¼Œä½ åˆä¸å¯é¿å…åœ°éœ€è¦ä½¿ç”¨å®ƒä»¬ï¼Œæ¯”å¦‚ä»ŽJSONæˆ–è€…XMLä¸­è§£æžæ•°æ®ã€‚ æƒ³è¦é¿å…ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„ç“¶é¢ˆä½ å°±éœ€è¦é‡ç”¨ä»–ä»¬ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ å±žæ€§åˆ°ä½ çš„classé‡Œæˆ–è€…åˆ›å»ºé™æ€å˜é‡æ¥å®žçŽ°ã€‚ æ³¨æ„å¦‚æžœä½ è¦é€‰æ‹©ç¬¬äºŒç§æ–¹æ³•ï¼Œå¯¹è±¡ä¼šåœ¨ä½ çš„appè¿è¡Œæ—¶ä¸€ç›´å­˜åœ¨äºŽå†…å­˜ä¸­ï¼Œå’Œå•ä¾‹(singleton)å¾ˆç›¸ä¼¼ã€‚ ä¸‹é¢çš„ä»£ç è¯´æ˜Žäº†ä½¿ç”¨ä¸€ä¸ªå±žæ€§æ¥å»¶è¿ŸåŠ è½½ä¸€ä¸ªdate formatter. ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶å®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®žä¾‹ï¼Œä»¥åŽçš„è°ƒç”¨åˆ™å°†è¿”å›žå·²ç»åˆ›å»ºçš„å®žä¾‹ï¼š // in your .h or inside a class extension @property (nonatomic, strong) NSDateFormatter *formatter; // inside the implementation (.m) // When you need, just use self.formatter - (NSDateFormatter *)formatter { if(!_formatter) { _formatter = [[NSDateFormatter alloc] init]; _formatter.dateFormat = @&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;;// twitter date format } return _formatter; } è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¶å®žè®¾ç½®ä¸€ä¸ªNSDateFormatterçš„é€Ÿåº¦å·®ä¸å¤šæ˜¯å’Œåˆ›å»ºæ–°çš„ä¸€æ ·æ…¢çš„ï¼æ‰€ä»¥å¦‚æžœä½ çš„appéœ€è¦ç»å¸¸è¿›è¡Œæ—¥æœŸæ ¼å¼å¤„ç†çš„è¯ï¼Œä½ ä¼šä»Žè¿™ä¸ªæ–¹æ³•ä¸­å¾—åˆ°ä¸å°çš„æ€§èƒ½æå‡ã€‚ ä½¿ç”¨Sprite Sheets Sprite sheetå¯ä»¥è®©æ¸²æŸ“é€Ÿåº¦åŠ å¿«ï¼Œç”šè‡³æ¯”æ ‡å‡†çš„å±å¹•æ¸²æŸ“æ–¹æ³•èŠ‚çœå†…å­˜ã€‚ é¿å…åå¤å¤„ç†æ•°æ® è®¸å¤šåº”ç”¨éœ€è¦ä»ŽæœåŠ¡å™¨åŠ è½½åŠŸèƒ½æ‰€éœ€çš„å¸¸ä¸ºJSONæˆ–è€…XMLæ ¼å¼çš„æ•°æ®ã€‚åœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒçš„æ•°æ®ç»“æž„å¾ˆé‡è¦ã€‚åœ¨å†…å­˜ä¸­æ“ä½œæ•°æ®ä½¿å®ƒä»¬æ»¡è¶³ä½ çš„æ•°æ®ç»“æž„æ˜¯å¼€é”€å¾ˆå¤§çš„ã€‚ æ¯”å¦‚ä½ éœ€è¦æ•°æ®æ¥å±•ç¤ºä¸€ä¸ªtable view,æœ€å¥½ç›´æŽ¥ä»ŽæœåŠ¡å™¨å–arrayç»“æž„çš„æ•°æ®ä»¥é¿å…é¢å¤–çš„ä¸­é—´æ•°æ®ç»“æž„æ”¹å˜ã€‚ ç±»ä¼¼çš„ï¼Œå¦‚æžœéœ€è¦ä»Žç‰¹å®škeyä¸­å–æ•°æ®ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨é”®å€¼å¯¹çš„dictionaryã€‚ è¿™ä¸€ç‚¹åœ¨å¤„ç†å¤§é‡æ•°æ®çš„æ—¶å€™æžä¸ºé‡è¦ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ³•ä¹Ÿè®¸æ˜¯æžå¥½çš„ã€‚ é€‰æ‹©æ­£ç¡®çš„æ•°æ®æ ¼å¼ ä»Žappå’Œç½‘ç»œæœåŠ¡é—´ä¼ è¾“æ•°æ®æœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œæœ€å¸¸è§çš„å°±æ˜¯JSONå’ŒXMLã€‚ä½ éœ€è¦é€‰æ‹©å¯¹ä½ çš„appæ¥è¯´æœ€åˆé€‚çš„ä¸€ä¸ªã€‚ è§£æžJSONä¼šæ¯”XMLæ›´å¿«ä¸€äº›ï¼ŒJSONä¹Ÿé€šå¸¸æ›´å°æ›´ä¾¿äºŽä¼ è¾“ã€‚ä»ŽiOS5èµ·æœ‰äº†å®˜æ–¹å†…å»ºçš„JSON deserializationå°±æ›´åŠ æ–¹ä¾¿ä½¿ç”¨äº†ã€‚ ä½†æ˜¯XMLä¹Ÿæœ‰XMLçš„å¥½å¤„ï¼Œæ¯”å¦‚ä½¿ç”¨SAXæ¥è§£æžXMLå°±åƒè§£æžæœ¬åœ°æ–‡ä»¶ä¸€æ ·ï¼Œä½ ä¸éœ€åƒè§£æžjsonä¸€æ ·ç­‰åˆ°æ•´ä¸ªæ–‡æ¡£ä¸‹è½½å®Œæˆæ‰å¼€å§‹è§£æžã€‚å½“&gt;ä½ å¤„ç†å¾ˆå¤§çš„æ•°æ®çš„æ—¶å€™å°±ä¼šæžå¤§åœ°å‡ä½Žå†…å­˜æ¶ˆè€—å’Œå¢žåŠ æ€§èƒ½ã€‚ çŽ°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯JSONäº†ã€‚ æ­£ç¡®è®¾å®šèƒŒæ™¯å›¾ç‰‡ åœ¨Viewé‡Œæ”¾èƒŒæ™¯å›¾ç‰‡å°±åƒå¾ˆå¤šå…¶å®ƒiOSç¼–ç¨‹ä¸€æ ·æœ‰å¾ˆå¤šæ–¹æ³•: ä½¿ç”¨UIColorçš„ colorWithPatternImageæ¥è®¾ç½®èƒŒæ™¯è‰²ï¼› åœ¨viewä¸­æ·»åŠ ä¸€ä¸ªUIImageViewä½œä¸ºä¸€ä¸ªå­Viewã€‚ å¦‚æžœä½ ä½¿ç”¨å…¨ç”»å¹…çš„èƒŒæ™¯å›¾ï¼Œä½ å°±å¿…é¡»ä½¿ç”¨UIImageViewå› ä¸ºUIColorçš„colorWithPatternImageæ˜¯ç”¨æ¥åˆ›å»ºå°çš„é‡å¤çš„å›¾ç‰‡ä½œä¸ºèƒŒ&gt;æ™¯çš„ã€‚è¿™ç§æƒ…å½¢ä¸‹ä½¿ç”¨UIImageViewå¯ä»¥èŠ‚çº¦ä¸å°‘çš„å†…å­˜ï¼š // You could also achieve the same result in Interface Builder UIImageView *backgroundView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@&quot;background&quot;]]; [self.view addSubview:backgroundView]; å¦‚æžœä½ ç”¨å°å›¾å¹³é“ºæ¥åˆ›å»ºèƒŒæ™¯ï¼Œä½ å°±éœ€è¦ç”¨UIColorçš„colorWithPatternImageæ¥åšäº†ï¼Œå®ƒä¼šæ›´å¿«åœ°æ¸²æŸ“ä¹Ÿä¸ä¼šèŠ±è´¹å¾ˆå¤šå†…å­˜ï¼š self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@&quot;background&quot;]]; å‡å°‘ä½¿ç”¨Webç‰¹æ€§ UIWebViewå¾ˆæœ‰ç”¨ï¼Œç”¨å®ƒæ¥å±•ç¤ºç½‘é¡µå†…å®¹æˆ–è€…åˆ›å»ºUIKitå¾ˆéš¾åšåˆ°çš„åŠ¨ç”»æ•ˆæžœæ˜¯å¾ˆç®€å•çš„ä¸€ä»¶äº‹ã€‚ ä½†æ˜¯ä½ å¯èƒ½æœ‰æ³¨æ„åˆ°UIWebViewå¹¶ä¸åƒé©±åŠ¨Safariçš„é‚£ä¹ˆå¿«ã€‚è¿™æ˜¯ç”±äºŽä»¥JIT compilationä¸ºç‰¹è‰²çš„Webkitçš„Nitro Engineçš„é™åˆ¶ã€‚ æ‰€ä»¥æƒ³è¦æ›´é«˜çš„æ€§èƒ½ä½ å°±è¦è°ƒæ•´ä¸‹ä½ çš„HTMLäº†ã€‚ç¬¬ä¸€ä»¶è¦åšçš„äº‹å°±æ˜¯å°½å¯èƒ½ç§»é™¤ä¸å¿…è¦çš„JavaScriptï¼Œé¿å…ä½¿ç”¨è¿‡å¤§çš„æ¡†æž¶ã€‚èƒ½åªç”¨åŽŸç”Ÿjså°±æ›´å¥½äº†ã€‚ å¦å¤–ï¼Œå°½å¯èƒ½å¼‚æ­¥åŠ è½½ä¾‹å¦‚ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡scriptè¿™ç§ä¸å½±å“é¡µé¢è¡¨è¾¾çš„javascriptã€‚ æœ€åŽï¼Œæ°¸è¿œè¦æ³¨æ„ä½ ä½¿ç”¨çš„å›¾ç‰‡ï¼Œä¿è¯å›¾ç‰‡çš„ç¬¦åˆä½ ä½¿ç”¨çš„å¤§å°ã€‚ä½¿ç”¨Sprite sheetæé«˜åŠ è½½é€Ÿåº¦å’ŒèŠ‚çº¦å†…å­˜ã€‚ è®¾å®šShadow Path å¦‚ä½•åœ¨ä¸€ä¸ªViewæˆ–è€…ä¸€ä¸ªlayerä¸ŠåŠ ä¸€ä¸ªshadowå‘¢ï¼ŒQuartzCoreæ¡†æž¶æ˜¯å¾ˆå¤šå¼€å‘è€…çš„é€‰æ‹©ï¼š UIView *view = [[UIView alloc] init]; view.layer.shadowOffset = CGSizeMake(-1.0f, 1.0f); view.layer.shadowRadius = 5.0f; view.layer.shadowOpacity = 0.6; çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œå¯¹å§ã€‚å¯æ˜¯ï¼Œåæ¶ˆæ¯æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¹Ÿæœ‰å®ƒçš„é—®é¢˜â€¦ Core Animationä¸å¾—ä¸å…ˆåœ¨åŽå°å¾—å‡ºä½ çš„å›¾å½¢å¹¶åŠ å¥½é˜´å½±ç„¶åŽæ‰æ¸²æŸ“ï¼Œè¿™å¼€é”€æ˜¯å¾ˆå¤§çš„ã€‚ ä½¿ç”¨shadowPathçš„è¯å°±é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼š view.layer.shadowPath = [[UIBezierPath bezierPathWithRect:view.bounds] CGPath];ä½¿ç”¨shadow pathçš„è¯iOSå°±ä¸å¿…æ¯æ¬¡éƒ½è®¡ç®—å¦‚ä½•æ¸²æŸ“ï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªé¢„å…ˆè®¡ç®—å¥½çš„è·¯å¾„ã€‚ä½†é—®é¢˜æ˜¯è‡ªå·±è®¡ç®—pathçš„è¯å¯èƒ½åœ¨æŸäº›Viewä¸­æ¯”è¾ƒå›°éš¾ï¼Œä¸”æ¯å½“viewçš„frameå˜åŒ–çš„æ—¶å€™ä½ éƒ½éœ€è¦åŽ»update shadow path. æˆ‘æ›´å–œæ¬¢ç”¨CALayerè‡ªå·±ç”»ä¸€ä¸ªé˜´å½±å‡ºæ¥ï¼Œè¿™æ ·å¯ä»¥è®¾ç½®é˜´å½±å…‰æ …åŒ–ï¼ŒèŠ‚çœå¤§é‡CPUçš„è¿ç®—ï¼Œåå¤„å°±æ˜¯æ¯”è¾ƒæ¶ˆè€—å†…å­˜ã€‚å› ä¸ºå¦‚æžœç»™viewçš„&gt;layerè®¾ç½®å…‰æ …åŒ–çš„è¯æ•´ä¸ªViewéƒ½ä¼šå˜å¾—æ¨¡ç³Šã€‚ ä¼˜åŒ–Table View Table viewéœ€è¦æœ‰å¾ˆå¥½çš„æ»šåŠ¨æ€§èƒ½ï¼Œä¸ç„¶ç”¨æˆ·ä¼šåœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­å‘çŽ°åŠ¨ç”»çš„ç‘•ç–µã€‚ ä¸ºäº†ä¿è¯table viewå¹³æ»‘æ»šåŠ¨ï¼Œç¡®ä¿ä½ é‡‡å–äº†ä»¥ä¸‹çš„æŽªæ–½: æ­£ç¡®ä½¿ç”¨reuseIdentifieræ¥é‡ç”¨cells å°½é‡ä½¿æ‰€æœ‰çš„view opaqueï¼ŒåŒ…æ‹¬cellè‡ªèº« é¿å…æ¸å˜ï¼Œå›¾ç‰‡ç¼©æ”¾ï¼ŒåŽå°é€‰äºº ç¼“å­˜è¡Œé«˜ å¦‚æžœcellå†…çŽ°å®žçš„å†…å®¹æ¥è‡ªwebï¼Œä½¿ç”¨å¼‚æ­¥åŠ è½½ï¼Œç¼“å­˜è¯·æ±‚ç»“æžœ ä½¿ç”¨shadowPathæ¥ç”»é˜´å½± å‡å°‘subviewsçš„æ•°é‡ å°½é‡ä¸ä½¿ç”¨cellForRowAtIndexPath:ï¼Œå¦‚æžœä½ éœ€è¦ç”¨åˆ°å®ƒï¼Œåªç”¨ä¸€æ¬¡ç„¶åŽç¼“å­˜ç»“æžœ ä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç»“æž„æ¥å­˜å‚¨æ•°æ® ä½¿ç”¨rowHeight, sectionFooterHeightå’Œ sectionHeaderHeightæ¥è®¾å®šå›ºå®šçš„é«˜ï¼Œä¸è¦è¯·æ±‚delegate é€‰æ‹©æ­£ç¡®çš„æ•°æ®å­˜å‚¨é€‰é¡¹å½“å­˜å‚¨å¤§å—æ•°æ®æ—¶ä½ ä¼šæ€Žä¹ˆåšï¼Ÿ ä½ æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œæ¯”å¦‚ï¼š ä½¿ç”¨NSUerDefaults ä½¿ç”¨XML, JSON, æˆ–è€… plist ä½¿ç”¨NSCodingå­˜æ¡£ ä½¿ç”¨ç±»ä¼¼SQLiteçš„æœ¬åœ°SQLæ•°æ®åº“ ä½¿ç”¨ Core Data NSUserDefaultsçš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿè™½ç„¶å®ƒå¾ˆniceä¹Ÿå¾ˆä¾¿æ·ï¼Œä½†æ˜¯å®ƒåªé€‚ç”¨äºŽå°æ•°æ®ï¼Œæ¯”å¦‚ä¸€äº›ç®€å•çš„å¸ƒå°”åž‹çš„è®¾ç½®é€‰é¡¹ï¼Œå†å¤§ç‚¹ä½ å°±è¦è€ƒè™‘å…¶å®ƒæ–¹å¼äº† XMLè¿™ç§ç»“æž„åŒ–æ¡£æ¡ˆå‘¢ï¼Ÿæ€»ä½“æ¥è¯´ï¼Œä½ éœ€è¦è¯»å–æ•´ä¸ªæ–‡ä»¶åˆ°å†…å­˜é‡ŒåŽ»è§£æžï¼Œè¿™æ ·æ˜¯å¾ˆä¸ç»æµŽçš„ã€‚ä½¿ç”¨SAXåˆæ˜¯ä¸€ä¸ªå¾ˆéº»çƒ¦çš„äº‹æƒ…ã€‚ NSCodingï¼Ÿä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¹Ÿéœ€è¦è¯»å†™æ–‡ä»¶ï¼Œæ‰€ä»¥ä¹Ÿæœ‰ä»¥ä¸Šé—®é¢˜ã€‚ åœ¨è¿™ç§åº”ç”¨åœºæ™¯ä¸‹ï¼Œä½¿ç”¨SQLite æˆ–è€… Core Dataæ¯”è¾ƒå¥½ã€‚ä½¿ç”¨è¿™äº›æŠ€æœ¯ä½ ç”¨ç‰¹å®šçš„æŸ¥è¯¢è¯­å¥å°±èƒ½åªåŠ è½½ä½ éœ€è¦çš„å¯¹è±¡ã€‚ åœ¨æ€§èƒ½å±‚é¢æ¥è®²ï¼ŒSQLiteå’ŒCore Dataæ˜¯å¾ˆç›¸ä¼¼çš„ã€‚ä»–ä»¬çš„ä¸åŒåœ¨äºŽå…·ä½“ä½¿ç”¨æ–¹æ³•ã€‚Core Dataä»£è¡¨ä¸€ä¸ªå¯¹è±¡çš„graph modelï¼Œä½†SQLiteå°±æ˜¯ä¸€ä¸ªDBMSã€‚Appleåœ¨ä¸€èˆ¬æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨Core Dataï¼Œä½†æ˜¯å¦‚æžœä½ æœ‰ç†ç”±ä¸ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆå°±åŽ»ä½¿ç”¨æ›´åŠ åº•å±‚çš„SQLiteå§ã€‚ å¦‚æžœä½ ä½¿ç”¨SQLiteï¼Œä½ å¯ä»¥ç”¨FMDB(https://GitHub.com/ccgus/fmdb)è¿™ä¸ªåº“æ¥ç®€åŒ–SQLiteçš„æ“ä½œï¼Œè¿™æ ·ä½ å°±ä¸ç”¨èŠ±å¾ˆå¤šç»åŽ†äº†è§£SQLiteçš„C APIäº†ã€‚ ä½¿ç”¨Autorelease Pool NSAutoreleasePoolè´Ÿè´£é‡Šæ”¾blockä¸­çš„autoreleased objectsã€‚ä¸€èˆ¬æƒ…å†µä¸‹å®ƒä¼šè‡ªåŠ¨è¢«UIKitè°ƒç”¨ã€‚ä½†æ˜¯æœ‰äº›çŠ¶å†µä¸‹ä½ ä¹Ÿéœ€è¦æ‰‹åŠ¨åŽ»åˆ›å»ºå®ƒã€‚ å‡å¦‚ä½ åˆ›å»ºå¾ˆå¤šä¸´æ—¶å¯¹è±¡ï¼Œä½ ä¼šå‘çŽ°å†…å­˜ä¸€ç›´åœ¨å‡å°‘ç›´åˆ°è¿™äº›å¯¹è±¡è¢«releaseçš„æ—¶å€™ã€‚è¿™æ˜¯å› ä¸ºåªæœ‰å½“UIKitç”¨å…‰äº†autorelease poolçš„æ—¶å€™memoryæ‰ä¼šè¢«é‡Šæ”¾ã€‚å¥½æ¶ˆæ¯æ˜¯ä½ å¯ä»¥åœ¨ä½ è‡ªå·±çš„@autoreleasepoolé‡Œåˆ›å»ºä¸´æ—¶çš„å¯¹è±¡æ¥é¿å…è¿™ä¸ªè¡Œä¸ºï¼š NSArray *urls = &lt;# An array of file URLs #&gt;; for(NSURL *url in urls) { @autoreleasepool { NSError *error; NSString *fileContents = [NSString stringWithContentsOfURL:url encoding:NSUTF8StringEncoding error:&amp;error]; /* Process the string, creating and autoreleasing more objects. */ } } è¿™æ®µä»£ç åœ¨æ¯æ¬¡éåŽ†åŽé‡Šæ”¾æ‰€æœ‰autoreleaseå¯¹è±¡ é€‰æ‹©æ˜¯å¦ç¼“å­˜å›¾ç‰‡ å¸¸è§çš„ä»Žbundleä¸­åŠ è½½å›¾ç‰‡çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ä¸ªæ˜¯ç”¨imageNamedï¼ŒäºŒæ˜¯ç”¨imageWithContentsOfFileï¼Œç¬¬ä¸€ç§æ¯”è¾ƒå¸¸è§ä¸€ç‚¹ã€‚ æ—¢ç„¶æœ‰ä¸¤ç§ç±»ä¼¼çš„æ–¹æ³•æ¥å®žçŽ°ç›¸åŒçš„ç›®çš„ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´çš„å·®åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ imageNamedçš„ä¼˜ç‚¹æ˜¯å½“åŠ è½½æ—¶ä¼šç¼“å­˜å›¾ç‰‡ã€‚imageNamedçš„æ–‡æ¡£ä¸­è¿™ä¹ˆè¯´:è¿™ä¸ªæ–¹æ³•ç”¨ä¸€ä¸ªæŒ‡å®šçš„åå­—åœ¨ç³»ç»Ÿç¼“å­˜ä¸­æŸ¥æ‰¾å¹¶è¿”å›žä¸€ä¸ªå›¾ç‰‡å¯¹è±¡å¦‚æžœå®ƒå­˜åœ¨çš„è¯ã€‚å¦‚æžœç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„å›¾ç‰‡ï¼Œè¿™ä¸ªæ–¹æ³•ä»ŽæŒ‡å®šçš„æ–‡æ¡£ä¸­åŠ è½½ç„¶åŽç¼“å­˜å¹¶è¿”å›žè¿™ä¸ªå¯¹è±¡ã€‚ ç›¸åçš„ï¼ŒimageWithContentsOfFileä»…åŠ è½½å›¾ç‰‡ã€‚ ä¸‹é¢çš„ä»£ç è¯´æ˜Žäº†è¿™ä¸¤ç§æ–¹æ³•çš„ç”¨æ³•: UIImage *img = [UIImage imageNamed:@&quot;myImage&quot;];// caching // or UIImage *img = [UIImage imageWithContentsOfFile:@&quot;myImage&quot;];// no caching é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ å¦‚æžœä½ è¦åŠ è½½ä¸€ä¸ªå¤§å›¾ç‰‡è€Œä¸”æ˜¯ä¸€æ¬¡æ€§ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦ç¼“å­˜è¿™ä¸ªå›¾ç‰‡ï¼Œç”¨imageWithContentsOfFileè¶³çŸ£ï¼Œè¿™æ ·ä¸ä¼šæµªè´¹å†…å­˜æ¥ç¼“å­˜å®ƒã€‚ ç„¶è€Œï¼Œåœ¨å›¾ç‰‡åå¤é‡ç”¨çš„æƒ…å†µä¸‹imageNamedæ˜¯ä¸€ä¸ªå¥½å¾—å¤šçš„é€‰æ‹©ã€‚ é¿å…æ—¥æœŸæ ¼å¼è½¬æ¢ å¦‚æžœä½ è¦ç”¨NSDateFormatteræ¥å¤„ç†å¾ˆå¤šæ—¥æœŸæ ¼å¼ï¼Œåº”è¯¥å°å¿ƒä»¥å¾…ã€‚å°±åƒå…ˆå‰æåˆ°çš„ï¼Œä»»ä½•æ—¶å€™é‡ç”¨NSDateFormatterséƒ½æ˜¯ä¸€ä¸ªå¥½çš„å®žè·µã€‚ ç„¶è€Œï¼Œå¦‚æžœä½ éœ€è¦æ›´å¤šé€Ÿåº¦ï¼Œé‚£ä¹ˆç›´æŽ¥ç”¨Cæ˜¯ä¸€ä¸ªå¥½çš„æ–¹æ¡ˆã€‚Sam Soffesæœ‰ä¸€ä¸ªä¸é”™çš„å¸–å­(http://soff.es/how-to-drastically-improve-your-app-with-an-afternoon-and-instruments)é‡Œé¢æœ‰ä¸€äº›å¯ä»¥ç”¨æ¥è§£æžISO-8601æ—¥æœŸå­—ç¬¦ä¸²çš„ä»£ç ï¼Œç®€å•é‡å†™ä¸€ä¸‹å°±å¯ä»¥æ‹¿æ¥ç”¨äº†ã€‚ å—¯ï¼Œç›´æŽ¥ç”¨Cæ¥æžï¼Œçœ‹èµ·æ¥ä¸é”™äº†ï¼Œä½†æ˜¯ä½ ç›¸ä¿¡å—ï¼Œæˆ‘ä»¬è¿˜æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼ å¦‚æžœä½ å¯ä»¥æŽ§åˆ¶ä½ æ‰€å¤„ç†çš„æ—¥æœŸæ ¼å¼ï¼Œå°½é‡é€‰æ‹©Unixæ—¶é—´æˆ³ã€‚ä½ å¯ä»¥æ–¹ä¾¿åœ°ä»Žæ—¶é—´æˆ³è½¬æ¢åˆ°NSDate: - (NSDate*)dateFromUnixTimestamp:(NSTimeInterval)timestamp { return[NSDate dateWithTimeIntervalSince1970:timestamp]; } è¿™æ ·ä¼šæ¯”ç”¨Cæ¥è§£æžæ—¥æœŸå­—ç¬¦ä¸²è¿˜å¿«ï¼éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¸å¤šweb APIä¼šä»¥å¾®ç§’çš„å½¢å¼è¿”å›žæ—¶é—´æˆ³ï¼Œå› ä¸ºè¿™ç§æ ¼å¼åœ¨javascriptä¸­æ›´æ–¹ä¾¿ä½¿ç”¨ã€‚è®°ä½ç”¨dateFromUnixTimestampä¹‹å‰é™¤ä»¥1000å°±å¥½äº†ã€‚]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - é¢è¯•ä¸­çš„ 10 å¤§æŽ’åºç®—æ³•æ€»ç»“]]></title>
    <url>%2F2018%2F05%2F22%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84-10-%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡è½¬è½½è‡ªç å†œç½‘ https://github.com/francistao/LearningNotes æŸ¥æ‰¾å’ŒæŽ’åºç®—æ³•æ˜¯ç®—æ³•çš„å…¥é—¨çŸ¥è¯†ï¼Œå…¶ç»å…¸æ€æƒ³å¯ä»¥ç”¨äºŽå¾ˆå¤šç®—æ³•å½“ä¸­ã€‚å› ä¸ºå…¶å®žçŽ°ä»£ç è¾ƒçŸ­ï¼Œåº”ç”¨è¾ƒå¸¸è§ã€‚æ‰€ä»¥åœ¨é¢è¯•ä¸­ç»å¸¸ä¼šé—®åˆ°æŽ’åºç®—æ³•åŠå…¶ç›¸å…³çš„é—®é¢˜ã€‚ä½†ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œåªè¦ç†Ÿæ‚‰äº†æ€æƒ³ï¼Œçµæ´»è¿ç”¨ä¹Ÿä¸æ˜¯éš¾äº‹ã€‚ä¸€èˆ¬åœ¨é¢è¯•ä¸­æœ€å¸¸è€ƒçš„æ˜¯å¿«é€ŸæŽ’åºå’Œå½’å¹¶æŽ’åºï¼Œå¹¶ä¸”ç»å¸¸æœ‰é¢è¯•å®˜è¦æ±‚çŽ°åœºå†™å‡ºè¿™ä¸¤ç§æŽ’åºçš„ä»£ç ã€‚å¯¹è¿™ä¸¤ç§æŽ’åºçš„ä»£ç ä¸€å®šè¦ä¿¡æ‰‹æ‹ˆæ¥æ‰è¡Œã€‚è¿˜æœ‰æ’å…¥æŽ’åºã€å†’æ³¡æŽ’åºã€å †æŽ’åºã€åŸºæ•°æŽ’åºã€æ¡¶æŽ’åºç­‰ã€‚é¢è¯•å®˜å¯¹äºŽè¿™äº›æŽ’åºå¯èƒ½ä¼šè¦æ±‚æ¯”è¾ƒå„è‡ªçš„ä¼˜åŠ£ã€å„ç§ç®—æ³•çš„æ€æƒ³åŠå…¶ä½¿ç”¨åœºæ™¯ã€‚è¿˜æœ‰è¦ä¼šåˆ†æžç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚é€šå¸¸æŸ¥æ‰¾å’ŒæŽ’åºç®—æ³•çš„è€ƒå¯Ÿæ˜¯é¢è¯•çš„å¼€å§‹ï¼Œå¦‚æžœè¿™äº›é—®é¢˜å›žç­”ä¸å¥½ï¼Œä¼°è®¡é¢è¯•å®˜éƒ½æ²¡æœ‰ç»§ç»­é¢è¯•ä¸‹åŽ»çš„å…´è¶£éƒ½æ²¡äº†ã€‚æ‰€ä»¥æƒ³å¼€ä¸ªå¥½å¤´å°±è¦æŠŠå¸¸è§çš„æŽ’åºç®—æ³•æ€æƒ³åŠå…¶ç‰¹ç‚¹è¦ç†Ÿç»ƒæŽŒæ¡ï¼Œæœ‰å¿…è¦æ—¶è¦ç†Ÿç»ƒå†™å‡ºä»£ç ã€‚ æŽ¥ä¸‹æ¥æˆ‘ä»¬å°±åˆ†æžä¸€ä¸‹å¸¸è§çš„æŽ’åºç®—æ³•åŠå…¶ä½¿ç”¨åœºæ™¯ã€‚é™äºŽç¯‡å¹…ï¼ŒæŸäº›ç®—æ³•çš„è¯¦ç»†æ¼”ç¤ºå’Œå›¾ç¤ºè¯·è‡ªè¡Œå¯»æ‰¾è¯¦ç»†çš„å‚è€ƒã€‚ å†’æ³¡æŽ’åºå†’æ³¡æŽ’åºæ˜¯æœ€ç®€å•çš„æŽ’åºä¹‹ä¸€äº†ï¼Œå…¶å¤§ä½“æ€æƒ³å°±æ˜¯é€šè¿‡ä¸Žç›¸é‚»å…ƒç´ çš„æ¯”è¾ƒå’Œäº¤æ¢æ¥æŠŠå°çš„æ•°äº¤æ¢åˆ°æœ€å‰é¢ã€‚è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºŽæ°´æ³¡å‘ä¸Šå‡ä¸€æ ·ï¼Œå› æ­¤è€Œå¾—åã€‚ä¸¾ä¸ªæ —å­ï¼Œå¯¹5,3,8,6,4è¿™ä¸ªæ— åºåºåˆ—è¿›è¡Œå†’æ³¡æŽ’åºã€‚é¦–å…ˆä»ŽåŽå‘å‰å†’æ³¡ï¼Œ4å’Œ6æ¯”è¾ƒï¼ŒæŠŠ4äº¤æ¢åˆ°å‰é¢ï¼Œåºåˆ—å˜æˆ5,3,8,4,6ã€‚åŒç†4å’Œ8äº¤æ¢ï¼Œå˜æˆ5,3,4,8,6,3å’Œ4æ— éœ€äº¤æ¢ã€‚5å’Œ3äº¤æ¢ï¼Œå˜æˆ3,5,4,8,6,3.è¿™æ ·ä¸€æ¬¡å†’æ³¡å°±å®Œäº†ï¼ŒæŠŠæœ€å°çš„æ•°3æŽ’åˆ°æœ€å‰é¢äº†ã€‚å¯¹å‰©ä¸‹çš„åºåˆ—ä¾æ¬¡å†’æ³¡å°±ä¼šå¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚å†’æ³¡æŽ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚ å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;å†’æ³¡æŽ’åºç®—æ³•å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-3 ä¸‹åˆ8:54:27 */public class BubbleSort { public static void bubbleSort(int[] arr) { if(arr == null || arr.length == 0) return ; for(int i=0; i&amp;lt;arr.length-1; i++) { for(int j=arr.length-1; j&amp;gt;i; j--) { if(arr[j] &amp;lt; arr[j-1]) { swap(arr, j-1, j); } } } } public static void swap(int[] arr, int i, int j) { int temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } } é€‰æ‹©æŽ’åºé€‰æ‹©æŽ’åºçš„æ€æƒ³å…¶å®žå’Œå†’æ³¡æŽ’åºæœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½æ˜¯åœ¨ä¸€æ¬¡æŽ’åºåŽæŠŠæœ€å°çš„å…ƒç´ æ”¾åˆ°æœ€å‰é¢ã€‚ä½†æ˜¯è¿‡ç¨‹ä¸åŒï¼Œå†’æ³¡æŽ’åºæ˜¯é€šè¿‡ç›¸é‚»çš„æ¯”è¾ƒå’Œäº¤æ¢ã€‚è€Œé€‰æ‹©æŽ’åºæ˜¯é€šè¿‡å¯¹æ•´ä½“çš„é€‰æ‹©ã€‚ä¸¾ä¸ªæ —å­ï¼Œå¯¹5,3,8,6,4è¿™ä¸ªæ— åºåºåˆ—è¿›è¡Œç®€å•é€‰æ‹©æŽ’åºï¼Œé¦–å…ˆè¦é€‰æ‹©5ä»¥å¤–çš„æœ€å°æ•°æ¥å’Œ5äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯é€‰æ‹©3å’Œ5äº¤æ¢ï¼Œä¸€æ¬¡æŽ’åºåŽå°±å˜æˆäº†3,5,8,6,4.å¯¹å‰©ä¸‹çš„åºåˆ—ä¸€æ¬¡è¿›è¡Œé€‰æ‹©å’Œäº¤æ¢ï¼Œæœ€ç»ˆå°±ä¼šå¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚å…¶å®žé€‰æ‹©æŽ’åºå¯ä»¥çœ‹æˆå†’æ³¡æŽ’åºçš„ä¼˜åŒ–ï¼Œå› ä¸ºå…¶ç›®çš„ç›¸åŒï¼Œåªæ˜¯é€‰æ‹©æŽ’åºåªæœ‰åœ¨ç¡®å®šäº†æœ€å°æ•°çš„å‰æä¸‹æ‰è¿›è¡Œäº¤æ¢ï¼Œå¤§å¤§å‡å°‘äº†äº¤æ¢çš„æ¬¡æ•°ã€‚é€‰æ‹©æŽ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2) å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;ç®€å•é€‰æ‹©æŽ’åºç®—æ³•çš„å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-3 ä¸‹åˆ9:13:35 */public class SelectSort { public static void selectSort(int[] arr) { if(arr == null || arr.length == 0) return ; int minIndex = 0; for(int i=0; i&amp;lt;arr.length-1; i++) { //åªéœ€è¦æ¯”è¾ƒn-1æ¬¡ minIndex = i; for(int j=i+1; j&amp;lt;arr.length; j++) { //ä»Ži+1å¼€å§‹æ¯”è¾ƒï¼Œå› ä¸ºminIndexé»˜è®¤ä¸ºiäº†ï¼Œiå°±æ²¡å¿…è¦æ¯”äº†ã€‚ if(arr[j] &amp;lt; arr[minIndex]) { minIndex = j; } } if(minIndex != i) { //å¦‚æžœminIndexä¸ä¸ºiï¼Œè¯´æ˜Žæ‰¾åˆ°äº†æ›´å°çš„å€¼ï¼Œäº¤æ¢ä¹‹ã€‚ swap(arr, i, minIndex); } } } public static void swap(int[] arr, int i, int j) { int temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } } æ’å…¥æŽ’åºæ’å…¥æŽ’åºä¸æ˜¯é€šè¿‡äº¤æ¢ä½ç½®è€Œæ˜¯é€šè¿‡æ¯”è¾ƒæ‰¾åˆ°åˆé€‚çš„ä½ç½®æ’å…¥å…ƒç´ æ¥è¾¾åˆ°æŽ’åºçš„ç›®çš„çš„ã€‚ç›¸ä¿¡å¤§å®¶éƒ½æœ‰è¿‡æ‰“æ‰‘å…‹ç‰Œçš„ç»åŽ†ï¼Œç‰¹åˆ«æ˜¯ç‰Œæ•°è¾ƒå¤§çš„ã€‚åœ¨åˆ†ç‰Œæ—¶å¯èƒ½è¦æ•´ç†è‡ªå·±çš„ç‰Œï¼Œç‰Œå¤šçš„æ—¶å€™æ€Žä¹ˆæ•´ç†å‘¢ï¼Ÿå°±æ˜¯æ‹¿åˆ°ä¸€å¼ ç‰Œï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç½®æ’å…¥ã€‚è¿™ä¸ªåŽŸç†å…¶å®žå’Œæ’å…¥æŽ’åºæ˜¯ä¸€æ ·çš„ã€‚ä¸¾ä¸ªæ —å­ï¼Œå¯¹5,3,8,6,4è¿™ä¸ªæ— åºåºåˆ—è¿›è¡Œç®€å•æ’å…¥æŽ’åºï¼Œé¦–å…ˆå‡è®¾ç¬¬ä¸€ä¸ªæ•°çš„ä½ç½®æ—¶æ­£ç¡®çš„ï¼Œæƒ³ä¸€ä¸‹åœ¨æ‹¿åˆ°ç¬¬ä¸€å¼ ç‰Œçš„æ—¶å€™ï¼Œæ²¡å¿…è¦æ•´ç†ã€‚ç„¶åŽ3è¦æ’åˆ°5å‰é¢ï¼ŒæŠŠ5åŽç§»ä¸€ä½ï¼Œå˜æˆ3,5,8,6,4.æƒ³ä¸€ä¸‹æ•´ç†ç‰Œçš„æ—¶å€™åº”è¯¥ä¹Ÿæ˜¯è¿™æ ·å§ã€‚ç„¶åŽ8ä¸ç”¨åŠ¨ï¼Œ6æ’åœ¨8å‰é¢ï¼Œ8åŽç§»ä¸€ä½ï¼Œ4æ’åœ¨5å‰é¢ï¼Œä»Ž5å¼€å§‹éƒ½å‘åŽç§»ä¸€ä½ã€‚æ³¨æ„åœ¨æ’å…¥ä¸€ä¸ªæ•°çš„æ—¶å€™è¦ä¿è¯è¿™ä¸ªæ•°å‰é¢çš„æ•°å·²ç»æœ‰åºã€‚ç®€å•æ’å…¥æŽ’åºçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n^2)ã€‚ å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;ç®€å•æ’å…¥æŽ’åºç®—æ³•å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-3 ä¸‹åˆ9:38:55 */public class InsertSort { public static void insertSort(int[] arr) { if(arr == null || arr.length == 0) return ; for(int i=1; i&amp;lt;arr.length; i++) { //å‡è®¾ç¬¬ä¸€ä¸ªæ•°ä½ç½®æ—¶æ­£ç¡®çš„ï¼›è¦å¾€åŽç§»ï¼Œå¿…é¡»è¦å‡è®¾ç¬¬ä¸€ä¸ªã€‚ int j = i; int target = arr[i]; //å¾…æ’å…¥çš„ //åŽç§» while(j &amp;gt; 0 &amp;amp;&amp;amp; target &amp;lt; arr[j-1]) { arr[j] = arr[j-1]; j --; } //æ’å…¥ arr[j] = target; } } } å¿«é€ŸæŽ’åºå¿«é€ŸæŽ’åºä¸€å¬åå­—å°±è§‰å¾—å¾ˆé«˜ç«¯ï¼Œåœ¨å®žé™…åº”ç”¨å½“ä¸­å¿«é€ŸæŽ’åºç¡®å®žä¹Ÿæ˜¯è¡¨çŽ°æœ€å¥½çš„æŽ’åºç®—æ³•ã€‚å†’æ³¡æŽ’åºè™½ç„¶é«˜ç«¯ï¼Œä½†å…¶å®žå…¶æ€æƒ³æ˜¯æ¥è‡ªå†’æ³¡æŽ’åºï¼Œå†’æ³¡æŽ’åºæ˜¯é€šè¿‡ç›¸é‚»å…ƒç´ çš„æ¯”è¾ƒå’Œäº¤æ¢æŠŠæœ€å°çš„å†’æ³¡åˆ°æœ€é¡¶ç«¯ï¼Œè€Œå¿«é€ŸæŽ’åºæ˜¯æ¯”è¾ƒå’Œäº¤æ¢å°æ•°å’Œå¤§æ•°ï¼Œè¿™æ ·ä¸€æ¥ä¸ä»…æŠŠå°æ•°å†’æ³¡åˆ°ä¸Šé¢åŒæ—¶ä¹ŸæŠŠå¤§æ•°æ²‰åˆ°ä¸‹é¢ã€‚ ä¸¾ä¸ªæ —å­ï¼šå¯¹5,3,8,6,4è¿™ä¸ªæ— åºåºåˆ—è¿›è¡Œå¿«é€ŸæŽ’åºï¼Œæ€è·¯æ˜¯å³æŒ‡é’ˆæ‰¾æ¯”åŸºå‡†æ•°å°çš„ï¼Œå·¦æŒ‡é’ˆæ‰¾æ¯”åŸºå‡†æ•°å¤§çš„ï¼Œäº¤æ¢ä¹‹ã€‚ 5,3,8,6,4 ç”¨5ä½œä¸ºæ¯”è¾ƒçš„åŸºå‡†ï¼Œæœ€ç»ˆä¼šæŠŠ5å°çš„ç§»åŠ¨åˆ°5çš„å·¦è¾¹ï¼Œæ¯”5å¤§çš„ç§»åŠ¨åˆ°5çš„å³è¾¹ã€‚ 5,3,8,6,4 é¦–å…ˆè®¾ç½®i,jä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ç«¯ï¼ŒjæŒ‡é’ˆå…ˆæ‰«æï¼ˆæ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆï¼Ÿï¼‰4æ¯”5å°åœæ­¢ã€‚ç„¶åŽiæ‰«æï¼Œ8æ¯”5å¤§åœæ­¢ã€‚äº¤æ¢i,jä½ç½®ã€‚ 5,3,4,6,8 ç„¶åŽjæŒ‡é’ˆå†æ‰«æï¼Œè¿™æ—¶jæ‰«æ4æ—¶ä¸¤æŒ‡é’ˆç›¸é‡ã€‚åœæ­¢ã€‚ç„¶åŽäº¤æ¢4å’ŒåŸºå‡†æ•°ã€‚ 4,3,5,6,8 ä¸€æ¬¡åˆ’åˆ†åŽè¾¾åˆ°äº†å·¦è¾¹æ¯”5å°ï¼Œå³è¾¹æ¯”5å¤§çš„ç›®çš„ã€‚ä¹‹åŽå¯¹å·¦å³å­åºåˆ—é€’å½’æŽ’åºï¼Œæœ€ç»ˆå¾—åˆ°æœ‰åºåºåˆ—ã€‚ ä¸Šé¢ç•™ä¸‹æ¥äº†ä¸€ä¸ªé—®é¢˜ä¸ºä»€ä¹ˆä¸€å®šè¦jæŒ‡é’ˆå…ˆåŠ¨å‘¢ï¼Ÿé¦–å…ˆè¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œè¿™å–å†³äºŽåŸºå‡†æ•°çš„ä½ç½®ï¼Œå› ä¸ºåœ¨æœ€åŽä¸¤ä¸ªæŒ‡é’ˆç›¸é‡çš„æ—¶å€™ï¼Œè¦äº¤æ¢åŸºå‡†æ•°åˆ°ç›¸é‡çš„ä½ç½®ã€‚ä¸€èˆ¬é€‰å–ç¬¬ä¸€ä¸ªæ•°ä½œä¸ºåŸºå‡†æ•°ï¼Œé‚£ä¹ˆå°±æ˜¯åœ¨å·¦è¾¹ï¼Œæ‰€ä»¥æœ€åŽç›¸é‡çš„æ•°è¦å’ŒåŸºå‡†æ•°äº¤æ¢ï¼Œé‚£ä¹ˆç›¸é‡çš„æ•°ä¸€å®šè¦æ¯”åŸºå‡†æ•°å°ã€‚æ‰€ä»¥jæŒ‡é’ˆå…ˆç§»åŠ¨æ‰èƒ½å…ˆæ‰¾åˆ°æ¯”åŸºå‡†æ•°å°çš„æ•°ã€‚ å¿«é€ŸæŽ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œå…¶æ—¶é—´å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(nlgn)ã€‚ å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;å®žçŽ°å¿«é€ŸæŽ’åºç®—æ³•&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-3 ä¸‹åˆ5:07:29 */public class QuickSort { //ä¸€æ¬¡åˆ’åˆ† public static int partition(int[] arr, int left, int right) { int pivotKey = arr[left]; int pivotPointer = left; while(left &amp;lt; right) { while(left &amp;lt; right &amp;amp;&amp;amp; arr[right] &amp;gt;= pivotKey) right --; while(left &amp;lt; right &amp;amp;&amp;amp; arr[left] &amp;lt;= pivotKey) left ++; swap(arr, left, right); //æŠŠå¤§çš„äº¤æ¢åˆ°å³è¾¹ï¼ŒæŠŠå°çš„äº¤æ¢åˆ°å·¦è¾¹ã€‚ } swap(arr, pivotPointer, left); //æœ€åŽæŠŠpivotäº¤æ¢åˆ°ä¸­é—´ return left; } public static void quickSort(int[] arr, int left, int right) { if(left &amp;gt;= right) return ; int pivotPos = partition(arr, left, right); quickSort(arr, left, pivotPos-1); quickSort(arr, pivotPos+1, right); } public static void sort(int[] arr) { if(arr == null || arr.length == 0) return ; quickSort(arr, 0, arr.length-1); } public static void swap(int[] arr, int left, int right) { int temp = arr[left]; arr[left] = arr[right]; arr[right] = temp; } } å…¶å®žä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥å†ä¼˜åŒ–ï¼Œä¸Šé¢ä»£ç ä¸­åŸºå‡†æ•°å·²ç»åœ¨pivotKeyä¸­ä¿å­˜äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦æ¯æ¬¡äº¤æ¢éƒ½è®¾ç½®ä¸€ä¸ªtempå˜é‡ï¼Œåœ¨äº¤æ¢å·¦å³æŒ‡é’ˆçš„æ—¶å€™åªéœ€è¦å…ˆåŽè¦†ç›–å°±å¯ä»¥äº†ã€‚è¿™æ ·æ—¢èƒ½å‡å°‘ç©ºé—´çš„ä½¿ç”¨è¿˜èƒ½é™ä½Žèµ‹å€¼è¿ç®—çš„æ¬¡æ•°ã€‚ä¼˜åŒ–ä»£ç å¦‚ä¸‹ï¼š /* @Description:&lt;p&gt;å®žçŽ°å¿«é€ŸæŽ’åºç®—æ³•&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-3 ä¸‹åˆ5:07:29 */public class QuickSort { /** * åˆ’åˆ† * @param arr * @param left * @param right * @return */ public static int partition(int[] arr, int left, int right) { int pivotKey = arr[left]; while(left &amp;lt; right) { while(left &amp;lt; right &amp;amp;&amp;amp; arr[right] &amp;gt;= pivotKey) right --; arr[left] = arr[right]; //æŠŠå°çš„ç§»åŠ¨åˆ°å·¦è¾¹ while(left &amp;lt; right &amp;amp;&amp;amp; arr[left] &amp;lt;= pivotKey) left ++; arr[right] = arr[left]; //æŠŠå¤§çš„ç§»åŠ¨åˆ°å³è¾¹ } arr[left] = pivotKey; //æœ€åŽæŠŠpivotèµ‹å€¼åˆ°ä¸­é—´ return left; } /** * é€’å½’åˆ’åˆ†å­åºåˆ— * @param arr * @param left * @param right */ public static void quickSort(int[] arr, int left, int right) { if(left &amp;gt;= right) return ; int pivotPos = partition(arr, left, right); quickSort(arr, left, pivotPos-1); quickSort(arr, pivotPos+1, right); } public static void sort(int[] arr) { if(arr == null || arr.length == 0) return ; quickSort(arr, 0, arr.length-1); } } æ€»ç»“å¿«é€ŸæŽ’åºçš„æ€æƒ³ï¼šå†’æ³¡+äºŒåˆ†+é€’å½’åˆ†æ²»ï¼Œæ…¢æ…¢ä½“ä¼šã€‚ã€‚ã€‚ å †æŽ’åºå †æŽ’åºæ˜¯å€ŸåŠ©å †æ¥å®žçŽ°çš„é€‰æ‹©æŽ’åºï¼Œæ€æƒ³åŒç®€å•çš„é€‰æ‹©æŽ’åºï¼Œä»¥ä¸‹ä»¥å¤§é¡¶å †ä¸ºä¾‹ã€‚æ³¨æ„ï¼šå¦‚æžœæƒ³å‡åºæŽ’åºå°±ä½¿ç”¨å¤§é¡¶å †ï¼Œåä¹‹ä½¿ç”¨å°é¡¶å †ã€‚åŽŸå› æ˜¯å †é¡¶å…ƒç´ éœ€è¦äº¤æ¢åˆ°åºåˆ—å°¾éƒ¨ã€‚ é¦–å…ˆï¼Œå®žçŽ°å †æŽ’åºéœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š 1. å¦‚ä½•ç”±ä¸€ä¸ªæ— åºåºåˆ—é”®æˆä¸€ä¸ªå †ï¼Ÿ 2. å¦‚ä½•åœ¨è¾“å‡ºå †é¡¶å…ƒç´ ä¹‹åŽï¼Œè°ƒæ•´å‰©ä½™å…ƒç´ æˆä¸ºä¸€ä¸ªæ–°çš„å †ï¼Ÿ ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨çº¿æ€§æ•°ç»„æ¥è¡¨ç¤ºä¸€ä¸ªå †ï¼Œç”±åˆå§‹çš„æ— åºåºåˆ—å»ºæˆä¸€ä¸ªå †å°±éœ€è¦è‡ªåº•å‘ä¸Šä»Žç¬¬ä¸€ä¸ªéžå¶å…ƒç´ å¼€å§‹æŒ¨ä¸ªè°ƒæ•´æˆä¸€ä¸ªå †ã€‚ ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæ€Žä¹ˆè°ƒæ•´æˆå †ï¼Ÿé¦–å…ˆæ˜¯å°†å †é¡¶å…ƒç´ å’Œæœ€åŽä¸€ä¸ªå…ƒç´ äº¤æ¢ã€‚ç„¶åŽæ¯”è¾ƒå½“å‰å †é¡¶å…ƒç´ çš„å·¦å³å­©å­èŠ‚ç‚¹ï¼Œå› ä¸ºé™¤äº†å½“å‰çš„å †é¡¶å…ƒç´ ï¼Œå·¦å³å­©å­å †å‡æ»¡è¶³æ¡ä»¶ï¼Œè¿™æ—¶éœ€è¦é€‰æ‹©å½“å‰å †é¡¶å…ƒç´ ä¸Žå·¦å³å­©å­èŠ‚ç‚¹çš„è¾ƒå¤§è€…ï¼ˆå¤§é¡¶å †ï¼‰äº¤æ¢ï¼Œç›´è‡³å¶å­èŠ‚ç‚¹ã€‚æˆ‘ä»¬ç§°è¿™ä¸ªè‡ªå †é¡¶è‡ªå¶å­çš„è°ƒæ•´æˆä¸ºç­›é€‰ã€‚ ä»Žä¸€ä¸ªæ— åºåºåˆ—å»ºå †çš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªåå¤ç­›é€‰çš„è¿‡ç¨‹ã€‚è‹¥å°†æ­¤åºåˆ—çœ‹æˆæ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œåˆ™æœ€åŽä¸€ä¸ªéžç»ˆç«¯èŠ‚ç‚¹æ˜¯n/2å–åº•ä¸ªå…ƒç´ ï¼Œç”±æ­¤ç­›é€‰å³å¯ã€‚ä¸¾ä¸ªæ —å­ï¼š 49,38,65,97,76,13,27,49åºåˆ—çš„å †æŽ’åºå»ºåˆå§‹å †å’Œè°ƒæ•´çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;å †æŽ’åºç®—æ³•çš„å®žçŽ°ï¼Œä»¥å¤§é¡¶å †ä¸ºä¾‹ã€‚&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-4 ä¸Šåˆ9:26:02 */public class HeapSort { /** * å †ç­›é€‰ï¼Œé™¤äº†startä¹‹å¤–ï¼Œstart~endå‡æ»¡è¶³å¤§é¡¶å †çš„å®šä¹‰ã€‚ * è°ƒæ•´ä¹‹åŽstart~endç§°ä¸ºä¸€ä¸ªå¤§é¡¶å †ã€‚ * @param arr å¾…è°ƒæ•´æ•°ç»„ * @param start èµ·å§‹æŒ‡é’ˆ * @param end ç»“æŸæŒ‡é’ˆ */ public static void heapAdjust(int[] arr, int start, int end) { int temp = arr[start]; for(int i=2*start+1; i&amp;lt;=end; i*=2) { //å·¦å³å­©å­çš„èŠ‚ç‚¹åˆ†åˆ«ä¸º2*i+1,2*i+2 //é€‰æ‹©å‡ºå·¦å³å­©å­è¾ƒå°çš„ä¸‹æ ‡ if(i &amp;lt; end &amp;amp;&amp;amp; arr[i] &amp;lt; arr[i+1]) { i ++; } if(temp &amp;gt;= arr[i]) { break; //å·²ç»ä¸ºå¤§é¡¶å †ï¼Œ=ä¿æŒç¨³å®šæ€§ã€‚ } arr[start] = arr[i]; //å°†å­èŠ‚ç‚¹ä¸Šç§» start = i; //ä¸‹ä¸€è½®ç­›é€‰ } arr[start] = temp; //æ’å…¥æ­£ç¡®çš„ä½ç½® } public static void heapSort(int[] arr) { if(arr == null || arr.length == 0) return ; //å»ºç«‹å¤§é¡¶å † for(int i=arr.length/2; i&amp;gt;=0; i--) { heapAdjust(arr, i, arr.length-1); } for(int i=arr.length-1; i&amp;gt;=0; i--) { swap(arr, 0, i); heapAdjust(arr, 0, i-1); } } public static void swap(int[] arr, int i, int j) { int temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } } å¸Œå°”æŽ’åºå¸Œå°”æŽ’åºæ˜¯æ’å…¥æŽ’åºçš„ä¸€ç§é«˜æ•ˆçŽ‡çš„å®žçŽ°ï¼Œä¹Ÿå«ç¼©å°å¢žé‡æŽ’åºã€‚ç®€å•çš„æ’å…¥æŽ’åºä¸­ï¼Œå¦‚æžœå¾…æŽ’åºåˆ—æ˜¯æ­£åºæ—¶ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå¦‚æžœåºåˆ—æ˜¯åŸºæœ¬æœ‰åºçš„ï¼Œä½¿ç”¨ç›´æŽ¥æ’å…¥æŽ’åºæ•ˆçŽ‡å°±éžå¸¸é«˜ã€‚å¸Œå°”æŽ’åºå°±åˆ©ç”¨äº†è¿™ä¸ªç‰¹ç‚¹ã€‚åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆå°†æ•´ä¸ªå¾…æŽ’è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æŽ¥æ’å…¥æŽ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—ä¸­çš„è®°å½•åŸºæœ¬æœ‰åºæ—¶å†å¯¹å…¨ä½“è®°å½•è¿›è¡Œä¸€æ¬¡ç›´æŽ¥æ’å…¥æŽ’åºã€‚ ä¸¾ä¸ªæ —å­ï¼š ä»Žä¸Šè¿°æŽ’åºè¿‡ç¨‹å¯è§ï¼Œå¸Œå°”æŽ’åºçš„ç‰¹ç‚¹æ˜¯ï¼Œå­åºåˆ—çš„æž„æˆä¸æ˜¯ç®€å•çš„é€æ®µåˆ†å‰²ï¼Œè€Œæ˜¯å°†æŸä¸ªç›¸éš”æŸä¸ªå¢žé‡çš„è®°å½•ç»„æˆä¸€ä¸ªå­åºåˆ—ã€‚å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œç¬¬ä¸€å ‚æŽ’åºæ—¶çš„å¢žé‡ä¸º5ï¼Œç¬¬äºŒè¶ŸæŽ’åºçš„å¢žé‡ä¸º3ã€‚ç”±äºŽå‰ä¸¤è¶Ÿçš„æ’å…¥æŽ’åºä¸­è®°å½•çš„å…³é”®å­—æ˜¯å’ŒåŒä¸€å­åºåˆ—ä¸­çš„å‰ä¸€ä¸ªè®°å½•çš„å…³é”®å­—è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤å…³é”®å­—è¾ƒå°çš„è®°å½•å°±ä¸æ˜¯ä¸€æ­¥ä¸€æ­¥åœ°å‘å‰æŒªåŠ¨ï¼Œè€Œæ˜¯è·³è·ƒå¼åœ°å¾€å‰ç§»ï¼Œä»Žè€Œä½¿å¾—è¿›è¡Œæœ€åŽä¸€è¶ŸæŽ’åºæ—¶ï¼Œæ•´ä¸ªåºåˆ—å·²ç»åšåˆ°åŸºæœ¬æœ‰åºï¼Œåªè¦ä½œè®°å½•çš„å°‘é‡æ¯”è¾ƒå’Œç§»åŠ¨å³å¯ã€‚å› æ­¤å¸Œå°”æŽ’åºçš„æ•ˆçŽ‡è¦æ¯”ç›´æŽ¥æ’å…¥æŽ’åºé«˜ã€‚ å¸Œå°”æŽ’åºçš„åˆ†æžæ˜¯å¤æ‚çš„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯æ‰€å–å¢žé‡çš„å‡½æ•°ï¼Œè¿™æ¶‰åŠä¸€äº›æ•°å­¦ä¸Šçš„éš¾é¢˜ã€‚ä½†æ˜¯åœ¨å¤§é‡å®žéªŒçš„åŸºç¡€ä¸ŠæŽ¨å‡ºå½“nåœ¨æŸä¸ªèŒƒå›´å†…æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°O(n^1.3)ã€‚ å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;å¸Œå°”æŽ’åºç®—æ³•å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-3 ä¸‹åˆ10:53:55 */public class ShellSort { /** * å¸Œå°”æŽ’åºçš„ä¸€è¶Ÿæ’å…¥ * @param arr å¾…æŽ’æ•°ç»„ * @param d å¢žé‡ */ public static void shellInsert(int[] arr, int d) { for(int i=d; i&amp;lt;arr.length; i++) { int j = i - d; int temp = arr[i]; //è®°å½•è¦æ’å…¥çš„æ•°æ® while (j&amp;gt;=0 &amp;amp;&amp;amp; arr[j]&amp;gt;temp) { //ä»ŽåŽå‘å‰ï¼Œæ‰¾åˆ°æ¯”å…¶å°çš„æ•°çš„ä½ç½® arr[j+d] = arr[j]; //å‘åŽæŒªåŠ¨ j -= d; } if (j != i - d) //å­˜åœ¨æ¯”å…¶å°çš„æ•° arr[j+d] = temp; } } public static void shellSort(int[] arr) { if(arr == null || arr.length == 0) return ; int d = arr.length / 2; while(d &amp;gt;= 1) { shellInsert(arr, d); d /= 2; } } } å½’å¹¶æŽ’åºå½’å¹¶æŽ’åºæ˜¯å¦ä¸€ç§ä¸åŒçš„æŽ’åºæ–¹æ³•ï¼Œå› ä¸ºå½’å¹¶æŽ’åºä½¿ç”¨äº†é€’å½’åˆ†æ²»çš„æ€æƒ³ï¼Œæ‰€ä»¥ç†è§£èµ·æ¥æ¯”è¾ƒå®¹æ˜“ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå…ˆé€’å½’åˆ’åˆ†å­é—®é¢˜ï¼Œç„¶åŽåˆå¹¶ç»“æžœã€‚æŠŠå¾…æŽ’åºåˆ—çœ‹æˆç”±ä¸¤ä¸ªæœ‰åºçš„å­åºåˆ—ï¼Œç„¶åŽåˆå¹¶ä¸¤ä¸ªå­åºåˆ—ï¼Œç„¶åŽæŠŠå­åºåˆ—çœ‹æˆç”±ä¸¤ä¸ªæœ‰åºåºåˆ—ã€‚ã€‚ã€‚ã€‚ã€‚å€’ç€æ¥çœ‹ï¼Œå…¶å®žå°±æ˜¯å…ˆä¸¤ä¸¤åˆå¹¶ï¼Œç„¶åŽå››å››åˆå¹¶ã€‚ã€‚ã€‚æœ€ç»ˆå½¢æˆæœ‰åºåºåˆ—ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚ ä¸¾ä¸ªæ —å­ï¼š å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;å½’å¹¶æŽ’åºç®—æ³•çš„å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-4 ä¸Šåˆ8:14:20 */public class MergeSort { public static void mergeSort(int[] arr) { mSort(arr, 0, arr.length-1); } /** * é€’å½’åˆ†æ²» * @param arr å¾…æŽ’æ•°ç»„ * @param left å·¦æŒ‡é’ˆ * @param right å³æŒ‡é’ˆ */ public static void mSort(int[] arr, int left, int right) { if(left &amp;gt;= right) return ; int mid = (left + right) / 2; mSort(arr, left, mid); //é€’å½’æŽ’åºå·¦è¾¹ mSort(arr, mid+1, right); //é€’å½’æŽ’åºå³è¾¹ merge(arr, left, mid, right); //åˆå¹¶ } /** * åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ * @param arr å¾…åˆå¹¶æ•°ç»„ * @param left å·¦æŒ‡é’ˆ * @param mid ä¸­é—´æŒ‡é’ˆ * @param right å³æŒ‡é’ˆ */ public static void merge(int[] arr, int left, int mid, int right) { //[left, mid] [mid+1, right] int[] temp = new int[right - left + 1]; //ä¸­é—´æ•°ç»„ int i = left; int j = mid + 1; int k = 0; while(i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= right) { if(arr[i] &amp;lt;= arr[j]) { temp[k++] = arr[i++]; } else { temp[k++] = arr[j++]; } } while(i &amp;lt;= mid) { temp[k++] = arr[i++]; } while(j &amp;lt;= right) { temp[k++] = arr[j++]; } for(int p=0; p&amp;lt;temp.length; p++) { arr[left + p] = temp[p]; } } } è®¡æ•°æŽ’åºå¦‚æžœåœ¨é¢è¯•ä¸­æœ‰é¢è¯•å®˜è¦æ±‚ä½ å†™ä¸€ä¸ªO(n)æ—¶é—´å¤æ‚åº¦çš„æŽ’åºç®—æ³•ï¼Œä½ åƒä¸‡ä¸è¦ç«‹åˆ»è¯´ï¼šè¿™ä¸å¯èƒ½ï¼è™½ç„¶å‰é¢åŸºäºŽæ¯”è¾ƒçš„æŽ’åºçš„ä¸‹é™æ˜¯O(nlogn)ã€‚ä½†æ˜¯ç¡®å®žä¹Ÿæœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æŽ’åºï¼Œåªä¸è¿‡æœ‰å‰ææ¡ä»¶ï¼Œå°±æ˜¯å¾…æŽ’åºçš„æ•°è¦æ»¡è¶³ä¸€å®šçš„èŒƒå›´çš„æ•´æ•°ï¼Œè€Œä¸”è®¡æ•°æŽ’åºéœ€è¦æ¯”è¾ƒå¤šçš„è¾…åŠ©ç©ºé—´ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œç”¨å¾…æŽ’åºçš„æ•°ä½œä¸ºè®¡æ•°æ•°ç»„çš„ä¸‹æ ‡ï¼Œç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„ä¸ªæ•°ã€‚ç„¶åŽä¾æ¬¡è¾“å‡ºå³å¯å¾—åˆ°æœ‰åºåºåˆ—ã€‚ å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;è®¡æ•°æŽ’åºç®—æ³•å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-4 ä¸‹åˆ4:52:02 */public class CountSort { public static void countSort(int[] arr) { if(arr == null || arr.length == 0) return ; int max = max(arr); int[] count = new int[max+1]; Arrays.fill(count, 0); for(int i=0; i&amp;lt;arr.length; i++) { count[arr[i]] ++; } int k = 0; for(int i=0; i&amp;lt;=max; i++) { for(int j=0; j&amp;lt;count[i]; j++) { arr[k++] = i; } } } public static int max(int[] arr) { int max = Integer.MIN_VALUE; for(int ele : arr) { if(ele &amp;gt; max) max = ele; } return max; } } æ¡¶æŽ’åºæ¡¶æŽ’åºç®—æ˜¯è®¡æ•°æŽ’åºçš„ä¸€ç§æ”¹è¿›å’ŒæŽ¨å¹¿ï¼Œä½†æ˜¯ç½‘ä¸Šæœ‰è®¸å¤šèµ„æ–™æŠŠè®¡æ•°æŽ’åºå’Œæ¡¶æŽ’åºæ··ä¸ºä¸€è°ˆã€‚å…¶å®žæ¡¶æŽ’åºè¦æ¯”è®¡æ•°æŽ’åºå¤æ‚è®¸å¤šã€‚ å¯¹æ¡¶æŽ’åºçš„åˆ†æžå’Œè§£é‡Šå€Ÿé‰´è¿™ä½å…„å¼Ÿçš„æ–‡ç« ï¼ˆæœ‰æ”¹åŠ¨ï¼‰ï¼šhttp://hxraid.iteye.com/blog/647759 æ¡¶æŽ’åºçš„åŸºæœ¬æ€æƒ³ï¼š å‡è®¾æœ‰ä¸€ç»„é•¿åº¦ä¸ºNçš„å¾…æŽ’å…³é”®å­—åºåˆ—K[1â€¦.n]ã€‚é¦–å…ˆå°†è¿™ä¸ªåºåˆ—åˆ’åˆ†æˆMä¸ªçš„å­åŒºé—´(æ¡¶) ã€‚ç„¶åŽåŸºäºŽæŸç§æ˜ å°„å‡½æ•° ï¼Œå°†å¾…æŽ’åºåˆ—çš„å…³é”®å­—kæ˜ å°„åˆ°ç¬¬iä¸ªæ¡¶ä¸­(å³æ¡¶æ•°ç»„Bçš„ä¸‹æ ‡ i) ï¼Œé‚£ä¹ˆè¯¥å…³é”®å­—kå°±ä½œä¸ºB[i]ä¸­çš„å…ƒç´ (æ¯ä¸ªæ¡¶B[i]éƒ½æ˜¯ä¸€ç»„å¤§å°ä¸ºN/Mçš„åºåˆ—)ã€‚æŽ¥ç€å¯¹æ¯ä¸ªæ¡¶B[i]ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ¯”è¾ƒæŽ’åº(å¯ä»¥ä½¿ç”¨å¿«æŽ’)ã€‚ç„¶åŽä¾æ¬¡æžšä¸¾è¾“å‡ºB[0]&#8230;.B[M]ä¸­çš„å…¨éƒ¨å†…å®¹å³æ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚bindex=f(key) å…¶ä¸­ï¼Œbindex ä¸ºæ¡¶æ•°ç»„Bçš„ä¸‹æ ‡(å³ç¬¬bindexä¸ªæ¡¶), kä¸ºå¾…æŽ’åºåˆ—çš„å…³é”®å­—ã€‚æ¡¶æŽ’åºä¹‹æ‰€ä»¥èƒ½å¤Ÿé«˜æ•ˆï¼Œå…¶å…³é”®åœ¨äºŽè¿™ä¸ªæ˜ å°„å‡½æ•°ï¼Œå®ƒå¿…é¡»åšåˆ°ï¼šå¦‚æžœå…³é”®å­—k1&lt;k2ï¼Œé‚£ä¹ˆf(k1)&lt;=f(k2)ã€‚ä¹Ÿå°±æ˜¯è¯´B(i)ä¸­çš„æœ€å°æ•°æ®éƒ½è¦å¤§äºŽB(i-1)ä¸­æœ€å¤§æ•°æ®ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ˜ å°„å‡½æ•°çš„ç¡®å®šä¸Žæ•°æ®æœ¬èº«çš„ç‰¹ç‚¹æœ‰å¾ˆå¤§çš„å…³ç³»ã€‚ ä¸¾ä¸ªæ —å­ï¼š å‡å¦‚å¾…æŽ’åºåˆ—K= {49ã€ 38 ã€ 35ã€ 97 ã€ 76ã€ 73 ã€ 27ã€ 49 }ã€‚è¿™äº›æ•°æ®å…¨éƒ¨åœ¨1â€”100ä¹‹é—´ã€‚å› æ­¤æˆ‘ä»¬å®šåˆ¶10ä¸ªæ¡¶ï¼Œç„¶åŽç¡®å®šæ˜ å°„å‡½æ•°f(k)=k/10ã€‚åˆ™ç¬¬ä¸€ä¸ªå…³é”®å­—49å°†å®šä½åˆ°ç¬¬4ä¸ªæ¡¶ä¸­(49/10=4)ã€‚ä¾æ¬¡å°†æ‰€æœ‰å…³é”®å­—å…¨éƒ¨å †å…¥æ¡¶ä¸­ï¼Œå¹¶åœ¨æ¯ä¸ªéžç©ºçš„æ¡¶ä¸­è¿›è¡Œå¿«é€ŸæŽ’åºåŽå¾—åˆ°å¦‚å›¾æ‰€ç¤ºã€‚åªè¦é¡ºåºè¾“å‡ºæ¯ä¸ªB[i]ä¸­çš„æ•°æ®å°±å¯ä»¥å¾—åˆ°æœ‰åºåºåˆ—äº†ã€‚ æ¡¶æŽ’åºåˆ†æžï¼š æ¡¶æŽ’åºåˆ©ç”¨å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œå‡å°‘äº†å‡ ä¹Žæ‰€æœ‰çš„æ¯”è¾ƒå·¥ä½œã€‚å®žé™…ä¸Šï¼Œæ¡¶æŽ’åºçš„f(k)å€¼çš„è®¡ç®—ï¼Œå…¶ä½œç”¨å°±ç›¸å½“äºŽå¿«æŽ’ä¸­åˆ’åˆ†ï¼Œå¸Œå°”æŽ’åºä¸­çš„å­åºåˆ—ï¼Œå½’å¹¶æŽ’åºä¸­çš„å­é—®é¢˜ï¼Œå·²ç»æŠŠå¤§é‡æ•°æ®åˆ†å‰²æˆäº†åŸºæœ¬æœ‰åºçš„æ•°æ®å—(æ¡¶)ã€‚ç„¶åŽåªéœ€è¦å¯¹æ¡¶ä¸­çš„å°‘é‡æ•°æ®åšå…ˆè¿›çš„æ¯”è¾ƒæŽ’åºå³å¯ã€‚ å¯¹Nä¸ªå…³é”®å­—è¿›è¡Œæ¡¶æŽ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š (1) å¾ªçŽ¯è®¡ç®—æ¯ä¸ªå…³é”®å­—çš„æ¡¶æ˜ å°„å‡½æ•°ï¼Œè¿™ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯O(N)ã€‚ (2) åˆ©ç”¨å…ˆè¿›çš„æ¯”è¾ƒæŽ’åºç®—æ³•å¯¹æ¯ä¸ªæ¡¶å†…çš„æ‰€æœ‰æ•°æ®è¿›è¡ŒæŽ’åºï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º âˆ‘ O(Ni*logNi) ã€‚å…¶ä¸­Ni ä¸ºç¬¬iä¸ªæ¡¶çš„æ•°æ®é‡ã€‚ å¾ˆæ˜¾ç„¶ï¼Œç¬¬(2)éƒ¨åˆ†æ˜¯æ¡¶æŽ’åºæ€§èƒ½å¥½åçš„å†³å®šå› ç´ ã€‚å°½é‡å‡å°‘æ¡¶å†…æ•°æ®çš„æ•°é‡æ˜¯æé«˜æ•ˆçŽ‡çš„å”¯ä¸€åŠžæ³•(å› ä¸ºåŸºäºŽæ¯”è¾ƒæŽ’åºçš„æœ€å¥½å¹³å‡æ—¶é—´å¤æ‚åº¦åªèƒ½è¾¾åˆ°O(N*logN)äº†)ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°½é‡åšåˆ°ä¸‹é¢ä¸¤ç‚¹ï¼š (1) æ˜ å°„å‡½æ•°f(k)èƒ½å¤Ÿå°†Nä¸ªæ•°æ®å¹³å‡çš„åˆ†é…åˆ°Mä¸ªæ¡¶ä¸­ï¼Œè¿™æ ·æ¯ä¸ªæ¡¶å°±æœ‰[N/M]ä¸ªæ•°æ®é‡ã€‚ (2) å°½é‡çš„å¢žå¤§æ¡¶çš„æ•°é‡ã€‚æžé™æƒ…å†µä¸‹æ¯ä¸ªæ¡¶åªèƒ½å¾—åˆ°ä¸€ä¸ªæ•°æ®ï¼Œè¿™æ ·å°±å®Œå…¨é¿å¼€äº†æ¡¶å†…æ•°æ®çš„â€œæ¯”è¾ƒâ€æŽ’åºæ“ä½œã€‚å½“ç„¶ï¼Œåšåˆ°è¿™ä¸€ç‚¹å¾ˆä¸å®¹æ˜“ï¼Œæ•°æ®é‡å·¨å¤§çš„æƒ…å†µä¸‹ï¼Œf(k)å‡½æ•°ä¼šä½¿å¾—æ¡¶é›†åˆçš„æ•°é‡å·¨å¤§ï¼Œç©ºé—´æµªè´¹ä¸¥é‡ã€‚è¿™å°±æ˜¯ä¸€ä¸ªæ—¶é—´ä»£ä»·å’Œç©ºé—´ä»£ä»·çš„æƒè¡¡é—®é¢˜äº†ã€‚ å¯¹äºŽNä¸ªå¾…æŽ’æ•°æ®ï¼ŒMä¸ªæ¡¶ï¼Œå¹³å‡æ¯ä¸ªæ¡¶[N/M]ä¸ªæ•°æ®çš„æ¡¶æŽ’åºå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºï¼š O(N)+O(M(N/M)log(N/M))=O(N+N(logN-logM))=O(N+NlogN-N*logM) å½“N=Mæ—¶ï¼Œå³æžé™æƒ…å†µä¸‹æ¯ä¸ªæ¡¶åªæœ‰ä¸€ä¸ªæ•°æ®æ—¶ã€‚æ¡¶æŽ’åºçš„æœ€å¥½æ•ˆçŽ‡èƒ½å¤Ÿè¾¾åˆ°O(N)ã€‚ æ€»ç»“ï¼š æ¡¶æŽ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºçº¿æ€§çš„O(N+C)ï¼Œå…¶ä¸­C=N*(logN-logM)ã€‚å¦‚æžœç›¸å¯¹äºŽåŒæ ·çš„Nï¼Œæ¡¶æ•°é‡Mè¶Šå¤§ï¼Œå…¶æ•ˆçŽ‡è¶Šé«˜ï¼Œæœ€å¥½çš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°O(N)ã€‚ å½“ç„¶æ¡¶æŽ’åºçš„ç©ºé—´å¤æ‚åº¦ ä¸ºO(N+M)ï¼Œå¦‚æžœè¾“å…¥æ•°æ®éžå¸¸åºžå¤§ï¼Œè€Œæ¡¶çš„æ•°é‡ä¹Ÿéžå¸¸å¤šï¼Œåˆ™ç©ºé—´ä»£ä»·æ— ç–‘æ˜¯æ˜‚è´µçš„ã€‚æ­¤å¤–ï¼Œæ¡¶æŽ’åºæ˜¯ç¨³å®šçš„ã€‚ å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;æ¡¶æŽ’åºç®—æ³•å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-4 ä¸‹åˆ7:39:31 */public class BucketSort { public static void bucketSort(int[] arr) { if(arr == null &amp;amp;&amp;amp; arr.length == 0) return ; int bucketNums = 10; //è¿™é‡Œé»˜è®¤ä¸º10ï¼Œè§„å®šå¾…æŽ’æ•°[0,100) List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; buckets = new ArrayList&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt;(); //æ¡¶çš„ç´¢å¼• for(int i=0; i&amp;lt;10; i++) { buckets.add(new LinkedList&amp;lt;Integer&amp;gt;()); //ç”¨é“¾è¡¨æ¯”è¾ƒåˆé€‚ } //åˆ’åˆ†æ¡¶ for(int i=0; i&amp;lt;arr.length; i++) { buckets.get(f(arr[i])).add(arr[i]); } //å¯¹æ¯ä¸ªæ¡¶è¿›è¡ŒæŽ’åº for(int i=0; i&amp;lt;buckets.size(); i++) { if(!buckets.get(i).isEmpty()) { Collections.sort(buckets.get(i)); //å¯¹æ¯ä¸ªæ¡¶è¿›è¡Œå¿«æŽ’ } } //è¿˜åŽŸæŽ’å¥½åºçš„æ•°ç»„ int k = 0; for(List&amp;lt;Integer&amp;gt; bucket : buckets) { for(int ele : bucket) { arr[k++] = ele; } } } /** * æ˜ å°„å‡½æ•° * @param x * @return */ public static int f(int x) { return x / 10; } } åŸºæ•°æŽ’åºåŸºæ•°æŽ’åºåˆæ˜¯ä¸€ç§å’Œå‰é¢æŽ’åºæ–¹å¼ä¸åŒçš„æŽ’åºæ–¹å¼ï¼ŒåŸºæ•°æŽ’åºä¸éœ€è¦è¿›è¡Œè®°å½•å…³é”®å­—ä¹‹é—´çš„æ¯”è¾ƒã€‚åŸºæ•°æŽ’åºæ˜¯ä¸€ç§å€ŸåŠ©å¤šå…³é”®å­—æŽ’åºæ€æƒ³å¯¹å•é€»è¾‘å…³é”®å­—è¿›è¡ŒæŽ’åºçš„æ–¹æ³•ã€‚æ‰€è°“çš„å¤šå…³é”®å­—æŽ’åºå°±æ˜¯æœ‰å¤šä¸ªä¼˜å…ˆçº§ä¸åŒçš„å…³é”®å­—ã€‚æ¯”å¦‚è¯´æˆç»©çš„æŽ’åºï¼Œå¦‚æžœä¸¤ä¸ªäººæ€»åˆ†ç›¸åŒï¼Œåˆ™è¯­æ–‡é«˜çš„æŽ’åœ¨å‰é¢ï¼Œè¯­æ–‡æˆç»©ä¹Ÿç›¸åŒåˆ™æ•°å­¦é«˜çš„æŽ’åœ¨å‰é¢ã€‚ã€‚ã€‚å¦‚æžœå¯¹æ•°å­—è¿›è¡ŒæŽ’åºï¼Œé‚£ä¹ˆä¸ªä½ã€åä½ã€ç™¾ä½å°±æ˜¯ä¸åŒä¼˜å…ˆçº§çš„å…³é”®å­—ï¼Œå¦‚æžœè¦è¿›è¡Œå‡åºæŽ’åºï¼Œé‚£ä¹ˆä¸ªä½ã€åä½ã€ç™¾ä½ä¼˜å…ˆçº§ä¸€æ¬¡å¢žåŠ ã€‚åŸºæ•°æŽ’åºæ˜¯é€šè¿‡å¤šæ¬¡çš„æ”¶åˆ†é…å’Œæ”¶é›†æ¥å®žçŽ°çš„ï¼Œå…³é”®å­—ä¼˜å…ˆçº§ä½Žçš„å…ˆè¿›è¡Œåˆ†é…å’Œæ”¶é›†ã€‚ ä¸¾ä¸ªæ —å­ï¼š å®žçŽ°ä»£ç ï¼š /* @Description:&lt;p&gt;åŸºæ•°æŽ’åºç®—æ³•å®žçŽ°&lt;/p&gt; @author çŽ‹æ—­ @time 2016-3-4 ä¸‹åˆ8:29:52 */public class RadixSort { public static void radixSort(int[] arr) { if(arr == null &amp;amp;&amp;amp; arr.length == 0) return ; int maxBit = getMaxBit(arr); for(int i=1; i&amp;lt;=maxBit; i++) { List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; buf = distribute(arr, i); //åˆ†é… collecte(arr, buf); //æ”¶é›† } } /** * åˆ†é… * @param arr å¾…åˆ†é…æ•°ç»„ * @param iBit è¦åˆ†é…ç¬¬å‡ ä½ * @return */ public static List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; distribute(int[] arr, int iBit) { List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; buf = new ArrayList&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt;(); for(int j=0; j&amp;lt;10; j++) { buf.add(new LinkedList&amp;lt;Integer&amp;gt;()); } for(int i=0; i&amp;lt;arr.length; i++) { buf.get(getNBit(arr[i], iBit)).add(arr[i]); } return buf; } /** * æ”¶é›† * @param arr æŠŠåˆ†é…çš„æ•°æ®æ”¶é›†åˆ°arrä¸­ * @param buf */ public static void collecte(int[] arr, List&amp;lt;List&amp;lt;Integer&amp;gt;&amp;gt; buf) { int k = 0; for(List&amp;lt;Integer&amp;gt; bucket : buf) { for(int ele : bucket) { arr[k++] = ele; } } } /** * èŽ·å–æœ€å¤§ä½æ•° * @param x * @return */ public static int getMaxBit(int[] arr) { int max = Integer.MIN_VALUE; for(int ele : arr) { int len = (ele+&quot;&quot;).length(); if(len &amp;gt; max) max = len; } return max; } /** * èŽ·å–xçš„ç¬¬nä½ï¼Œå¦‚æžœæ²¡æœ‰åˆ™ä¸º0. * @param x * @param n * @return */ public static int getNBit(int x, int n) { String sx = x + &quot;&quot;; if(sx.length() &amp;lt; n) return 0; else return sx.charAt(sx.length()-n) - &apos;0&apos;; } } æ€»ç»“åœ¨å‰é¢çš„ä»‹ç»å’Œåˆ†æžä¸­æˆ‘ä»¬æåˆ°äº†å†’æ³¡æŽ’åºã€é€‰æ‹©æŽ’åºã€æ’å…¥æŽ’åºä¸‰ç§ç®€å•çš„æŽ’åºåŠå…¶å˜ç§å¿«é€ŸæŽ’åºã€å †æŽ’åºã€å¸Œå°”æŽ’åºä¸‰ç§æ¯”è¾ƒé«˜æ•ˆçš„æŽ’åºã€‚åŽé¢æˆ‘ä»¬åˆåˆ†æžäº†åŸºäºŽåˆ†æ²»é€’å½’æ€æƒ³çš„å½’å¹¶æŽ’åºè¿˜æœ‰è®¡æ•°æŽ’åºã€æ¡¶æŽ’åºã€åŸºæ•°æŽ’åºä¸‰ç§çº¿æ€§æŽ’åºã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“æŽ’åºç®—æ³•è¦ä¹ˆç®€å•æœ‰æ•ˆï¼Œè¦ä¹ˆæ˜¯åˆ©ç”¨ç®€å•æŽ’åºçš„ç‰¹ç‚¹åŠ ä»¥æ”¹è¿›ï¼Œè¦ä¹ˆæ˜¯ä»¥ç©ºé—´æ¢å–æ—¶é—´åœ¨ç‰¹å®šæƒ…å†µä¸‹çš„é«˜æ•ˆæŽ’åºã€‚ä½†æ˜¯è¿™äº›æŽ’åºæ–¹æ³•éƒ½ä¸æ˜¯å›ºå®šä¸å˜çš„ï¼Œéœ€è¦ç»“åˆå…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯æ¥é€‰æ‹©ç”šè‡³ç»„åˆä½¿ç”¨ã€‚æ‰èƒ½è¾¾åˆ°é«˜æ•ˆç¨³å®šçš„ç›®çš„ã€‚æ²¡æœ‰æœ€å¥½çš„æŽ’åºï¼Œåªæœ‰æœ€é€‚åˆçš„æŽ’åºã€‚ ä¸‹é¢å°±æ€»ç»“ä¸€ä¸‹æŽ’åºç®—æ³•çš„å„è‡ªçš„ä½¿ç”¨åœºæ™¯å’Œé€‚ç”¨åœºåˆã€‚ 1. ä»Žå¹³å‡æ—¶é—´æ¥çœ‹ï¼Œå¿«é€ŸæŽ’åºæ˜¯æ•ˆçŽ‡æœ€é«˜çš„ï¼Œä½†å¿«é€ŸæŽ’åºåœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´æ€§èƒ½ä¸å¦‚å †æŽ’åºå’Œå½’å¹¶æŽ’åºã€‚è€ŒåŽè€…ç›¸æ¯”è¾ƒçš„ç»“æžœæ˜¯ï¼Œåœ¨nè¾ƒå¤§æ—¶å½’å¹¶æŽ’åºä½¿ç”¨æ—¶é—´è¾ƒå°‘ï¼Œä½†ä½¿ç”¨è¾…åŠ©ç©ºé—´è¾ƒå¤šã€‚ 2. ä¸Šé¢è¯´çš„ç®€å•æŽ’åºåŒ…æ‹¬é™¤å¸Œå°”æŽ’åºä¹‹å¤–çš„æ‰€æœ‰å†’æ³¡æŽ’åºã€æ’å…¥æŽ’åºã€ç®€å•é€‰æ‹©æŽ’åºã€‚å…¶ä¸­ç›´æŽ¥æ’å…¥æŽ’åºæœ€ç®€å•ï¼Œä½†åºåˆ—åŸºæœ¬æœ‰åºæˆ–è€…nè¾ƒå°æ—¶ï¼Œç›´æŽ¥æ’å…¥æŽ’åºæ˜¯å¥½çš„æ–¹æ³•ï¼Œå› æ­¤å¸¸å°†å®ƒå’Œå…¶ä»–çš„æŽ’åºæ–¹æ³•ï¼Œå¦‚å¿«é€ŸæŽ’åºã€å½’å¹¶æŽ’åºç­‰ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚ 3. åŸºæ•°æŽ’åºçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿå¯ä»¥å†™æˆO(d*n)ã€‚å› æ­¤å®ƒæœ€ä½¿ç”¨äºŽnå€¼å¾ˆå¤§è€Œå…³é”®å­—è¾ƒå°çš„çš„åºåˆ—ã€‚è‹¥å…³é”®å­—ä¹Ÿå¾ˆå¤§ï¼Œè€Œåºåˆ—ä¸­å¤§å¤šæ•°è®°å½•çš„æœ€é«˜å…³é”®å­—å‡ä¸åŒï¼Œåˆ™äº¦å¯å…ˆæŒ‰æœ€é«˜å…³é”®å­—ä¸åŒï¼Œå°†åºåˆ—åˆ†æˆè‹¥å¹²å°çš„å­åºåˆ—ï¼Œè€ŒåŽè¿›è¡Œç›´æŽ¥æ’å…¥æŽ’åºã€‚ 4. ä»Žæ–¹æ³•çš„ç¨³å®šæ€§æ¥æ¯”è¾ƒï¼ŒåŸºæ•°æŽ’åºæ˜¯ç¨³å®šçš„å†…æŽ’æ–¹æ³•ï¼Œæ‰€æœ‰æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)çš„ç®€å•æŽ’åºä¹Ÿæ˜¯ç¨³å®šçš„ã€‚ä½†æ˜¯å¿«é€ŸæŽ’åºã€å †æŽ’åºã€å¸Œå°”æŽ’åºç­‰æ—¶é—´æ€§èƒ½è¾ƒå¥½çš„æŽ’åºæ–¹æ³•éƒ½æ˜¯ä¸ç¨³å®šçš„ã€‚ç¨³å®šæ€§éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ã€‚ 5. ä¸Šé¢çš„ç®—æ³•å®žçŽ°å¤§å¤šæ•°æ˜¯ä½¿ç”¨çº¿æ€§å­˜å‚¨ç»“æž„ï¼Œåƒæ’å…¥æŽ’åºè¿™ç§ç®—æ³•ç”¨é“¾è¡¨å®žçŽ°æ›´å¥½ï¼ŒçœåŽ»äº†ç§»åŠ¨å…ƒç´ çš„æ—¶é—´ã€‚å…·ä½“çš„å­˜å‚¨ç»“æž„åœ¨å…·ä½“çš„å®žçŽ°ç‰ˆæœ¬ä¸­ä¹Ÿæ˜¯ä¸åŒçš„ã€‚ é™„ï¼šåŸºäºŽæ¯”è¾ƒæŽ’åºç®—æ³•æ—¶é—´ä¸‹é™ä¸ºO(nlogn)çš„è¯æ˜Žï¼š åŸºäºŽæ¯”è¾ƒæŽ’åºä¸‹é™çš„è¯æ˜Žæ˜¯é€šè¿‡å†³ç­–æ ‘è¯æ˜Žçš„ï¼Œå†³ç­–æ ‘çš„é«˜åº¦Î©ï¼ˆnlgnï¼‰ï¼Œè¿™æ ·å°±å¾—å‡ºäº†æ¯”è¾ƒæŽ’åºçš„ä¸‹é™ã€‚ é¦–å…ˆè¦å¼•å…¥å†³ç­–æ ‘ã€‚ é¦–å…ˆå†³ç­–æ ‘æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºå…ƒç´ ä¹‹é—´ä¸€ç»„å¯èƒ½çš„æŽ’åºï¼Œå®ƒäºˆä»¥äº¬è¿›è¡Œçš„æ¯”è¾ƒç›¸ä¸€è‡´ï¼Œæ¯”è¾ƒçš„ç»“æžœæ˜¯æ ‘çš„è¾¹ã€‚ å…ˆæ¥è¯´æ˜Žä¸€äº›äºŒå‰æ ‘çš„æ€§è´¨ï¼Œä»¤Tæ˜¯æ·±åº¦ä¸ºdçš„äºŒå‰æ ‘ï¼Œåˆ™Tæœ€å¤šæœ‰2^ç‰‡æ ‘å¶ã€‚ å…·æœ‰Lç‰‡æ ‘å¶çš„äºŒå‰æ ‘çš„æ·±åº¦è‡³å°‘æ˜¯logLã€‚ æ‰€ä»¥ï¼Œå¯¹nä¸ªå…ƒç´ æŽ’åºçš„å†³ç­–æ ‘å¿…ç„¶æœ‰n!ç‰‡æ ‘å¶ï¼ˆå› ä¸ºnä¸ªæ•°æœ‰n!ç§ä¸åŒçš„å¤§å°å…³ç³»ï¼‰ï¼Œæ‰€ä»¥å†³ç­–æ ‘çš„æ·±åº¦è‡³å°‘æ˜¯log(n!)ï¼Œå³è‡³å°‘éœ€è¦log(n!)æ¬¡æ¯”è¾ƒã€‚ è€Œ log(n!)=logn+log(n-1)+log(n-2)+&#8230;+log2+log1 &gt;=logn+log(n-1)+log(n-2)+&#8230;+log(n/2) &gt;=(n/2)log(n/2) &gt;=(n/2)logn-n/2 =O(nlogn) æ‰€ä»¥åªç”¨åˆ°æ¯”è¾ƒçš„æŽ’åºç®—æ³•æœ€ä½Žæ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ã€‚ å‚è€ƒèµ„æ–™ï¼š ã€Šæ•°æ®ç»“æž„ã€‹ ä¸¥è”šæ• å´ä¼Ÿæ°‘ ç¼–è‘— æ¡¶æŽ’åºåˆ†æžï¼šhttp://hxraid.iteye.com/blog/647759 éƒ¨åˆ†æŽ’åºç®—æ³•åˆ†æžä¸Žä»‹ç»ï¼šhttp://www.cnblogs.com/weixliu/archive/2012/12/23/2829671.html var strBatchView = 37731]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Web å‰ç«¯å­¦ä¹ ç¬”è®°ä¹‹ä¸€]]></title>
    <url>%2F2018%2F04%2F13%2F2018%2FWeb-%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E4%B8%80%2F</url>
    <content type="text"><![CDATA[CSS HTML ç»“æž„ CSS å†…åµŒå†™æ³• / å¤–é“¾å†™æ³• 12345&lt;style type=&quot;text/css&quot;&gt; ... &lt;/style&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;1.css&quot;&gt; JavaScript å†…åµŒå†™æ³• / å¤–é“¾å†™æ³• 1234&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt; JavaScript çš„å‡ ç§è°ƒè¯•æ–¹å¼ 12345alert(&apos;ssssss&apos;); // alert ç¡®å®šæŒ‰é’®confirm(&apos;s&apos;); // alert + ç¡®å®š å’Œ å–æ¶ˆæŒ‰é’®console.log(&apos;2&apos;); // æŽ§åˆ¶å°è¾“å‡ºprompt(&apos;sss&apos;); // å¼¹å‡ºä¸€ä¸ªç”¨æˆ·è¾“å…¥æ¡† æœé›†æ¶ˆæ¯document.write(&apos;ssss&apos;) ; // åœ¨é¡µé¢è¾“å…¥å†…å®¹]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åº]]></title>
    <url>%2F2018%2F03%2F26%2F2018%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[å¾®ä¿¡å°ç¨‹åºæ•°æ®ç±»åž‹ WXS è¯­è¨€ç›®å‰å…±æœ‰ä»¥ä¸‹å‡ ç§æ•°æ®ç±»åž‹ï¼š number ï¼š æ•°å€¼ string ï¼šå­—ç¬¦ä¸² booleanï¼šå¸ƒå°”å€¼ objectï¼šå¯¹è±¡ functionï¼šå‡½æ•° array : æ•°ç»„ dateï¼šæ—¥æœŸ regexpï¼šæ­£åˆ™ å°ç¨‹åºå®˜æ–¹æ–‡æ¡£ æ•°ç»„æ“ä½œ1234567891011// å£°æ˜Žä¸€ä¸ªæ•°ç»„var arr = []// æ·»åŠ ä¸€ä¸ªå¯¹è±¡,åŒæ—¶è¿”å›žæ·»åŠ åŽçš„æ•°ç»„é•¿åº¦arr.push(&apos;&apos;)// åˆ é™¤æœ€åŽä¸€ä¸ªå¯¹è±¡,åŒæ—¶è¿”å›žè¿™ä¸ªæ•°ç»„arr.pop()// ä»Žsidxä½ç½®å¼€å§‹åˆ é™¤lenä¸ªå¯¹è±¡arr.splice(sidx, len) JavaScriptä¸­å¯¹æ•°ç»„çš„ä¸€äº›æ“ä½œå‡½æ•°ï¼Œå¯å‚è€ƒ String å’Œ Number ç›¸äº’è½¬æ¢1234567891011121314151617// ä¼šè‡ªåŠ¨å¿½ç•¥æŽ‰æœ«å°¾çš„0 æ¯”å¦‚ ã€ 1.00.toString() = '1' ã€‘ ã€ parseFloat('1.00') = 1 ã€‘var n = 10String(1)n.toString()console.log(parseInt("1.001"));console.log(parseFloat('1.00'));// ä»·æ ¼è½¬æ¢var price = 100.99; // å…ƒä¸ºå•ä½price.toFixed(price); // '100.99'(100.00).toFixed(); // '100.00'var price = 10009; // åˆ†ä¸ºå•ä½(10009/100.0).toFixed(price); // '100.99'(10000/100.0).toFixed(100.00); // '100.00' JSæ–‡ä»¶ä¸­çš„å„ç§å†™æ³• 12345678910111213141516171819202122232425262728293031323334// ä½¿ç”¨ module.exports è¾“å‡ºå¯¹è±¡module.exports = &#123;formatTime: formatTime&#125;// å¼•ç”¨const obj = require(&apos;./utils/util&apos;) // ç›¸å¯¹è·¯å¾„ . è¡¨ç¤ºå½“å‰è·¯å¾„ .. è¡¨ç¤ºå½“å‰è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„const obj = require(&apos;/utils/util&apos;) // ç»å¯¹è·¯å¾„const obj = require(&apos;../utils/util&apos;) // ç›¸å¯¹è·¯å¾„// å®šä¹‰ä¸€ä¸ªå˜é‡var num1 = 10;// å®šä¹‰ä¸€ä¸ªå¸¸é‡const num2 = 10;// å®šä¹‰ä¸€ä¸ªå‡½æ•°var f2 = function(res) &#123;&#125;// å®šä¹‰ä¸€ä¸ªå‡½æ•°var f3 = (res) =&gt; &#123;&#125;// å®šä¹‰ä¸€ä¸ªå‡½æ•°var f4 = res =&gt; &#123;&#125;// å®šä¹‰ä¸€ä¸ªå‡½æ•°function get(res) &#123;&#125;// å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­å®šä¹‰å‡½æ•°å’Œåœ¨å¤–é¢åŸºæœ¬ä¸€æ ·var http = &#123; a: () =&gt; &#123; &#125;, kk: 10,&#125;// æ›´ç®€æ´çš„æ–¹å¼fun(&#123;&#125;) // module class Promise ç®­å¤´å‡½æ•° =&gt;]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Nots]]></title>
    <url>%2F2018%2F02%2F26%2F2018%2FNots%2F</url>
    <content type="text"><![CDATA[ä¸€äº›åè¯ HTTP è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHyperText Transfer Protocol) TCP ä¼ è¾“æŽ§åˆ¶åè®®ï¼ˆTransmission Control Protocol) IP ç½‘é™…åè®®ï¼ˆInternet Protocol) HTML è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆHyperText Markup Language) CSS å±‚å æ ·å¼è¡¨(Cascading Style Sheets) URI ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifier) URL ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆUniform Resource Locator) URN ç»Ÿä¸€èµ„æºåç§°ï¼ˆUniform Resource Name) åº”ç”¨å±‚ HTTP â†“ è¡¨ç¤ºå±‚ â†“ ä¼šè¯å±‚ â†“ ä¼ è¾“å±‚ TCP â†“ ç½‘ç»œå±‚ IP â†“ æ•°æ®é“¾è·¯å±‚ â†“ ç‰©ç†å±‚ HTML æ ‡ç­¾ http://www.w3school.com.cn/tags/index.asp æ³¨é‡Šæ ‡ç­¾ br æ ‡ç­¾ æ¢è¡Œæ ‡ç­¾ hr åˆ†å‰²çº¿æ ‡ç­¾ p æ®µè½æ ‡ç­¾ h1â€¦h6 æ ‡é¢˜æ ‡ç­¾ï¼Œä¸€ä¸ªç•Œé¢æœ€å¤šä¸€ä¸ªh1æ ‡ç­¾ï¼Œæœç´¢å¼•æ“Žæœç´¢é—®é¢˜ font æ–‡æœ¬æ ‡ç­¾ html æ ‡ç­¾ï¼Œrootæ ‡ç­¾ï¼Œ body ä¸»ä½“æ ‡ç­¾ï¼Œç»™ç”¨æˆ·çœ‹çš„å†…å®¹åœ¨è¿™é‡Œé¢ï¼Œæµè§ˆå™¨ä¹Ÿéœ€çœ‹ head headæ ‡ç­¾ï¼Œåªè¦æ˜¯ç»™æµè§ˆå™¨çœ‹çš„å†…å®¹ title æ ‡ç­¾æ ‡ç­¾ï¼Œç½‘ç«™åç§° strong ï¼ˆæ–‡æœ¬æ ‡ç­¾ font çš„åŠ ç²—æ ·å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ b ï¼Œbåªæ˜¯ç®€å•çš„åŠ ç²—ï¼Œä½†strongæœ‰æ›´å¥½çš„ç€é‡æ„ä¹‰ï¼ŒæŽ¨èä½¿ç”¨ strongï¼‰ em ï¼ˆæ–‡æœ¬æ ‡ç­¾ font çš„æ–œä½“æ ·å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ i ï¼Œiåªæ˜¯ç®€å•çš„æ–œä½“ï¼Œä½†emæœ‰æ›´å¥½çš„ç€é‡æ„ä¹‰ï¼ŒæŽ¨èä½¿ç”¨ emï¼‰ del (åˆ é™¤çº¿æ ‡ç­¾ ä¹Ÿå¯ä»¥ä½¿ç”¨ s æŽ¨èä½¿ç”¨ del) ins ï¼ˆä¸‹åˆ’çº¿æ ‡ç­¾ ä¹Ÿå¯ä»¥ä½¿ç”¨ u æŽ¨èä½¿ç”¨ ins ï¼‰ a ï¼ˆè¶…é“¾æŽ¥ title æç¤ºæ–‡å­—ï¼‰ img ï¼ˆå›¾ç‰‡æ ‡ç­¾ï¼Œå¯ä»¥è®¾ç½®åŠ è½½å¤±è´¥çš„å ä½æ–‡å­— æé†’æ–‡å­—ç­‰ height widthç­‰ï¼Œè·¯å¾„ä½¿ç”¨..è¡¨ç¤ºåˆ°ä¸Šä¸€ä¸ªæ–‡ä»¶å¤¹ï¼‰ é”šç‚¹id åœ¨æ ‡ç­¾ä¸­æ·»åŠ é”šç‚¹ï¼Œå¯ä»¥åœ¨è¶…é“¾æŽ¥ä¸­è®¾ç½®ç‚¹å‡»è¶…é“¾æŽ¥åˆ°æŒ‡å®šçš„é”šç‚¹ ç‰¹æ®Šç¬¦å· å’ŒOCä¸­çš„è½¬ä¹‰å­—ç¬¦ä¸€æ ·ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œéœ€æ³¨æ„ä¸‹ åˆ—è¡¨ ul li è¡¨ç¤ºæ— åºåˆ—è¡¨ï¼Œtypeå¯ä»¥è®¾ç½®å‰é¢çš„å›¾æ ‡ç±»åž‹ åˆ—è¡¨ ol li æœ‰åºåˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨typeè®¾ç½®ç¼–å·ç±»åž‹ startè¡¨ç¤ºä»Žxxå¼€å§‹ åˆ—è¡¨ dl è‡ªå®šä¹‰åˆ—è¡¨ dtæ ‡é¢˜ ddæ ‡ç­¾ä»‹ç» embed éŸ³ä¹æ ‡ç­¾ marquee æ»šåŠ¨æ ‡ç­¾ æ–‡å­—ï¼ˆå›¾ç‰‡ç­‰ï¼‰è·‘é©¬ç¯è‡ªåŠ¨æ»šåŠ¨ abbr ç®€å†™æ ‡ç­¾ï¼Œåœ¨ç§»åŠ¨åˆ°æ­¤å†…å®¹æ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºè¯¦ç»†å†…å®¹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596&lt;!DOCTYPE html&gt; &lt;html&gt;&lt;/html&gt; &lt;head&gt;&lt;/head&gt; æµè§ˆå™¨çœ‹çš„ &lt;body&gt;&lt;/body&gt; ä¸»ä½“ ç”¨æˆ·çœ‹çš„å†…å®¹ &lt;title&gt;&lt;/title&gt; ç½‘ç«™æ ‡é¢˜ &lt;p&gt;&lt;/p&gt; æ®µè½ &lt;strong&gt;&lt;/strong&gt; å¼ºè°ƒåŠ ç²—é»‘ä½“,åœ¨é˜…è¯»æ—¶ä¼šå¼ºè°ƒç€ç”¨ï¼Œb åªæ˜¯ç®€å•çš„åŠ ç²—é»‘ä½“ &lt;em&gt;&lt;/em&gt; ç€é‡ iä¹Ÿå¯ä»¥ï¼Œå»ºè®®ä½¿ç”¨ em &lt;abbr&gt;&lt;/abbr&gt; ç®€å†™ &lt;!----&gt; æ³¨é‡Š &lt;ins&gt;&lt;/ins&gt; ä¸‹åˆ’çº¿ uä¹Ÿå¯ä»¥ &lt;del&gt;&lt;/del&gt; åˆ é™¤ sä¹Ÿå¯ä»¥ &lt;h1&gt;&lt;/h1&gt; æ ‡é¢˜ &lt;h6&gt;&lt;/h6&gt; æ ‡é¢˜ &lt;br&gt;æ¢è¡Œ &lt;hr&gt; åˆ†å‰²çº¿ &lt;address&gt;&lt;/address&gt; ä½œè€…ä¿¡æ¯ &lt;font size=&quot;30&quot; color=&quot;red&quot;&gt;font &lt;/font&gt; &lt;img scr=&quot;sss.png&quot; width=&quot;100&quot; height=&quot;200&quot; alt=&quot;æž—å¿—çŽ²çš„å›¾ç‰‡&quot; title=&quot;æˆ‘æ˜¯å›¾ç‰‡&quot;&gt; alt åŠ è½½å¤±è´¥æ—¶æ˜¯æç¤ºæ–‡å­— åŠ å¼ºä½“éªŒ title æé†’æ–‡æœ¬ é¼ æ ‡ç§»åŠ¨åˆ°å›¾ç‰‡ä¸Šæ—¶ height width æŒ‰ç…§æ¯”ä¾‹å˜åŒ– è·¯å¾„é—®é¢˜ ../ åˆ°ä¸Šä¸€å®¶ç›®å½• ç›®å‰åœ¨å½“å‰htmlæ–‡ä»¶çš„ç›®å½• å¼€å§‹å¯»æ‰¾å›¾ç‰‡ã€‚ &lt;a href=&quot;www.xxx.com&quot; title=&quot;æé†’æ–‡æœ¬&quot;&gt;&lt;/a&gt; &lt;a target=&quot;_parent&quot;&gt;&lt;/a&gt; &lt;a target=&quot;_blank&quot;&gt;&lt;/a&gt; æ‰“å¼€æ–°çš„ç•Œé¢ å½“å‰ç•Œé¢ä¸ä¼šå…³é—­ &lt;a target=&quot;_self&quot;&gt;&lt;/a&gt; åœ¨å½“å‰ç•Œé¢æ‰“å¼€ï¼Œä¼šè¦†ç›–è°ƒ é»˜è®¤ &lt;a target=&quot;_top&quot;&gt;&lt;/a&gt; åœ¨ä¸çŸ¥é“å…·ä½“åˆ°xxxç•Œé¢æ—¶ href=&quot;#&quot; ä¸éœ€è·³è½¬ åœ¨å½“å‰ç•Œé¢å°±å¯ä»¥äº†ï¼Œä»¥åŽå†è¡¥å……å…·ä½“æ€Žä¹ˆè·³è½¬ã€‚ é”šç‚¹ï¼Œå¯ä»¥è®©æ»šåŠ¨åˆ°ç•Œé¢çš„æŒ‡å®šä½ç½® å®šä¹‰é”šç‚¹ &lt;p id=&quot;top&quot;&gt;&lt;/p&gt; è¶…é“¾æŽ¥ç‚¹å‡»å°±åˆ°é”šç‚¹ &lt;a href=&quot;#top&quot;&gt; åŽ»é¡¶éƒ¨å•Šå•Šå•Šå•Š &lt;/a&gt; ç‰¹æ®Šç¬¦å·(è½¬ç§»å­—ç¬¦éœ€ç‰¹æ®Šå¤„ç†ä¸‹æ‰å¯ä»¥ å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹å’Œè¡¥å……) ç©ºæ ¼ &amp;nbsp; åˆ—è¡¨ æ— åºåˆ—è¡¨ï¼ˆæ²¡æœ‰é‡è¦åŒºåˆ†ï¼‰ &lt;ul&gt; &lt;li&gt;001&lt;/li&gt; &lt;li&gt;002&lt;/li&gt; &lt;li&gt;003&lt;/li&gt; &lt;li&gt;004&lt;/li&gt; &lt;li&gt;005&lt;/li&gt; &lt;/ul&gt; type è¡¨ç¤ºå‰é¢çš„ç¬¦å·ç±»åž‹ æœ‰åºåˆ—è¡¨ï¼ˆæœ‰é‡è¦åŒºåˆ† 12345ï¼‰ &lt;ol&gt; &lt;li&gt;001&lt;/li&gt; &lt;li&gt;002&lt;/li&gt; &lt;li&gt;003&lt;/li&gt; &lt;li&gt;004&lt;/li&gt; &lt;li&gt;005&lt;/li&gt; &lt;/ol&gt; type 1 A i ..... start ä»Žxxxå¼€å§‹ è‡ªå®šä¹‰åˆ—è¡¨ &lt;dl&gt; &lt;dt&gt;dt å°æ ‡é¢˜&lt;/dt&gt; &lt;dd&gt;dd è§£é‡Šæ ‡é¢˜&lt;/dd&gt; &lt;/dl&gt; éŸ³ä¹æ ‡ç­¾ &lt;embed src=&quot;1.mp3&quot; hiden=&quot;true&quot;&gt;&lt;/embed&gt; æ»šåŠ¨æ ‡ç­¾ ï¼ˆå¯æŸ¥çœ‹å…¶ä»–å±žæ€§ï¼‰ marquee å—æ ‡ç­¾ div p h1-h6 ul li ä¸è®¾ç½®å®½åº¦æ—¶é»˜è®¤å’Œçˆ¶æ ‡ç­¾çš„å®½åº¦ä¸€æ ·ï¼Œè€Œä¸”ä¼šç‹¬ç«‹ç«™ä¸€è¡Œã€‚ å—è½¬è¡Œ displayï¼šinLine å—è½¬è¡Œå†…å— displayï¼šinline-block è¡Œå†…æ ‡ç­¾ span a strong em del ins è¿žç»­å¸ƒå±€ï¼Œå¯ä»¥ä¸€è¡Œå­˜æ”¾nä¸ªæ ‡ç­¾ï¼Œè‡ªåŠ¨å¸ƒå±€ã€‚ä¸å¯ä»¥è‡ªå®šä¹‰sizeï¼Œ è¡Œè½¬å— displayï¼šblock è¡Œè½¬è¡Œå†…å— displayï¼šinline-block è¡Œå†…å—æ ‡ç­¾ img input è¿žç»­å¸ƒå±€ï¼Œå¯ä»¥ä¸€è¡Œå­˜æ”¾nä¸ªæ ‡ç­¾ï¼Œå¯ä»¥è‡ªå®šä¹‰sizeï¼Œ æ ‡ç­¾cssçš„ç»§æ‰¿æ€§ å¿…é¡»æ˜¯åµŒå¥—å…³ç³» æ–‡å­—é¢œè‰² æ–‡å­—å¤§å° æ–‡å­—ç²—ç»† æ•´ä½“æ ·å¼ å­—ä½“é£Žæ ¼ è¡Œé«˜ æ–‡å­—å±žæ€§éƒ½å¯ä»¥ç»§æ‰¿ h1 å¯ä»¥ç»§æ‰¿æ–‡å­—å¤§å°ï¼Œä½†ä¼šè‡ªåŠ¨ä¹˜ä¸€ä¸ªç³»æ•°ï¼Œæ‰€ä»¥çœ‹ä¸ºä¸å¯ä»¥ç»§æ‰¿ a é“¾æŽ¥ ä¸å¯ç»§æ‰¿é¢œè‰²color cssæ ·å¼ä¼˜å…ˆçº§ é»˜è®¤ &lt; æ ‡ç­¾æ ·å¼ &lt; class &lt; idæ ·å¼ &lt; è¡Œå†…æ ·å¼è¡¨ å¯ä»¥ä½¿ç”¨ !important å¼ºåˆ¶è®¾ç½®ä¸ºé‡è¦ ç»§æ‰¿çš„çš„ä¼˜å…ˆçº§æœ€ä½Ž]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSçš„ä¸€ç‚¹è°ƒè¯•æŠ€å·§]]></title>
    <url>%2F2018%2F02%2F12%2F2018%2FiOS%E7%9A%84%E4%B8%80%E7%82%B9%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[ä¸‹é¢ä½¿ç”¨GIFç®€å•å¿«é€Ÿä»‹ç»å‡ ç§æ–­ç‚¹è°ƒè¯• æ™®é€šæ–­ç‚¹ æ™®é€šæ–­ç‚¹ç¼–è¾‘ä¸ºæ¡ä»¶æ–­ç‚¹ å…¨å±€æ–­ç‚¹ ç¬¦å·æ–­ç‚¹ å€¼ç›‘æŽ§ å‚è€ƒ http://blog.csdn.net/u012729522/article/details/53184711 https://daiweilai.github.io/2015/04/13/iOSå„ç§è°ƒè¯•æŠ€å·§/ https://objccn.io/issue-19-2/]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é¢˜ç›®]]></title>
    <url>%2F2018%2F02%2F05%2F2018%2F%E9%A2%98%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[å¤§å…¬å¸æœç‹— 1.iOSåº”ç”¨çš„æ–‡ä»¶ç›®å½•éƒ½æ˜¯ä»€ä¹ˆï¼Ÿç¼“å­˜æ–‡ä»¶å­˜åœ¨å“ªä¸ªæ–‡ä»¶é‡Œï¼Ÿå®ƒçš„ä¸Šä¸€å±‚æ˜¯ä»€ä¹ˆï¼Ÿ 2.SDWebImageå›¾ç‰‡å¤„ç†åŽŸç†ï¼Ÿ 3.SDWebImageåœ¨iOS9 3dtouchä¸‹å‡ºçŽ°çš„é—®é¢˜ï¼Ÿ 4.NSArrayå’ŒNSMutableArrayåœ¨Copyå’ŒMutableCopyä¸‹çš„å†…å­˜æ˜¯æ€Žæ ·çš„ï¼Ÿ 5.ç”¨æˆ·ä¸‹è½½ä¸€ä¸ªå›¾ç‰‡ï¼Œå›¾ç‰‡å¾ˆå¤§ï¼Œéœ€è¦åˆ†æˆå¾ˆå¤šä»½è¿›è¡Œä¸‹è½½ï¼Œä½¿ç”¨GCDåº”è¯¥å¦‚ä½•å®žçŽ°ï¼Ÿä½¿ç”¨ä»€ä¹ˆé˜Ÿåˆ—ï¼Ÿ 6.çŽ°æœ‰ä¸¤ä¸ªäººå’Œä¸€å¼ æ¡Œå­ï¼Œä¸¤ä¸ªäººä¾æ¬¡åœ¨æ¡Œå­ä¸Šæ”¾ç¡¬å¸ï¼Œç¡¬å¸ä¸èƒ½å æ”¾ã€ç«‹ç€ï¼Œè‹¥ä¸€æ–¹æ‰¾ä¸åˆ°æ”¾çš„ä½ç½®åˆ™å¤±è´¥ã€‚è‹¥ä½ åœ¨çŽ©è¿™ä¸ªæ¸¸æˆï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•å¿…èµ¢ã€‚ 7.çŽ°æœ‰nä¸ªç‰©å“å’Œä¸€ä¸ªä½“ç§¯ä¸ºVçš„åŒ…ï¼Œæ¯ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ciï¼Œä»·æ ¼æ˜¯wiï¼ŒçŽ°åœ¨è¯·ä½ å¾€åŒ…ä¸­æ”¾ï¼Œæ¯ä»¶ç‰©å“åªèƒ½æ”¾ä¸€æ¬¡ï¼Œæ€Žä¹ˆæ”¾èƒ½è®©åŒ…çš„ä»·æ ¼æœ€å¤§ã€‚ ç™¾åº¦ 1.Delegate ã€Notificationå’ŒKVOæ¯”è¾ƒå„è‡ªçš„ä¼˜ç¼ºç‚¹ 2.åœ¨ä¸€ä¸ªUIçš„æ­£ä¸­é—´å®žçŽ°ä¸€ä¸ªæ­£æ–¹å½¢çš„çº¢è‰²è§†å›¾æœ‰å‡ ç§æ–¹å¼ï¼Ÿ 3.æ‰‹è§¦ç¢°åˆ°å±å¹•çš„æ—¶å€™ï¼Œå“åº”æœºåˆ¶æ˜¯æ€Žæ ·çš„ï¼Ÿç¬¬ä¸€å“åº”è€…æ˜¯è°ï¼Ÿè¿½é—® UIViewå’ŒUIResponseçš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ 4ã€‚UIViewControllerçš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿè¿½é—® UIViewController åªallocè€Œæ²¡ç”¨åˆ°çš„æ—¶å€™ï¼ŒUIViewController çš„viewæ˜¯å¦åŠ è½½äº†ï¼Ÿå¦‚æžœæ²¡æœ‰åŠ è½½é‚£ä»€ä¹ˆæ—¶å€™åŠ è½½ï¼Ÿ 5.ç›´æŽ¥ç”¨UILabelå’Œè‡ªå·±ç”¨DrawRectç”»UILabelï¼Œå“ªä¸ªæ€§èƒ½å¥½ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå“ªä¸ªå ç”¨çš„å†…å­˜å°‘ï¼Ÿä¸ºä»€ä¹ˆ? 6.AFNetworkingæ˜¯å¦æ”¯æŒipv6ï¼Ÿ 7.é¡¹ç›®é‡‡ç”¨64ä½ï¼Œä¸ºä»€ä¹ˆè¦ç”¨64ä½ï¼Ÿæ€Žä¹ˆä¿®æ”¹æˆ64ä½ï¼Ÿi386æ˜¯ä»€ä¹ˆï¼Ÿä»–ä»¬æœ‰ä»€ä¹ˆå…³ç³»? 8.iOSçš„åº”ç”¨ç¨‹åºæœ‰å‡ ç§çŠ¶æ€ï¼Ÿè¿½é—®ï¼Œé€€åˆ°åŽå°ä»£ç æ˜¯å¦å¯ä»¥æ‰§è¡Œï¼ŸåŒå‡»homeé”®ï¼Œä»£ç æ˜¯å¦å¯ä»¥æ‰§è¡Œï¼Ÿ 9.ä¸€èˆ¬ä½¿ç”¨çš„å›¾æ ‡å†…å­˜ä¸ºå¤šå¤§ï¼Ÿæ¯”å¦‚200Ã—300çš„å›¾ç‰‡ï¼Œå†…å­˜åº”è¯¥å ç”¨å¤šå°‘æ¯”è¾ƒåˆç†ï¼Ÿ 10.è¯´è¯´ä½ å¯¹å†…å­˜æ³„æ¼çš„çœ‹æ³•ï¼Œè¿½é—®ï¼Œblockä¸ºä»€ä¹ˆå®¹æ˜“å¼•èµ·å†…å­˜æ³„æ¼ï¼Ÿ 11.[object copy]æ˜¯æµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´ï¼Ÿä¸ºä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿcopyæ˜¯å®žçŽ°äº†å“ªä¸ªåè®®ï¼Ÿ 12.Images.xcassetså’Œç›´æŽ¥ç”¨å›¾ç‰‡æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ é˜¿é‡Œé˜¿é‡Œä¸‰é¢ 1.dSYMä½ æ˜¯å¦‚ä½•åˆ†æžçš„ï¼Ÿ 2.å¤šçº¿ç¨‹æœ‰å“ªå‡ ç§ï¼Ÿä½ æ›´å€¾å‘äºŽå“ªä¸€ç§ï¼Ÿ 3.å•ä¾‹å¼Šç«¯ï¼Ÿ 4.å¦‚ä½•æŠŠå¼‚æ­¥çº¿ç¨‹è½¬æ¢æˆåŒæ­¥ä»»åŠ¡è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Ÿ 5.ä»‹ç»ä¸‹Appå¯åŠ¨çš„å®Œæˆè¿‡ç¨‹ï¼Ÿ 6.æ¯”å¦‚Appå¯åŠ¨è¿‡æ…¢ï¼Œä½ å¯èƒ½æƒ³åˆ°çš„å› ç´ æœ‰å“ªäº›ï¼Ÿ 7.0x8badf00dè¡¨ç¤ºæ˜¯ä»€ä¹ˆï¼Ÿ 8.æ€Žä¹ˆé˜²æ­¢åç¼–è¯‘ï¼Ÿ 9.è¯´è¯´ä½ é‡åˆ°åˆ°çš„æŠ€æœ¯éš¾ç‚¹ï¼Ÿ 10.è¯´è¯´ä½ äº†è§£çš„ç¬¬ä¸‰æ–¹åŽŸç†æˆ–åº•å±‚çŸ¥è¯†ï¼Ÿ é˜¿é‡Œp6ä¸€é¢ 1.ä»‹ç»ä¸‹å†…å­˜çš„å‡ å¤§åŒºåŸŸï¼Ÿ 2.ä½ æ˜¯å¦‚ä½•ç»„ä»¶åŒ–è§£è€¦çš„ï¼Ÿ 3.runtimeå¦‚ä½•é€šè¿‡selectoræ‰¾åˆ°å¯¹åº”çš„IMPåœ°å€ 4.runloopå†…éƒ¨å®žçŽ°é€»è¾‘ï¼Ÿ 5.ä½ ç†è§£çš„å¤šçº¿ç¨‹ï¼Ÿ 6.GCDæ‰§è¡ŒåŽŸç†ï¼Ÿ 7.æ€Žä¹ˆé˜²æ­¢åˆ«äººåŠ¨æ€åœ¨ä½ ç¨‹åºç”Ÿæˆä»£ç  8.YYAsyncLayerå¦‚ä½•å¼‚æ­¥ç»˜åˆ¶ï¼Ÿ 9.ä¼˜åŒ–ä½ æ˜¯ä»Žå“ªå‡ æ–¹é¢ç€æ‰‹ï¼Ÿ æ·˜å®P6 1.æŸ¥æ‰¾å­—ç¬¦ä¸²ç®—æ³• 2æ•°ç»„åŒ¹é…ç®—æ³• 3.ä»£ç æ–‡ä»¶ç¼–è¯‘ç”Ÿæˆè¿‡ç¨‹ï¼Œç¼–è¯‘å’Œé“¾æŽ¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œé“¾æŽ¥åšäº†ä»€ä¹ˆäº‹æƒ… 4.ç”¨Cè¯­è¨€å®žçŽ°ä¸€ä¸ªé€šçŸ¥æµç¨‹ 5.A B çº¿ç¨‹æ‰§è¡Œåˆ°ä¸€åŠåŽ»æ‰§è¡ŒCçº¿ç¨‹ï¼Œç”¨OCå’ŒCå„è‡ªæ€Žä¹ˆå®žçŽ°ã€‚ 6.ç”¨è¿‡GCDä»€ä¹ˆæ–¹æ³• 7å¯¹ä»€ä¹ˆæŠ€æœ¯æ¯”è¾ƒæ„Ÿå…´è¶£ 8.tableviewæ€Žä¹ˆä¼˜åŒ–ï¼Œä¼˜åŒ–åŽè¿˜æ˜¯æ„Ÿè§‰å¡æ€Žä¹ˆåŠž 9.æ€Žä¹ˆå®šä½åˆ°é‡ŽæŒ‡é’ˆçš„åœ°æ–¹ã€‚å¦‚æžœè¿˜æ²¡å®šä½åˆ°ï¼Œè¿™ä¸ªå¯¹è±¡è¢«æå‰é‡Šæ”¾äº†ï¼Œæ€Žä¹ˆçŸ¥é“è¯¥å¯¹è±¡åœ¨ä»€ä¹ˆåœ°æ–¹é‡Šæ”¾çš„ 10.ARCçš„å®žçŽ°åŽŸç†ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ç”¨MRCæ¯”ARCå¥½ 11.æ‡‚è§†é¢‘æŠ€æœ¯å— 12.16è¿›åˆ¶çš„FF + 2åŽ ç­‰äºŽä»€ä¹ˆ æœ‰å“ªå‡ ç§æƒ…å†µï¼Ÿ å£ç¢‘p6-7 1.Nsstringæ ˆç©ºé—´å äº†å¤šå°‘ï¼Ÿ 2.SDæœ€å¤§æ”¯æŒå¤šå°‘ä¸ªä¸‹è½½æ•°ï¼Ÿ 3.yykitå¦‚ä½•å¼‚æ­¥æ¸²æŸ“ï¼Ÿ 4.runtimeåŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»ï¼Œéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ 5.runloopå’Œçº¿ç¨‹æœ‰å’Œå…³ç³»ï¼Ÿ 6.ä½ å¹³æ—¶åšè¿‡ä»€ä¹ˆæœ‰æŠ€æœ¯éš¾ç‚¹çš„ä¸œè¥¿ï¼Œç„¶åŽè§£å†³éš¾ç‚¹ 7.ä½ æ˜¯å¦‚ä½•å­¦ä¹ iOSï¼Œçœ‹ä»€ä¹ˆç½‘ç«™ï¼Œåˆ—ä¸¾å‡ ä¸ªå›½å¤–çš„å­¦ä¹ ç½‘ç«™ï¼Ÿ 8.æŠ€æœ¯æž¶æž„å¦‚ä½•æ­å»ºï¼Ÿ 9.è¿˜æœ‰ä¸€ä¸ªå¾ˆé•¿å­—ç¬¦ä¸²ï¼Œä½ ç”¨ä»€ä¹ˆç®—æ³•æœç´¢åˆ°abcçš„ä½ç½®ï¼Ÿ 10.å­—ç¬¦ä¸²å¦‚ä½•é¢„å¤„ç†ï¼Ÿ 11.httpså’Œsslåœ¨æ¡æ‰‹æ–¹å‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è…¾è®¯è…¾è®¯äºŒé¢ 1.ç¼–è¯‘è¿‡ç¨‹åšäº†å“ªäº›äº‹æƒ…ï¼› 2.å­—å…¸å¤§è‡´å®žçŽ°åŽŸç†ï¼› 3.blockå’Œå‡½æ•°æŒ‡é’ˆçš„ç†è§£ï¼› 4.ä¸€èˆ¬å¼€å§‹åšä¸€ä¸ªé¡¹ç›®ï¼Œä½ çš„æž¶æž„æ˜¯å¦‚ä½•æ€è€ƒçš„ï¼Ÿ 5.ä½ äº†è§£çš„UIKitç»“æž„ï¼Ÿ è…¾è®¯ä¸‰é¢ OCä½ äº†è§£çš„é”æœ‰å“ªäº›ï¼Ÿåœ¨ä½ å›žç­”åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡æé—®ï¼› è¿½é—®ä¸€ï¼šè‡ªæ—‹å’Œäº’æ–¥å¯¹æ¯”ï¼Ÿ è¿½é—®äºŒï¼šä½¿ç”¨ä»¥ä¸Šé”éœ€è¦æ³¨æ„å“ªäº›ï¼Ÿ è¿½é—®ä¸‰ï¼šç”¨C/OC/C++ï¼Œä»»é€‰å…¶ä¸€ï¼Œå®žçŽ°è‡ªæ—‹æˆ–äº’æ–¥ï¼Ÿå£è¿°å³å¯ï¼ å†…å­˜æ³„æ¼å¯èƒ½ä¼šå‡ºçŽ°çš„å‡ ç§åŽŸå› ï¼ŒèŠèŠä½ çš„çœ‹æ³•ï¼Ÿ è¿½é—®ä¸€ï¼šéžOCå¯¹è±¡å¦‚ä½•å¤„ç†ï¼Ÿ è¿½é—®äºŒï¼šåœ°å›¾ç±»å†…å­˜è‹¥æ³„æ¼ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ è¿½é—®ä¸‰ï¼šè‹¥å¸¸ç”¨æ¡†æž¶å‡ºçŽ°å†…å­˜æ³„æ¼å¦‚ä½•å¤„ç†ï¼Ÿ å®¹é”™å¤„ç†ä½ ä»¬ä¸€èˆ¬æ˜¯æ€Žä¹ˆåšçš„ï¼Ÿ é¡¹ç›®å¼€å§‹å®¹é”™å¤„ç†æ²¡åšï¼Ÿå¦‚ä½•é˜²æ­¢æ‹¦æˆªæ½œåœ¨çš„å´©æºƒï¼Ÿ å…¶ä»– notificationæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥?å’Œdelegateç›¸æ¯”æœ‰ä»€ä¹ˆåŒºåˆ«,æ•ˆçŽ‡å‘¢? å…³é”®å­—static constçš„ä½œç”¨ ç®€è¿°ä¸€ä¸‹CALayerå’ŒUIViewçš„å…³ç³» å¦‚ä½•è®©ç¨‹åºè¿›å…¥åŽå°ç»§ç»­ç›¸åº”æœåŠ¡. è‡³å°‘å†™å‡ºäº”ç§å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œè¯´è¯´ä»–ä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šç”¨åˆ° ç®€è¿°UITableViewControllerçš„DataSourceå’ŒDelegateçš„ç”¨é€”. AFNã€ SDWebImageåº•å±‚å®žçŽ°ï¼Ÿ åˆ†åˆ«æè¿°å§”æ‰˜(protocol),target,é€šçŸ¥(notification)çš„åŒºåˆ«å’Œä½¿ç”¨æ–¹å¼. ç±»åˆ«çš„ä½œç”¨?ç»§æ‰¿å’Œç±»åˆ«åœ¨å®žçŽ°ä¸­æœ‰ä½•åŒºåˆ«?ç±»åˆ«å’Œç±»æ‰©å±•çš„åŒºåˆ«. UIViewå’ŒCALayerçš„åŒºåˆ«? ç®€è¿°äº‹ä»¶ä¼ é€’å’Œå“åº”è€…é“¾? å½“é”®ç›˜å‡ºçŽ°çš„æ—¶å€™ï¼Œå¦‚ä½•è®©UITextFieldè‡ªåŠ¨ä¸Šç§»ï¼Œè¯´è¯´ä½ çš„åšæ³•ã€‚ ä½ åœ¨é¡¹ç›®ä¸­ç”¨è¿‡å“ªäº›æ•°æ®æŒä¹…åŒ–çš„æ–¹æ³•,å¹¶è¯´æ˜Žä¸ºä»€ä¹ˆç”¨è¿™ä¸ª. è¯´ä¸€ä¸‹ä½ å¯¹iOS Appå®‰å…¨çš„ç†è§£ã€‚ NSOperation æ€Žä¹ˆä½¿ç”¨ï¼Ÿ import è·Ÿ#includeã€@classæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ƒimport\&lt;> è·Ÿ #importâ€â€åˆä»€ä¹ˆåŒºåˆ«ï¼Ÿ å±žæ€§readwriteï¼Œreadonlyï¼Œassignï¼Œretainï¼Œcopyï¼Œnonatomic å„æ˜¯ä»€ä¹ˆä½œç”¨ï¼Œåœ¨é‚£ç§æƒ…å†µä¸‹ç”¨ï¼Ÿ å¯¹äºŽè¯­å¥NSString*obj = [[NSData alloc] init]; ï¼Œç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶objåˆ†åˆ«æ˜¯ä»€ä¹ˆç±»åž‹ï¼Ÿ è°ˆè°ˆå¯¹KVO, å’Œ KVCçš„ç†è§£? è°ˆè°ˆä»€ä¹ˆæ˜¯â€æ‡’åŠ è½½â€, åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆ? å¦‚æžœä½¿ç”¨sqlite, å¤§æ‰¹é‡çš„æ’å…¥æ•°æ®, éœ€è¦åšå“ªäº›ä¼˜åŒ–? çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ ç®€è¿°UITableViewçš„é‡ç”¨æœºåˆ¶ï¼Ÿ self.è·Ÿself->ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ç®€è¿°@protected ,@private,@public,@packageï¼Œå„æœ‰ä»€ä¹ˆå«ä¹‰ä½œç”¨ï¼Ÿ å†™ä¸€ä¸ªæ ‡å‡†å®MINï¼Œè¿™ä¸ªå®è¾“å…¥ä¸¤ä¸ªå‚æ•°å¹¶è¿”å›žè¾ƒå°çš„ä¸€ä¸ªï¼Ÿ é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼Œå¹¶ä½œç®€å•çš„ä»‹ç» å¦‚ä½•å®žçŽ°APPçš„æœ¬åœ°åŒ–? æŽ§åˆ¶å™¨ä¹‹é—´çš„ä¼ å€¼æ–¹å¼æœ‰å“ªäº›? æœ‰æ²¡æœ‰å†™è¿‡è‡ªå®šä¹‰çš„æŽ§ä»¶ï¼Ÿ å…¶ä»–2 åŽŸé“¾æŽ¥https://www.jianshu.com/p/79c9a8b9b313 1ã€å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½? 2ã€è¯´è¯´ä½ ç†è§£weakå±žæ€§ï¼Ÿ 3ã€é¢˜ç›®ï¼šSwift mutatingå…³é”®å­—çš„ä½¿ç”¨ï¼Ÿ 4ã€UIViewå’ŒCALayeræ˜¯ä»€ä¹ˆå…³ç³»? 5ã€ä¸‹é¢çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ 6ã€@synthesize å’Œ @dynamic åˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ 7ã€åŠ¨æ€ç»‘å®š 8ã€Categoryï¼ˆç±»åˆ«ï¼‰ã€ Extensionï¼ˆæ‰©å±•ï¼‰å’Œç»§æ‰¿çš„åŒºåˆ« 9ã€ä¸ºä»€ä¹ˆä»£ç†è¦ç”¨weakï¼Ÿä»£ç†çš„delegateå’ŒdataSourceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿblockå’Œä»£ç†çš„åŒºåˆ«ï¼Ÿ 10ã€idå’ŒNSObjectï¼Šçš„åŒºåˆ« 11ã€å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½? 12ã€ä½¿ç”¨ç³»ç»Ÿçš„æŸäº›block apiï¼ˆå¦‚UIViewçš„blockç‰ˆæœ¬å†™åŠ¨ç”»æ—¶ï¼‰ï¼Œæ˜¯å¦ä¹Ÿè€ƒè™‘å¼•ç”¨å¾ªçŽ¯é—®é¢˜ï¼Ÿ 13ã€ç”¨@propertyå£°æ˜Žçš„NSStringï¼ˆæˆ–NSArrayï¼ŒNSDictionaryï¼‰ç»å¸¸ä½¿ç”¨copyå…³é”®å­—ï¼Œä¸ºä»€ä¹ˆï¼Ÿå¦‚æžœæ”¹ç”¨strongå…³é”®å­—ï¼Œå¯èƒ½é€ æˆä»€ä¹ˆé—®é¢˜ï¼Ÿ 14ã€UIViewå’Œ CALayeræ˜¯ä»€ä¹ˆå…³ç³»? 15ã€staticæœ‰ä»€ä¹ˆä½œç”¨? åº•å±‚ï¼š 16ã€main()ä¹‹å‰çš„è¿‡ç¨‹æœ‰å“ªäº›ï¼Ÿ 17ã€KVOåŸºæœ¬åŽŸç†ï¼Ÿ 18ã€Swift ä¸‹çš„å¦‚ä½•ä½¿ç”¨ KVC? 19ã€ï¼šSwiftæœ‰å“ªäº›æ¨¡å¼åŒ¹é…ï¼Ÿ 20ã€objcåœ¨å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ 21ã€é™æ€åº“çš„åŽŸç†æ˜¯ä»€ä¹ˆï¼Ÿä½ æœ‰æ²¡æœ‰è‡ªå·±å†™è¿‡é™æ€ç¼–è¯‘åº“ï¼Œé‡åˆ°äº†å“ªäº›é—®é¢˜ï¼Ÿ 22ã€runloopæ˜¯æ¥åšä»€ä¹ˆçš„ï¼Ÿrunloopå’Œçº¿ç¨‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸»çº¿ç¨‹é»˜è®¤å¼€å¯äº†runloopä¹ˆï¼Ÿå­çº¿ç¨‹å‘¢ï¼Ÿ 23ã€ä¸æ‰‹åŠ¨æŒ‡å®šautoreleasepoolçš„å‰æä¸‹ï¼Œä¸€ä¸ªautorealeseå¯¹è±¡åœ¨ä»€ä¹ˆæ—¶åˆ»é‡Šæ”¾ï¼Ÿï¼ˆæ¯”å¦‚åœ¨ä¸€ä¸ªvcçš„viewDidLoadä¸­åˆ›å»º 24ã€ä¸æ‰‹åŠ¨æŒ‡å®šautoreleasepoolçš„å‰æä¸‹ï¼Œä¸€ä¸ªautorealeseå¯¹è±¡åœ¨ä»€ä¹ˆæ—¶åˆ»é‡Šæ”¾ï¼Ÿï¼ˆæ¯”å¦‚åœ¨ä¸€ä¸ªvcçš„viewDidLoadä¸­åˆ›å»ºï¼‰ 25ã€OCå®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶+ä»£ç å®žçŽ°ã€æš´å‡»ã€‘ 26ã€ä»¥+ scheduledTimerWithTimeIntervalâ€¦çš„æ–¹å¼è§¦å‘çš„timerï¼Œåœ¨æ»‘åŠ¨é¡µé¢ä¸Šçš„åˆ—è¡¨æ—¶ï¼Œtimerä¼šæš‚å®šå›žè°ƒï¼Œä¸ºä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ 27ã€å¦‚ä½•æ‰‹åŠ¨è§¦å‘ä¸€ä¸ªvalueçš„KVO 28ã€å¦‚ä½•å¯¹å®šä½å’Œåˆ†æžé¡¹ç›®ä¸­å½±å“æ€§èƒ½çš„åœ°æ–¹ï¼Ÿä»¥åŠå¦‚ä½•è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Ÿ 29ã€ä¸²è¡Œå¹¶è¡Œï¼Œå¼‚æ­¥åŒæ­¥çš„åŒºåˆ«ï¼Ÿ 30ã€çº¿ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿè¿›ç¨‹æ˜¯ä»€ä¹ˆï¼ŸäºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ 31ã€RunLoopæ˜¯ä»€ä¹ˆï¼Ÿ 32ã€å‡è®¾æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²aabcadï¼Œè¯·å†™ä¸€æ®µç¨‹åºï¼ŒåŽ»æŽ‰å­—ç¬¦ä¸²ä¸­ä¸ç›¸é‚»çš„é‡å¤å­—ç¬¦ä¸²ï¼Œå³ä¸Šè¿°å­—ç¬¦ä¸²å¤„ç†ä¹‹åŽçš„è¾“å‡ºç»“æžœä¸ºï¼šaabcd@autoclosureï¼ˆè‡ªåŠ¨é—­åŒ…ï¼‰ 34ã€iOS appå¯åŠ¨å¦‚ä½•ä¼˜åŒ–ï¼Ÿ 35ã€swifté¢è¯•é¢˜ï¼š 36ã€æ€Žæ ·é˜²æ­¢åç¼–è¯‘ï¼Ÿ 37ã€UITableViewæ€§èƒ½ä¼˜åŒ–ï¼Œè¶…å®žç”¨ çº¿ç¨‹ï¼š 37ã€ ä¸è¦é˜»å¡žä¸»çº¿ç¨‹ 38ã€è°ˆè°ˆä½ å¯¹å¤šçº¿ç¨‹å¼€å‘çš„ç†è§£ï¼Ÿiosä¸­æœ‰å‡ ç§å®žçŽ°å¤šçº¿ç¨‹çš„æ–¹æ³•ï¼Ÿ 39ã€è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼ŸåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿå¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ 40ã€ViewControllerç”Ÿå‘½å‘¨æœŸ 41ã€iOS ä¸­çš„å¤šçº¿ç¨‹ 42ã€å†…å­˜ç®¡ç†çš„å‡ æ¡åŽŸåˆ™æ—¶ä»€ä¹ˆï¼ŸæŒ‰ç…§é»˜è®¤æ³•åˆ™.é‚£äº›å…³é”®å­—ç”Ÿæˆçš„å¯¹è±¡éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ï¼Ÿåœ¨å’Œpropertyç»“åˆçš„æ—¶å€™æ€Žæ ·æœ‰æ•ˆçš„é¿å…å†…å­˜æ³„éœ²ï¼Ÿè°ç”³è¯·ï¼Œè°é‡Šæ”¾ 43ã€dispatch_barrier_asyncçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ 44ã€å¦‚ä½•ç”¨GCDåŒæ­¥è‹¥å¹²ä¸ªå¼‚æ­¥è°ƒç”¨ï¼Ÿï¼ˆå¦‚æ ¹æ®è‹¥å¹²ä¸ªurlå¼‚æ­¥åŠ è½½å¤šå¼ å›¾ç‰‡ï¼Œç„¶åŽåœ¨éƒ½ä¸‹è½½å®ŒæˆåŽåˆæˆä¸€å¼ æ•´å›¾ï¼‰ 46ã€httpä¸Žhttpsçš„åŒºåˆ«? 47ã€æœåŠ¡å™¨èƒ½å¦çŸ¥é“APNSæŽ¨é€åŽæœ‰æ²¡æœ‰åˆ°è¾¾å®¢æˆ·ç«¯çš„æ–¹æ³•ï¼Ÿ 48 1.ä»€ä¹ˆæ–¹å¼å¯ä»¥çœ‹åˆ°ä¸Šæž¶Appçš„å¤´æ–‡ä»¶? 2.é˜…è¯»è¿‡å“ªäº›æ¡†æž¶çš„æºç ?èƒ½è¯´è¯´å®ƒçš„æž¶æž„æ–¹å¼å— 49ã€iOS iAPå†…è´­å®¡æ ¸å¯èƒ½å¤±è´¥çš„é—®é¢˜ 50ã€IAPå†…è´­ä¸­è™šæ‹Ÿè´§å¸å¯¼è‡´å®¡æ ¸æ— æ³•é€šè¿‡çš„é—®é¢˜ï¼Ÿ ç¾¤åˆ†äº«12345678910111213141516171819202122232425å†™ä¸€ä¸ªæ ‡å‡†å® MINå››ä¸­æŒä¹…åŒ–å¤„ç†æ–¹å¼OCå¦‚ä½•å®žçŽ°å¤šç»§æ‰¿ å…·ä½“æ€Žä¹ˆåšè®¾è®¡æ¨¡å¼æœ‰å“ªäº› æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹Animation å¦‚ä½•å¼€å§‹ å’Œç»“æŸåŠ¨ç”»çš„æŽ’åºæœ‰å“ªäº› æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ å†™å‡ºä¸¤ä¸ªProperty å†…éƒ¨æ“ä½œæ˜¯æ€Žæ ·çš„ç»§æ‰¿ç±»çš„å®žä¾‹ isa æŒ‡å‘å“ªé‡ŒSqlit äº‹åŠ¡æ“ä½œä»£ç æ·»åŠ çº¦æŸæœ‰å“ªå‡ ç§ ä»€ä¹ˆåŒºåˆ«ä»£ç†åœ¨å“ªé‡Œè¿›è¡Œäº†å¼ºå¼•ç”¨View å’Œ layer è®¾ç½®é€æ˜Žåº¦æœ‰ä»€ä¹ˆåŒºåˆ«ViewA çš„é€æ˜Žåº¦æ˜¯ 0.5 æ·»åŠ åˆ° ViewB ä¹‹åŽViewB çš„é€æ˜Žåº¦æ˜¯å¤šå°‘Flatbuffer å’Œ json ä¼ è¾“ åŒºåˆ«åœ¨å“ªæç¤ºæ“ä½œæ— æ•ˆçš„å†…å­˜åœ°å€æŠ¥è­¦çš„è¿‡ç¨‹ çº¿ç¨‹é—´é€šä¿¡çš„å‡ ç§æ–¹å¼å’Œä¼˜ç¼ºç‚¹ å¦‚ä½•æ‰‹åŠ¨è§¦å‘ kvo å’Œå®žçŽ°åŽŸç† View åŠ¨ç”»è¿‡ç¨‹ä¸­å¦‚ä½•èŽ·å–å®žæ—¶ä½ç½®ã€presentationLayer å±žæ€§å¯ä»¥èŽ·å–åŠ¨ç”»è¿‡ç¨‹ä¸­çš„çŠ¶æ€ å¸¸ç”¨çš„ gcd api ä»¥åŠä½œç”¨ Sync get mainå‡½æ•°å‰ å‡½æ•°å†… å‡½æ•°åŽå„æ‰“å°ä¸€ä¸ªå­—æ¯ å†™å‡ºæ‰“å°é¡ºåº Swiftä¸­ struct class åŒºåˆ« å’Œåˆ†åˆ«çš„åº”ç”¨åœºæ™¯ ç•Œé¢æœ‰å¤šä¸ªåŠ¨æ€è§†å›¾æ—¶ Masonry å¦‚ä½•å¸ƒå±€å„ç§åŠ å¯†çš„å…·ä½“å®žçŽ°ä»¥åŠåŒºåˆ«Http å’Œ https åŒºåˆ«ä»¥åŠå†…éƒ¨å¤„ç†çš„åŒºåˆ«Http å­—å…¸è¯·æ±‚å’Œå›¾ç‰‡ä¸Šä¼ è¯·æ±‚çš„åŒºåˆ«åŒ…å¤´åŒ…å«å“ªäº›å†…å®¹åˆé—®æˆ‘ç½‘ç»œè¯·æ±‚çš„æ—¶å€™ ä¼ è¿›åŽ»çš„å­—å…¸ å†…éƒ¨æ€Žä¹ˆå¤„ç†çš„ å…¶ä»–é¢˜ç›®0x01 é¢˜ç›®1ã€ä¸¾ä¾‹ä¸¤ä¸ªé‡åˆ°è¿‡å°è±¡æ·±åˆ»çš„å¤–ç½‘Crashï¼Œå¹¶ä»‹ç»å¦‚ä½•å‘çŽ°ã€å®šä½ã€è§£å†³ï¼› é¢˜ç›®2ã€ä¸¾ä¾‹ä¸¤ä¸ªæ€§èƒ½é—®é¢˜çš„ä¼˜åŒ–ï¼Œå¹¶ä»‹ç»å¦‚ä½•å‘çŽ°ã€å®šä½ã€è§£å†³ä»¥åŠåŽŸç†ï¼› é¢˜ç›®3ã€ä»‹ç»Objective-Cçš„Runtimeæœºåˆ¶ï¼Œå¹¶ä»‹ç»åœ¨ä¸šåŠ¡å®žé™…åº”ç”¨çš„ä¾‹å­ï¼› é¢˜ç›®4ã€è‹¹æžœæ˜¯å¦‚ä½•ä¿è¯iPhoneåªå®‰è£…æ¥è‡ªApp Storeçš„Appï¼Ÿ é¢˜ç›®5ã€ä½ çš„Appå¦‚ä½•åŒåŽå°è¿›è¡Œé€šä¿¡ï¼Ÿå…¶é€šä¿¡è¿‡ç¨‹åŒ…æ‹¬å“ªäº›æ­¥éª¤ï¼› é¢˜ç›®6ã€ä½ æœ‰1å…ƒã€5å…ƒã€7å…ƒä¸‰ç§ç¡¬å¸ï¼Œæ±‚ä¸€ç§æ–¹æ³•ï¼Œç”¨æœ€å°‘çš„ç¡¬å¸å‡‘å‡ºmå…ƒï¼›ï¼ˆmâˆˆ[100, 1000]ï¼‰ é¢˜ç›®7ã€äº§å“å¸Œæœ›å®žçŽ°ä¸€ä¸ªåŠŸèƒ½ï¼Œå°†10~100å¼ å›¾ç‰‡ç›´æŽ¥æ‹¼æˆ1ä¸ªè§†é¢‘ï¼Œä½ ä¼šå¦‚ä½•å®žçŽ°ï¼Ÿ å…¶ä»–Objective-C weak çš„åº•å±‚å®žçŽ° weakçš„åº•å±‚å®žè´¨æ˜¯Runtimeç»´æŠ¤äº†ä¸€ä¸ªweakè¡¨ï¼ˆhashè¡¨ï¼Œå­—å…¸ï¼‰ï¼Œå…¶keyæ˜¯æ‰€æŒ‡å¯¹è±¡çš„åœ°å€ï¼Œvalueæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ˆæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯weakæŒ‡é’ˆçš„åœ°å€ï¼‰ åœ¨èµ‹å€¼weakæ—¶ï¼Œå®žçŽ°æ£€æŸ¥å¯¹è±¡åœ°å€æ˜¯å¦ä¸ºæœ‰æ•ˆåœ°å€ï¼ˆæ˜¯å¦æ˜¯weakæŒ‡é’ˆç­‰ï¼‰ï¼Œå¦‚æžœæœ‰æ•ˆï¼Œç³»ç»Ÿä¼šä½¿ç”¨å¯¹è±¡çš„åœ°å€åŽ»weakè¡¨ä¸­èŽ·å–æ•°ç»„ï¼ˆå¦‚æžœæ²¡æœ‰å°±åˆ›å»ºæ•°ç»„ï¼ŒåŒæ—¶æŠŠæ•°ç»„å’Œå¯¹è±¡çš„åœ°å€å…³è”èµ·æ¥ï¼‰ç„¶åŽæŠŠweakæŒ‡é’ˆçš„åœ°å€æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œå…¶ä¸­ä¸ä¼šå¯¹å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åšåŠ 1æ“ä½œï¼Œåœ¨å¯¹è±¡å›žæ”¶æ—¶ä½¿ç”¨å…¶åœ°å€åŽ»weakè¡¨ä¸­èŽ·å–æ•°ç»„ï¼ŒåŒæ—¶æŠŠæ•°ç»„ä¸­çš„å€¼èµ‹å€¼ä¸ºnilï¼ˆæ‰€ä»¥weakåœ¨å¯¹è±¡å›žæ”¶æ—¶è‡ªåŠ¨ç½®nilï¼‰ï¼Œç„¶åŽæ¸…é™¤æ­¤é”®å€¼å¯¹ã€‚å…¶ä¸­å…·ä½“çš„æ“ä½œå¯ä»¥å‚è€ƒé“¾æŽ¥1 ç–‘é—®1 ï¼šweakå¯¹è±¡åœ¨ç”±å¯¹è±¡1æ¢ä¸ºå¯¹è±¡2æ—¶ï¼Œåº•å±‚æ˜¯æ€Žä¹ˆå¤„ç†çš„ï¼Œå¾…è¡¥å…… BlockBlockæ˜¯æ€Žä¹ˆæ ·æŒæœ‰selfæ˜¯ ä½¿ç”¨blockæ—¶ï¼Œå…¶åº•å±‚æ˜¯æŠŠblockç›¸å…³çš„ä»£ç è½¬æ¢ä¸ºå¯¹è±¡çš„å½¢å¼ï¼ŒåŒæ—¶å¯¹è±¡ä¼šæœ‰ä¸€ä¸ªå±žæ€§æŒæœ‰selfï¼Œä½¿ç”¨å¦‚æžœselfæŒæœ‰äº†blockï¼Œblockåº•å±‚åˆä¼šæŒæœ‰selfå°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ² Block ä¸­ä¸ºä»€ä¹ˆä¸å¯ä»¥è®¿é—®Blockå¤–é¢çš„ä¸´æ—¶Cè¯­è¨€æ•°ç»„ æ˜¯ç”±äºŽCè¯­è¨€çš„æ•°ç»„æ“ä½œç‰¹æ€§é—®é¢˜ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018å¹´è®¡åˆ’]]></title>
    <url>%2F2018%2F01%2F01%2F2018%2F2018%E5%B9%B4%E8%AE%A1%E5%88%92%2F</url>
    <content type="text"><![CDATA[å­¦ä¹  Webå‰ç«¯ -&gt; ä¼šå®žçŽ°åŸºæœ¬çš„ç•Œé¢ã€‚ åœ¨ Webå‰ç«¯ çš„åŸºç¡€ä¸Šå­¦ä¹ å¾®ä¿¡å°ç¨‹åº -&gt; ä¼šç®€å•çš„ä¸šåŠ¡åŠŸèƒ½å¼€å‘ã€‚ æ·±è€• iOS æŠ€æœ¯ï¼Œå¯¹æ€§èƒ½ä¼˜åŒ–ï¼Œæœ‰ä¸€ç‚¹çš„ç§¯ç´¯ã€‚ ç¨å¾®å¤ä¹ ä¸‹ç®—æ³•ã€‚ åŠ å¼º Swift çš„å­¦ä¹ ã€‚]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¸€äº›å°çŸ¥è¯†ç‚¹]]></title>
    <url>%2F2017%2F12%2F01%2F2017%2F%E4%B8%80%E4%BA%9B%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9%2F</url>
    <content type="text"><![CDATA[ç»“æž„ä½“ 12345678910111213141516171819struct BMerson &#123; int age; double height;&#125;;typedef struct BMerson BMerson;BMerson BMersonMake1(int a, double h) &#123; BMerson p = &#123;1, 1.0&#125;; return p;&#125;BMerson BMersonMake2(int a, double h) &#123; BMerson p = &#123; .age = a, .height = h, &#125;; return p;&#125; constå…³é”®å­—1234567891011121314151617181920212223242526272829303132333435363738394041&#123; int a1 = 0; a1 = 10; const int a2 = 0; printf("%d", a2); // error a2 = 10; int const a3 = 0; printf("%d", a3); // error a3 = 10;&#125; &#123; int a1; int *p1; p1 = &amp;a1; *p1 = 10; const int *p2; const int a2 = 10; p2 = &amp;a2; p2 = &amp;a1; // error *p2 = 10; int const *p3; p3 = &amp;a2; p3 = &amp;a1; // error *p3 = 10; int * const p4 = NULL; // error p4 = &amp;a2; // error p4 = &amp;a1; *p4 = 10; const int * const p5; printf("%p", p5); // error p5 = &amp;a2; // error p5 = &amp;a1; // error *p5 = 10;&#125; iOSä¸­çš„å¸¸é‡å¸¸é‡ é€šçŸ¥å 1234UIKIT_EXTERN NSNotificationName const BMLoginSuccessNotification;// NSNotificationName const BMLoginSuccessNotification = @"BMLoginSuccessNotification";extern NSNotificationName const BMLoginFailureNotification;// NSNotificationName const BMLoginFailureNotification = @"BMLoginFailureNotification"; NSStringå¸¸é‡ 1234UIKIT_EXTERN NSString *const BMUserName;// NSString *const BMUserName = @"BMUserName";extern NSString *const BMUserKey;// NSString *const BMUserKey = @"BMUserKey"; å€¼å¸¸é‡ 1234UIKIT_EXTERN const CGFloat BMNavHeight;const CGFloat BMNavHeight = 10.0f;extern const CGFloat BMNavWidth;const CGFloat BMNavWidth = 10.0f; Apple å°ºå¯¸ è®¾å¤‡åž‹å· å±å¹•å°ºå¯¸ å¼€å‘å°ºå¯¸ åƒç´ å°ºå¯¸ å€å›¾ 4/4S 3.5è‹±å¯¸ 320*480 640*960 @2X 5/5S/5C/SE 4.0è‹±å¯¸ 320*568 640*1136 @2X 6/6S/7/8 4.7è‹±å¯¸ 375*667 750*1134 @2X 6P/6SP/7P/8P 5.5è‹±å¯¸ 414*736 1242*2208 @3X X 5.8è‹±å¯¸ 375*812 1125*2436 @3X iPad Mini 4 / iPad Air 2 / iPad Pro (9.7) 9.7è‹±å¯¸ 768*1024 1536*2048 @2X iPad Pro(12.9) / iPad Pro(12.9) (ç¬¬äºŒä»£) 12.9è‹±å¯¸ 1024*1036 2048*2732 @2X iPad Pro(10.5) 10.5è‹±å¯¸ 1112*834 2224*1668 @2X]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSäº‹ä»¶ä¼ é€’å’Œå“åº”è¿‡ç¨‹]]></title>
    <url>%2F2017%2F11%2F28%2F2017%2FiOS%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E5%92%8C%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬åœ¨å¹³å¸¸çš„å¼€å‘ä¸­è‚¯å®šç»å¸¸ä½¿ç”¨åˆ°å„ç§äº‹ä»¶ï¼Œå¦‚ï¼šbuttonçš„ç‚¹å‡»ï¼ŒscrollViewçš„æ»‘åŠ¨ï¼ŒtableViewçš„Cellçš„ç‚¹å‡»ç­‰ä¸€ç³»åˆ—äº‹ä»¶ï¼Œé‚£ä¹ˆä»–çš„åº•å±‚åˆ°åº•æ˜¯æ€Žä¹ˆå¤„ç†çš„å‘¢ï¼Ÿæ˜¯æ€Žä¹ˆæ ·ä¼ é€’çš„ï¼Œä¸‹é¢ä¼šè§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ã€‚ ä¸ºä»€ä¹ˆå­è§†å›¾è¶…å‡ºäº†å…¶çˆ¶è§†å›¾æ—¶ï¼Œè¶…å‡ºçš„éƒ¨åˆ†é»˜è®¤æ— æ³•è§¦å‘äº‹ä»¶ ä¸ºä»€ä¹ˆçˆ¶è§†å›¾å…³é—­äº‹ä»¶å“åº”æ—¶ï¼Œå…¶ä¹‹åŽçš„å…¨éƒ¨è§†å›¾å‡æ— æ³•å“åº”äº‹ä»¶ ä¸ºä»€ä¹ˆå­è§†å›¾å…³é—­äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ç‚¹å‡»å­è§†å›¾æ—¶ï¼Œäº‹ä»¶ä¼šè§¦å‘åˆ°å…¶çˆ¶è§†å›¾ â€¦ åœ¨iOSç³»ç»Ÿä¸­äº‹ä»¶åŒ…æ‹¬ è§¦å±äº‹ä»¶(ä¾‹å¦‚ç‚¹å‡»æŒ‰é’®ã€é€šè¿‡æ‰‹åŠ¿ç¼©æ”¾å›¾ç‰‡ã€æ‹–åŠ¨ä¸Šä¸‹æ»šåŠ¨é¡µé¢ç­‰) åŠ é€Ÿè®¡äº‹ä»¶(ä¾‹å¦‚æ‘‡ä¸€æ‘‡çº¢åŒ…ã€é€šè¿‡æ—‹è½¬è®¾å¤‡æŽ§åˆ¶èµ›è½¦æ–¹å‘ã€æŒ‡å—é’ˆç­‰) è¿œç¨‹æŽ§åˆ¶äº‹ä»¶(ä¾‹å¦‚è€³æœºçš„çº¿æŽ§ã€å¤–æŽ¥æ‰‹æŸ„ã€é¥æŽ§å™¨ç­‰) ç›®å‰ä¸»è¦ç ”ç©¶è§¦æ‘¸äº‹ä»¶çš„ä¼ é€’å’Œå“åº”è¿‡ç¨‹ åœ¨è§¦æ‘¸äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹ä¸­ä¼šæœ‰ äº‹ä»¶ä¼ é€’ å’Œ äº‹ä»¶å“åº”è¿‡ç¨‹ï¼Œé¦–å…ˆå½“ç”¨æˆ·è§¦æ‘¸å±å¹•æ—¶ï¼Œä¼šä»Žä¸Šå‘ä¸‹ (UIApplication-&gt;keyWindow-&gt;vc-&gt;View-&gt;View1...) æ‰¾åˆ°æœ€åˆé€‚çš„å¯¹è±¡ï¼Œå½“æ‰¾åˆ°æœ€åˆé€‚çš„Viewæ—¶ä¼šç”±ä¸‹å‘ä¸Š (...View1-&gt;keyWindow-&gt; View-&gt; vc-&gt; keyWindow-&gt; UIApplication) æ‰¾æœ€åˆé€‚å“åº”çš„å¯¹è±¡ã€‚ å‚è€ƒ http://blog.flight.dev.qunar.com/2016/10/28/ios-event-mechanism-summary/ http://www.jianshu.com/p/2e074db792ba]]></content>
      <categories>
        <category>Objective-C</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSç¬¬ä¸‰æ–¹åº“èƒŒåŽçš„åŽŸç†å’Œç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F11%2F27%2F2017%2FiOS%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E8%83%8C%E5%90%8E%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¼šä½¿ç”¨åˆ°ä¸€äº›å¼€æºåº“ï¼Œåœ¨å°å…¬å¸ç”šè‡³å¤§é‡ä¾èµ–ç¬¬ä¸‰æ–¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹ä¸€äº›çŸ¥åç¬¬ä¸‰æ–¹æ˜¯å¦æœ‰å¿…è¦äº†è§£ä¸‹å®ƒèƒŒåŽçš„åŽŸç†å‘¢ï¼Œç”šè‡³åº”è¯¥é˜…è¯»ä¸€äº›çŸ¥åç¬¬ä¸‰æ–¹çš„åº•å±‚å®žçŽ°å’ŒåŽŸç†ï¼Œä¸‹é¢å°±ç®€å•ä»‹ç»ä¸€äº›ç¬¬ä¸‰æ–¹çš„å®žçŽ°åŽŸç†å’Œç®€å•çš„ä½¿ç”¨æ–¹æ³•å§ã€‚ MJExtension MJExtension åŸºæœ¬ä½¿ç”¨json -&gt; Model12345// json -&gt; Model + (instancetype)mj_objectWithKeyValues:(id)keyValues;// json -&gt; Model æ•°ç»„+ (NSMutableArray *)mj_objectArrayWithKeyValuesArray:(NSArray *)keyValuesArray; Model -&gt; json123456789101112/** * è½¬æ¢ä¸ºJSON Data */- (NSData *)mj_JSONData;/** * è½¬æ¢ä¸ºå­—å…¸æˆ–è€…æ•°ç»„ */- (id)mj_JSONObject;/** * è½¬æ¢ä¸ºJSON å­—ç¬¦ä¸² */- (NSString *)mj_JSONString; å…¶ä»–12345678910111213141516171819202122/*æ•°ç»„ä¸­éœ€è¦è½¬æ¢çš„æ¨¡åž‹*/+ (NSDictionary *)mj_objectClassInArray&#123; return @&#123; @"array1": BMImageInfoModel.class, &#125;;&#125;/*key é‡å‘½å æœåŠ¡å™¨key : æ¨¡åž‹å±žæ€§key */+ (NSDictionary *)mj_replacedKeyFromPropertyName &#123; return @&#123; @"description": @"desc", @"id": @"ID", &#125;;&#125;/*json -&gt; Model å®Œæˆæ—¶*/- (void)mj_keyValuesDidFinishConvertingToObject &#123;&#125;/*Model -&gt; json å®Œæˆæ—¶*/- (void)mj_objectDidFinishConvertingToKeyValues &#123;&#125; åŽŸç† æˆ‘ä»¬çŸ¥é“ json-&gt;Modelæ—¶ï¼Œå…¶å®žå°±æ˜¯åœ¨dictä¸­å–å¯¹åº”çš„å€¼ç„¶åŽè®¾ç½®åˆ°Modelä¸­ï¼Œ obj.name = dict[@&quot;name&quot;]; æˆ‘ä»¬çŸ¥é“Modelä¸­çš„å±žæ€§ä¸€èˆ¬æ˜¯éžå¸¸å¤šçš„ï¼Œè€Œä¸”ä¸€ä¸ªé¡¹ç›®ä¸­Modelä¹Ÿæ˜¯éžå¸¸å¤šï¼Œè€Œä¸”Modelä¸­çš„å±žæ€§éšæ—¶å¯èƒ½å˜åŠ¨ï¼Œåƒä¸Šé¢çš„èµ‹å€¼ä»£ç å°±ä¼šæˆåƒä¸Šä¸‡ï¼Œè€Œä¸”éžå¸¸ä¸å¥½ç»´æŠ¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰æ²¡æœ‰å¿«æ·çš„æ–¹æ³•è§£å†³å¥½è¿™äº›é—®é¢˜å‘¢ï¼ŸMJExtensionå°±æ˜¯ä¸ºæˆ‘ä»¬è§£å†³äº†è¿™äº›é—®é¢˜çš„ä¸€ä¸ªåº“è€Œä¸”å¯ä»¥æ‰©å±•è®¸å¤šåŠŸèƒ½ã€‚ä¸ç®¡ä½ æœ‰å¤šå°‘å±žæ€§åªéœ€è¦mj_objectWithKeyValuesè¿™æ ·ä¸€è¡Œä»£ç å®Œç¾Žæžå®šã€‚ åœ¨ä¸Šé¢çš„åˆ†æžä¸­æˆ‘ä»¬è‚¯å®šè¦æƒ³åŠžæ³•åŠ¨æ€çš„èŽ·å–Modelä¸­çš„å±žæ€§ï¼ŒåŒæ—¶åŽ»dictä¸­å–ç›¸åº”çš„å€¼è®¾ç½®ç»™Modelç›¸åº”çš„å±žæ€§ï¼Œå…¶å®žMJExtensionçš„æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒMJExtensionä½¿ç”¨RuntimeåŠ¨æ€åœ°çš„èŽ·å–æ¨¡åž‹çš„å±žæ€§ï¼Œç„¶åŽåŠ¨æ€çš„åœ¨dictä¸­å–ç›¸åº”çš„å€¼è®¾ç½®ç»™Modelï¼Œå½“ç„¶å…¶ä¸­åšäº†ç‰¹åˆ«å¤šçš„ä¼˜åŒ–å’Œæ‰©å±•ã€‚ åŠ¨æ€èŽ·å–æ¨¡åž‹çš„å±žæ€§ NSObject+MJKeyValue.m æ–‡ä»¶ 87 è¡Œçš„å¦‚ä¸‹ä»£ç  1[clazz mj_enumerateProperties:^(MJProperty *property, BOOL *stop)... ä½¿ç”¨KVCèµ‹å€¼ NSObject+MJKeyValue.m æ–‡ä»¶ 189 è¡Œçš„å¦‚ä¸‹ä»£ç  12// 3.èµ‹å€¼[property setValue:value forObject:self]; æ­¤æ–¹æ³•å†…éƒ¨å¦‚ä¸‹ï¼ˆNSObject+MJKeyValue.m æ–‡ä»¶78è¡Œï¼‰ï¼š 12345678/** * è®¾ç½®æˆå‘˜å˜é‡çš„å€¼ */- (void)setValue:(id)value forObject:(id)object&#123; if (self.type.KVCDisabled || value == nil) return; [object setValue:value forKey:self.name];&#125; åŸºæœ¬åŠŸèƒ½çš„ä»£ç åŸºæœ¬å°±æ˜¯ä¸Šé¢çš„ä»£ç æ®µï¼Œå½“ç„¶æœ‰å¤§é‡çš„ä¼˜åŒ–å’Œæ‰©å±•é˜²é”™ç­‰åŠŸèƒ½æœªå±•å¼€ã€‚ æ”¯æŒæ¨¡åž‹çš„ç»§æ‰¿å±žæ€§ï¼Œæ¯”å¦‚ï¼šModelçš„çˆ¶ç±»æœ‰ä¸€ä¸ªnameå±žæ€§ï¼Œé‚£ä¹ˆåœ¨è½¬æ¢æ—¶ä¼šæ”¯æŒnameå±žæ€§çš„èŽ·å– å¯¹ä¸€äº›ç‰¹æ®Šç±»åž‹åšäº†ç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚ï¼šBOOLç±»åž‹ç­‰ æ”¯æŒæ¨¡åž‹åµŒå¥—æ¨¡åž‹è½¬æ¢ æ”¯æŒæ¨¡åž‹åµŒå¥—æ•°ç»„è½¬æ¢ï¼Œå¦‚æžœæ•°ç»„ä¸­çš„å¯¹è±¡æ˜¯æ¨¡åž‹éœ€å®žçŽ°ç›¸åº”åè®® æ”¯æŒæŒ‡å®šå±žæ€§åç§°æ”¯æŒè½¬æ¢å’ŒæŒ‡å®šå±žæ€§åç§°ä¸æ”¯æŒè½¬æ¢ åªå¯¹å±žæ€§æœ‰æ•ˆ æ”¯æŒreadonlyå±žæ€§ å¯¹Modelçš„å±žæ€§åšäº†ç¼“å­˜å¤§å¹…åº¦å¢žåŠ æ€§èƒ½ æ·»åŠ ä¸€äº›æ‰©å±•æ–¹æ³•ï¼ŒModel-&gt;jsonData, Model-&gt;json, Model-&gt;dict json(NSData dictï¼ŒNSString)-&gt;æ¨¡åž‹ json(NSData arrï¼ŒNSString)-&gt;æ¨¡åž‹æ•°ç»„ èŽ·å–åˆ°æ¨¡åž‹çš„å±žæ€§åˆ—è¡¨æ—¶åšç¼“å­˜ å†…éƒ¨ä½¿ç”¨KVCèµ‹å€¼ YYModelYYCacheUITableView-FDTemplateLayoutCell]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘ä¹‹GCDè¯¦è§£]]></title>
    <url>%2F2017%2F10%2F30%2F2017%2FiOS%E5%BC%80%E5%8F%91%E4%B9%8BGCD%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[é˜Ÿåˆ— dispatch_queue_tå¹¶è¡Œé˜Ÿåˆ— å…¶ä»»åŠ¡æ˜¯éšæœºé¡ºåºæ‰§è¡Œï¼Œå®Œå…¨ç”±ç³»ç»Ÿå¤„ç†ã€‚ å…¨å±€å¹¶è¡Œé˜Ÿåˆ— 1dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); è‡ªå®šä¹‰åˆ›å»ºå¹¶è¡Œé˜Ÿåˆ— 1dispatch_queue_create("com.idhong.concurrentQueue", DISPATCH_QUEUE_CONCURRENT); ä¸²è¡Œé˜Ÿåˆ— å…¶ä»»åŠ¡æ˜¯æŒ‰ç…§å…ˆåŽé¡ºåºæ‰§è¡Œ å…¨å±€ä¸²è¡Œé˜Ÿåˆ— (ä¸»çº¿ç¨‹é˜Ÿåˆ—) 1dispatch_get_main_queue(); è‡ªå®šä¹‰åˆ›å»ºä¸²è¡Œé˜Ÿåˆ— 12dispatch_queue_create("com.idhong.concurrentQueue", DISPATCH_QUEUE_SERIAL);dispatch_queue_create("com.idhong.concurrentQueue", NULL); é˜Ÿåˆ—å¯ä»¥ç†è§£ä¸ºå¯¹ä»»åŠ¡çš„ç®¡ç†ï¼Œå¯¹ä»»åŠ¡ä½¿ç”¨ ä¸²è¡Œ(å…ˆåŽé¡ºåºæ‰§è¡Œ)è¿˜æ˜¯å¹¶è¡Œï¼ˆéšæœºæ‰§è¡Œï¼Œç”±ç³»ç»Ÿç¡®å®šï¼‰å¤„ç†ã€‚ å¼‚æ­¥æ‰§è¡Œ&amp;åŒæ­¥æ‰§è¡Œdispatch_async é»˜è®¤ä¼šå¼€å¯æ–°çº¿ç¨‹æ‰§è¡Œä¼ å…¥çš„é˜Ÿåˆ—ï¼Œä¼šç«‹å³è¿”å›žã€‚ dispatch_sync åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œä¼ å…¥çš„é˜Ÿåˆ—ï¼Œæ‰§è¡Œå®Œæ‰è¿”å›žã€‚ 12dispatch_sync(dispatch_get_main_queue(), ^&#123;&#125;); å½“å‰çš„çº¿ç¨‹åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ—¶ä¼šå¯¼è‡´æ­»é”ï¼Œdispatch_sync æ“ä½œä¼šè®©ä¼ å¦‚çš„é˜Ÿåˆ—åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œï¼Œè€Œä¸”å¿…é¡»æ‰§è¡Œå®Œæ‰è¿”å›žï¼Œdispatch_get_main_queue()åˆæ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œæ˜¯å…ˆè¿›å…ˆå‡ºï¼Œï¼ˆå…ˆåŽé¡ºåºæ‰§è¡Œï¼‰å¿…é¡»è¦è®©å…ˆåŠ å…¥ dispatch_get_main_queue() ä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æ‰§è¡Œï¼ˆå¤–é¢çš„ä»£ç ï¼‰ï¼Œä»Žè€Œå¯¼è‡´ç›¸äº’ç­‰å¾…å¯¼è‡´æ­»é”ã€‚ ä¸²è¡Œé˜Ÿåˆ—a ä¸­ åŒæ­¥æ‰§è¡Œdispatch_sync ä¸²è¡Œé˜Ÿåˆ—a çš„ä»»åŠ¡ä¼šå¯¼è‡´æ­»é” æœªå®Œå¾…ç»­â€¦]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>GCD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆè®¡ç®—æœºå†…å­˜åˆ†é…]]></title>
    <url>%2F2017%2F10%2F16%2F2017%2F%E6%B5%85%E8%B0%88%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%2F</url>
    <content type="text"><![CDATA[Cè¯­è¨€ åç§° å†…å®¹ ç‰¹æ€§ æ ˆåŒºï¼ˆstackï¼‰ æ ˆåŒºï¼ˆstackï¼‰ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºŽæ•°æ®ç»“æž„ä¸­çš„æ ˆã€‚åŽè¿›å…ˆå‡ºï¼ˆLIFOï¼‰ï¼›æ ˆæ˜¯é€†å‘ç”Ÿé•¿ï¼Œå…ˆè¿›æ ˆçš„æ‰€åˆ†é…çš„å†…å­˜ç©ºé—´åœ°å€æ›´å¤§ã€‚ å †åŒºï¼ˆheapï¼‰ å †åŒºï¼ˆheapï¼‰ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±æ“ä½œç³»ç»Ÿå›žæ”¶ã€‚æ³¨æ„å®ƒä¸Žæ•°æ®ç»“æž„ä¸­çš„å †æ˜¯ä¸¤å›žäº‹ï¼Œåˆ†é…æ–¹å¼ç±»ä¼¼äºŽé“¾è¡¨ã€‚å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ï¼›å †æ˜¯é¡ºåºç”Ÿé•¿ï¼Œå…ˆè¿›æ ˆçš„æ‰€åˆ†é…çš„å†…å­˜ç©ºé—´åœ°å€æ›´å°ã€‚ æ•°æ®åŒº å…¨å±€éžé™æ€åŒºã€å…¨å±€é™æ€åŒºã€å±€éƒ¨é™æ€åŒºã€å¸¸é‡åŒº æ•°æ®åŒºä¸»è¦åŒ…æ‹¬é™æ€å…¨å±€åŒºå’Œå¸¸é‡åŒºï¼Œå¦‚æžœè¦ç«™åœ¨æ±‡ç¼–è§’åº¦ç»†åˆ†çš„è¯è¿˜å¯ä»¥åˆ†ä¸ºå¾ˆå¤šå°çš„åŒºï¼› æ•°æ®åŒºå…¨å±€å˜é‡å’Œé™æ€å˜é‡çš„å­˜å‚¨æ˜¯æ”¾åœ¨ä¸€å—çš„ï¼Œåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨ä¸€å—åŒºåŸŸï¼Œæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„é™æ€å˜é‡åœ¨ç›¸é‚»çš„å¦ä¸€å—åŒºåŸŸï¼Œç¨‹åºç»“æŸåŽæœ‰ç³»ç»Ÿé‡Šæ”¾ï¼›å¸¸é‡å­—ç¬¦ä¸²å°±æ˜¯æ”¾åœ¨å¸¸é‡åŒºã€‚ç¨‹åºç»“æŸåŽç”±ç³»ç»Ÿé‡Šæ”¾ã€‚ æ³¨ï¼šå¯¹äºŽæŒ‡é’ˆæŒ‡å‘çš„æ‰€åˆ†é…çš„æŸä¸€å—å†…å­˜ï¼ˆæ— è®ºæ˜¯å †è¿˜æ˜¯æ ˆï¼‰çš„é¦–åœ°å€æ°¸è¿œæ˜¯è¿™å—å†…å­˜ä¸­æœ€å°çš„ã€‚ iOS åç§° å†…å®¹ ç‰¹æ€§ æ ˆåŒºï¼ˆstackï¼‰ å­˜æ”¾çš„å±€éƒ¨å˜é‡ã€å…ˆè¿›åŽå‡ºã€ä¸€æ—¦å‡ºäº†ä½œç”¨åŸŸå°±ä¼šè¢«é”€æ¯ï¼›å‡½æ•°è·³è½¬åœ°å€ï¼ŒçŽ°åœºä¿æŠ¤ç­‰ï¼›ç¨‹åºçŒ¿ä¸éœ€è¦ç®¡ç†æ ˆåŒºå˜é‡çš„å†…å­˜ï¼›æ ˆåŒºåœ°å€ä»Žé«˜åˆ°ä½Žåˆ†é…ã€‚ å †åŒºï¼ˆheapï¼‰ å…¨å±€åŒºéžé™æ€åŒºã€å…¨å±€é™æ€åŒºã€å±€éƒ¨é™æ€åŒº å †åŒºçš„å†…å­˜åˆ†é…ä½¿ç”¨çš„æ˜¯allocï¼›éœ€è¦ç¨‹åºçŒ¿ç®¡ç†å†…å­˜ï¼›ARCçš„å†…å­˜çš„ç®¡ç†ï¼Œæ˜¯ç¼–è¯‘å™¨å†ç¼–è¯‘çš„æ—¶å€™è‡ªåŠ¨æ·»åŠ retainã€releaseã€autoreleaseï¼›å †åŒºçš„åœ°å€æ˜¯ä»Žä½Žåˆ°é«˜åˆ†é…ã€‚ å…¨å±€åŒº/é™æ€åŒºï¼ˆstaticï¼‰ å…¨å±€åŒº/é™æ€åŒºï¼ˆstaticï¼‰åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šæœªåˆå§‹åŒ–è¿‡ ã€åˆå§‹åŒ–è¿‡ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œï¼ˆå…¨å±€åŒº/é™æ€åŒºï¼‰åœ¨å†…å­˜ä¸­æ˜¯æ”¾åœ¨ä¸€èµ·çš„ï¼Œåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨ä¸€å—åŒºåŸŸï¼Œæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„é™æ€å˜é‡åœ¨ç›¸é‚»çš„å¦ä¸€å—åŒºåŸŸï¼›egï¼šint a;æœªåˆå§‹åŒ–çš„ã€‚int a = 10;å·²åˆå§‹åŒ–çš„ã€‚ å¸¸é‡åŒº å¸¸é‡å­—ç¬¦ä¸²å°±æ˜¯æ”¾åœ¨å¸¸é‡åŒºã€‚ ä»£ç åŒº ä»£ç åŒºå­˜æ”¾AppäºŒè¿›åˆ¶ä»£ç ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºå­˜å‚¨å•ä½å’Œå¸¦å®½ç­‰çš„å…³ç³»]]></title>
    <url>%2F2017%2F10%2F15%2F2017%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%98%E5%82%A8%E5%8D%95%E4%BD%8D%E5%92%8C%E5%B8%A6%E5%AE%BD%E7%AD%89%E7%9A%84%E5%85%B3%E7%B3%BB%2F</url>
    <content type="text"><![CDATA[è®¡ç®—æœºå­˜å‚¨å•ä½ è®¡ç®—æœºå­˜å‚¨ä¿¡æ¯çš„æœ€å°å•ä½æ˜¯ï¼šä½/bit (æ¯”ç‰¹/Binary Digits)å­˜æ”¾ä¸€ä½äºŒè¿›åˆ¶æ•°ï¼Œå³ 0 æˆ– 1ï¼Œæ˜¯æœ€å°çš„å­˜å‚¨å•ä½ã€‚ è®¡ç®—æœºå­˜å‚¨å®¹é‡åŸºæœ¬å•ä½æ˜¯ï¼šå­—èŠ‚/B (byte), 8ä¸ªäºŒè¿›åˆ¶ä½ä¸ºä¸€ä¸ªå­—èŠ‚(B)ï¼Œè®¡ç®—æœºä¸­æœ€å¸¸ç”¨çš„å•ä½ã€‚ è®¡ç®—æœºçš„å­˜å‚¨å•ä½æœ‰ï¼šbï¼ŒBï¼ŒKBï¼ŒMBï¼ŒGBï¼ŒTBï¼ŒPBï¼ŒEBï¼ŒZBï¼ŒYBï¼ŒBBç­‰ã€‚ 123456789101B (Byte å­—èŠ‚) = 8bitï¼ˆæ¯”ç‰¹ï¼Œä½ï¼‰1KB (Kilobyte åƒå­—èŠ‚) = 1024Bï¼ˆ1024=2^10ï¼‰1MB (Megabyte å…†å­—èŠ‚ ç®€ç§°â€œå…†â€) = 1024KB1GB (Gigabyte å‰å­—èŠ‚ åˆç§°â€œåƒå…†â€) = 1024MB1TB (Trillionbyte ä¸‡äº¿å­—èŠ‚ å¤ªå­—èŠ‚) = 1024GB1PBï¼ˆPetabyte åƒä¸‡äº¿å­—èŠ‚ æ‹å­—èŠ‚ï¼‰ = 1024TB1EBï¼ˆExabyte ç™¾äº¿äº¿å­—èŠ‚ è‰¾å­—èŠ‚ï¼‰ = 1024PB1ZB (Zettabyte åä¸‡äº¿äº¿å­—èŠ‚ æ³½å­—èŠ‚) = 1024 EB1YB (Yottabyte ä¸€äº¿äº¿äº¿å­—èŠ‚ å°§å­—èŠ‚) = 1024 ZB1BB (Brontobyte ä¸€åƒäº¿äº¿äº¿å­—èŠ‚) = 1024 YB. åœ¨æˆ‘ä»¬çš„å¹³æ—¶å¼€å‘ä¸­ï¼Œç»å¸¸è¯´ä¸€ä¸ªè‹±æ–‡å­—æ¯å 1ä¸ªå­—èŠ‚ï¼ˆ8bit/8ä¸ªäºŒè¿›åˆ¶ä½ï¼‰int ç±»åž‹å 4/8ä¸ªå­—èŠ‚ï¼ˆ32bit/64bitï¼‰ï¼Œæ‰€ä»¥å¯è¡¨ç¤ºçš„æ•°å­—èŒƒå›´å°±å¯ä»¥ç”±å…¶å çš„äºŒè¿›åˆ¶ä½æ•°æ¥ç¡®å®šï¼Œå½“ç„¶è¦è€ƒè™‘æ­£è´Ÿæ•°ï¼Œç¬¦å·ç­‰ã€‚ å®½å¸¦æ—¶ä½¿ç”¨çš„å•ä½ æˆ‘ä»¬åœ¨ç‰µå®½å¸¦æ—¶ï¼Œç»å¸¸ä¼šæŽ¥è§¦åˆ°2M/4M/8Mç­‰ï¼Œä½†æ˜¯æ¯”å¦‚æˆ‘ä»¬ç‰µçš„2Må¸¦å®½ä¸ºä»€ä¹ˆå¾€å¾€åœ¨ä¸‹è½½æ—¶ä¸‹è½½é€Ÿåº¦åœ¨200KB/så·¦å³å¾˜å¾Šï¼Œè€Œä¸æ˜¯2M/så‘¢ï¼Ÿ ç½‘ç»œå¸¦å®½ä¸­çš„2Må¸¦å®½è¡¨ç¤º2Mbps/s (2x1024x1024bit/s) ï¼Œbpsè¡¨ç¤ºbitï¼ˆä½ï¼‰ ä½†åœ¨å­˜å‚¨ä¸­2Mï¼ˆ2x1024x1024x8bitï¼‰,è¿™é‡Œä½¿ç”¨çš„æœ€åŸºæœ¬å•ä½ä¸åŒï¼Œç›¸å·®8å€ æ‰€ä»¥2Må¸¦å®½çš„æ ‡å‡†ä¸‹è½½é€Ÿåº¦åº”è¯¥æ˜¯ 1(2x1024x1024bit/s)/8ï¼‰= 256x1024bit/s = 256KB/s å½“ç„¶ä¼šåŠ ä¸Šä¸€äº›å…¶ä»–çš„æŸè€—å°±åœ¨200KB/så·¦å³æµ®åŠ¨äº†ã€‚ åŽ‚å•†çš„ç¡¬ç›˜å­˜å‚¨å•ä½ åœ¨å¥½ä¹…ä¹‹å‰å¯èƒ½æˆ‘ä»¬éƒ½ä¹°ç»™å†…å­˜å¡ï¼Œç¡¬ç›˜ç­‰ã€‚ä¹°ä¸€ä¸ª1Gçš„å†…å­˜å¡å¾€å¾€åªæœ‰å¤§æ¦‚930Må·¦å³çš„å­˜å‚¨å®¹é‡ï¼Œwhyï¼Ÿéš¾é“æ˜¯å¥¸å•†ï¼Œå…¶å®žä¸æ˜¯çš„ï¼Œæ˜¯ä»–ä»¬è®¡ç®—æ–¹å¼ä¸ä¸€æ ·ã€‚æˆ‘ä»¬éƒ½çŸ¥é“å¯¹è®¡ç®—æœºæ¥è¯´ï¼Œå®ƒæ—©çŸ¥é“äºŒè¿›åˆ¶(010101)ï¼Œä½†æˆ‘ä»¬äººç±»ä½¿ç”¨çš„åŸºæœ¬æ˜¯10è¿›åˆ¶ï¼ŒåŽ‚å•†ä½¿ç”¨çš„æ˜¯10è¿›åˆ¶æ¥è®¡ç®—äº†ã€‚ 1234// åŽ‚å•†çš„è®¡ç®—æ–¹å¼1G = 1 x 1000 x 1000 x 1000 x 8 bit = 8 000 000 000 bit// è®¡ç®—æœºçš„è®¡ç®—æ–¹å¼1G = 1 x 1024 x 1024 x 1024 x 8 bit æ‰€ä»¥åŽ‚å•†çš„ 11G = 1G x ï¼ˆï¼ˆ1000x1000x1000ï¼‰/ (1024x1024x1024 )) = 0.931G å·¦å³ã€‚ å‚è€ƒhttp://xlnb.iteye.com/blog/842820]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OCä¸­mutableCopyåŠcopyä¸ŽNSStringå’Œé›†åˆç±»]]></title>
    <url>%2F2017%2F10%2F12%2F2017%2FOC%E4%B8%ADmutableCopy%E5%8F%8Acopy%E4%B8%8ENSString%E5%92%8C%E9%9B%86%E5%90%88%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ åœ¨iOSå¼€å‘ä¸­å¯èƒ½æœ‰æ—¶å€™ä¼šæŽ¥è§¦åˆ°copyå’ŒmutableCopyè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œè€Œä¸”å…¶ç›¸å…³çš„å†…å­˜é—®é¢˜ç»å¸¸å‡ºæ²¡äºŽé¢è¯•é¢˜ä¸­ï¼Œæœ¬æ–‡ç®€å•ä»‹ç»ä¸‹mutableCopyåŠcopyä¸ŽNSStringå’Œé›†åˆç±»çš„ç›¸å…³é—®é¢˜ã€‚ copy, mutableCopyå¯¹NSStringæ“ä½œ åœ¨å¯¹NSStringè¿›è¡Œcopyæˆ–è€…mutableCopyæ“ä½œæ—¶å¯ä»¥ä½¿ç”¨ä¸‹å›¾çš„å†…å­˜åˆ†é…æƒ…å†µæ¥è¡¨è¿° ç”±ä¸Šå¯å¾—ï¼Œ copy å¯¹ NSString æ˜¯æµ…æ‹·è´ï¼Œåªæ‹·è´æŒ‡é’ˆ mutableCopy å¯¹NSString`æ˜¯æ·±æ‹·è´ï¼Œæ‹·è´æŒ‡é’ˆåŠå†…å®¹ copy å¯¹NSMutableString` æ˜¯æ·±æ‹·è´ï¼Œæ‹·è´æŒ‡é’ˆåŠå†…å®¹ mutableCopy å¯¹ NSMutableString æ˜¯æ·±æ‹·è´ï¼Œæ‹·è´æŒ‡é’ˆåŠå†…å®¹ copy, mutableCopyå¯¹NSArrayæ“ä½œ åœ¨å¯¹NSArrayè¿›è¡Œcopyæˆ–è€…mutableCopyæ“ä½œæ—¶å¯ä»¥ä½¿ç”¨ä¸‹å›¾çš„å†…å­˜åˆ†é…æƒ…å†µæ¥è¡¨è¿° ç”±ä¸Šé¢çš„å›¾å¯ä»¥å¾—åˆ°å’ŒNSStringä¸€è‡´çš„ç­”æ¡ˆã€‚ copy, mutableCopyå¯¹NSDictionaryæ“ä½œ åŸºæœ¬åŒcopy, mutableCopyå¯¹NSArrayæ“ä½œ copy, mutableCopyå¯¹NSSetæ“ä½œ åŸºæœ¬åŒcopy, mutableCopyå¯¹NSArrayæ“ä½œ æœ€åŽ ç”±ä¸Šé¢çš„å†…å­˜åˆ†é…æƒ…å†µå¯å¾— copy å¯¹ ä¸å¯å˜ç±»åž‹æ˜¯æµ…æ‹·è´ copy å¯¹ å¯å˜ç±»åž‹æ˜¯æ·±æ‹·è´ mutableCopy å¯¹ ä¸å¯å˜ç±»åž‹æ˜¯æ·±æ‹·è´ mutableCopyå¯¹ å¯å˜ç±»åž‹`æ·±æ‹·è´]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[NSStringä¸ºä»€ä¹ˆè¦ä½¿ç”¨copyä¿®é¥°]]></title>
    <url>%2F2017%2F10%2F12%2F2017%2FNSString%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8copy%E4%BF%AE%E9%A5%B0%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ NSString å±žæ€§ä¸ºä»€ä¹ˆåº”è¯¥ä½¿ç”¨copyä¿®é¥°ï¼Œä½¿ç”¨strongä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿæˆ‘ä»¬å¯èƒ½éƒ½çŸ¥é“NSString/Blocksç±»åž‹çš„å±žæ€§ä½¿ç”¨copyæ¥ä¿®é¥°ï¼Œwhyï¼Ÿæœ€è¿‘çœ‹åˆ°è¿™ç¯‡blogæ„Ÿè§‰è®²å¾—è¾ƒå®Œå–„ï¼Œé‚£ä¹ˆæˆ‘ä¹ŸæŠŠè‡ªå·±çš„ä¸€ç‚¹ä½“ä¼šå’Œç†è§£è®°å½•ä¸‹å§ï¼Œæ¬¢è¿ŽæŒ‡æ­£ã€‚ æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªæµ‹è¯•ç±»BMPerson 1234567@interface BMPerson : NSObject@property (strong, nonatomic) NSString *strStrong; ///&lt; strStrong@property (copy, nonatomic) NSString *strCopy; ///&lt; strCopy@end@implementation BMPerson@end åœ¨mainå‡½æ•°ä¸­æ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š 1234567NSString *str = @"abc";BMPerson *per = [BMPerson new];per.strStrong = str;per.strCopy = str;NSLog(@"ä¿®æ”¹strå‰ï¼šper.strStrong = %@ per.strCopy = %@", per.strStrong, per.strCopy);str = @"qwe";NSLog(@"ä¿®æ”¹strå‰ï¼šper.strStrong = %@ per.strCopy = %@", per.strStrong, per.strCopy); ä¼šè¾“å‡ºå¦‚ä¸‹çš„log 12ä¿®æ”¹strå‰ï¼šper.strStrong = abc per.strCopy = abcä¿®æ”¹strå‰ï¼šper.strStrong = abc per.strCopy = abc ä¼¼ä¹Žæ˜¯strongå’Œcopyæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¢ä¸€ç§æ–¹å¼çœ‹çœ‹ï¼Œä½¿ç”¨ä¸‹é¢çš„ä»£ç æµ‹è¯• 1234567NSMutableString *str = [NSMutableString stringWithFormat:@"abc"];BMPerson *per = [BMPerson new];per.strStrong = str;per.strCopy = str;NSLog(@"ä¿®æ”¹strå‰ï¼šper.strStrong = %@ per.strCopy = %@", per.strStrong, per.strCopy);[str appendString:@"+a"];NSLog(@"ä¿®æ”¹strå‰ï¼šper.strStrong = %@ per.strCopy = %@", per.strStrong, per.strCopy); ä¼šè¾“å‡ºå¦‚ä¸‹çš„log 12ä¿®æ”¹strå‰ï¼šper.strStrong = abc per.strCopy = abcä¿®æ”¹strå‰ï¼šper.strStrong = abc+a per.strCopy = abc æˆ‘ä»¬å‘çŽ°æœ¬æ¥ç»™ per.strStrong èµ‹å€¼çš„æ˜¯ @â€œabcâ€ï¼Œä½†åœ¨ä¿®æ”¹äº†stråŽå‘çŽ°per.strStrongçš„å€¼ä¹Ÿå˜äº†ï¼Œä½†æ˜¯ä½¿ç”¨copyä¿®é¥°çš„å¹¶ä¸ä¼šå˜åŒ–ï¼Œåœ¨è¿™ç¯‡blogçš„åŸºç¡€ä¸Šç®€å•ç”»äº†ä¸‹å†…å­˜åˆ†é…å›¾å¦‚ä¸‹ï¼š ç¬¬ä¸€ç§æ–¹å¼ ç¬¬äºŒç§æ–¹å¼ ç”±ä¸Šé¢çš„å›¾æˆ‘ä»¬åº”è¯¥å¯ä»¥å‘çŽ°é—®é¢˜æ‰€åœ¨ï¼ˆå¦‚æžœä¸æ¸…æ¥šå¯ä»¥ä¸‹æ–¹ç•™è¨€å“ˆï¼‰ï¼Œæ‰€ä»¥NSSringç±»åž‹çš„å±žæ€§æ—¶æˆ‘ä»¬å°½é‡ä½¿ç”¨copyä¿®é¥°å§ã€‚ æœ€åŽ DEMOåœ°å€ å‚è€ƒ http://ibloodline.com/articles/2016/07/07/copy.html]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘ä¹‹è‡ªå®šä¹‰Viewçš„ä¸€äº›å‘]]></title>
    <url>%2F2017%2F09%2F27%2F2017%2FiOS%E5%BC%80%E5%8F%91%E4%B9%8B%E8%87%AA%E5%AE%9A%E4%B9%89View%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬åšå‡ ä¸ªç®€å•çš„ä¾‹å­å“ˆ è‡ªå®šä¹‰ä¸€ä¸ªView Viewçš„mæ–‡ä»¶ä¸­æœ‰ä»£ç å¦‚ä¸‹: 1234567891011121314151617@implementation BMView- (instancetype)init &#123; if (self = [super init]) &#123; NSLog(@"init"); &#125; return self;&#125;- (instancetype)initWithFrame:(CGRect)frame &#123; if (self = [super initWithFrame:frame]) &#123; NSLog(@"initWithFrame"); &#125; return self;&#125;@end ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š 1234567891011NSLog(@"new ");[BMView new];NSLog(@"\n ");NSLog(@"alloc init");[[BMView alloc] init];NSLog(@"\n ");NSLog(@"alloc initWithFrame");[[BMView alloc] initWithFrame:CGRectMake(100, 100, 100, 100)];NSLog(@"\n "); è¾“å‡ºå¦‚ä¸‹ï¼š 12345678910111202.165 ViewDemo[32765:1250187] new 02.165 ViewDemo[32765:1250187] initWithFrame02.165 ViewDemo[32765:1250187] init02.166 ViewDemo[32765:1250187] 02.166 ViewDemo[32765:1250187] alloc init02.166 ViewDemo[32765:1250187] initWithFrame02.166 ViewDemo[32765:1250187] init02.166 ViewDemo[32765:1250187] 02.167 ViewDemo[32765:1250187] alloc initWithFrame02.167 ViewDemo[32765:1250187] initWithFrame æˆ‘ä»¬å‘çŽ° ä½¿ç”¨newå’Œalloc initä¼šè°ƒç”¨ initWithFrame initæ–¹æ³• ä½¿ç”¨initWithFrameä¼šåªä¼šè°ƒç”¨ initWithFrameæ–¹æ³• è‡ªå®šä¹‰BMTableView UITableView1çš„mæ–‡ä»¶ä¸­æœ‰ä»£ç å¦‚ä¸‹: 123456789101112131415161718192021222324@implementation BMTableView- (instancetype)init &#123; if (self = [super init]) &#123; NSLog(@"init"); &#125; return self;&#125;- (instancetype)initWithFrame:(CGRect)frame &#123; if (self = [super initWithFrame:frame]) &#123; NSLog(@"initWithFrame"); &#125; return self;&#125;- (instancetype)initWithFrame:(CGRect)frame style:(UITableViewStyle)style &#123; if (self = [super initWithFrame:frame style:style]) &#123; NSLog(@"initWithFrame style"); &#125; return self;&#125;@end ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415NSLog(@"new");[BMTableView new];NSLog(@"\n");NSLog(@"alloc init");[[BMTableView alloc] init];NSLog(@"\n"); NSLog(@"alloc initWithFrame");[[BMTableView alloc] initWithFrame:CGRectMake(100, 100, 100, 100)];NSLog(@"\n"); NSLog(@"alloc initWithFrame style");[[BMTableView alloc] initWithFrame:CGRectMake(100, 100, 100, 100) style:UITableViewStylePlain];NSLog(@"\n"); è¾“å‡ºå¦‚ä¸‹ï¼š 1234567891011121314151643.615 ViewDemo[32847:1259789] new43.637 ViewDemo[32847:1259789] initWithFrame style43.637 ViewDemo[32847:1259789] initWithFrame43.637 ViewDemo[32847:1259789] init43.638 ViewDemo[32847:1259789] 43.638 ViewDemo[32847:1259789] alloc init43.639 ViewDemo[32847:1259789] initWithFrame style43.639 ViewDemo[32847:1259789] initWithFrame43.640 ViewDemo[32847:1259789] init43.640 ViewDemo[32847:1259789] 43.640 ViewDemo[32847:1259789] alloc initWithFrame43.641 ViewDemo[32847:1259789] initWithFrame style43.641 ViewDemo[32847:1259789] initWithFrame43.642 ViewDemo[32847:1259789] 43.642 ViewDemo[32847:1259789] alloc initWithFrame style43.642 ViewDemo[32847:1259789] initWithFrame style æˆ‘ä»¬å‘çŽ° ä½¿ç”¨newå’Œalloc initä¼šè°ƒç”¨ initWithFrame style initWithFrame initæ–¹æ³• ä½¿ç”¨initWithFrameä¼šè°ƒ initWithFrame style initWithFrameæ–¹æ³• ä½¿ç”¨initWithFrame styleä¼šåªä¼šè°ƒç”¨ initWithFrame style æ–¹æ³• why ä¸ºä»€ä¹ˆæˆ‘ä»¬åªæ˜¯å•çº¯çš„è°ƒç”¨äº† new æˆ–è€… init å°±ä¼šè·‘åˆ°äº†å„ç§æž„é€ æ–¹æ³•ä¸­å‘¢ï¼Ÿæ„Ÿè§‰æœ‰ä¸€äº›å¥‡æ€ªï¼Œå…¶å®žæ˜¯è§æ€ªä¸æ€ªã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ChameleonæŸ¥çœ‹UIViewå’ŒUITableViewçš„åº•å±‚å®žçŽ°ä¾¿ä¸€ç›®äº†ç„¶ã€‚ UIView.m UIViewçš„mæ–‡ä»¶ä¸­å¯çœ‹åˆ°å¦‚ä¸‹ä»£ç UIView.mï¼š 123456789101112- (id)init&#123; return [self initWithFrame:CGRectZero];&#125;- (id)initWithFrame:(CGRect)theFrame&#123; if ((self=[super init])) &#123; // ... &#125; return self;&#125; UITableView.m UITableViewçš„mæ–‡ä»¶ä¸­å¯çœ‹åˆ°å¦‚ä¸‹ä»£ç : UITableView.m 123456789101112- (id)initWithFrame:(CGRect)frame&#123; return [self initWithFrame:frame style:UITableViewStylePlain];&#125;- (id)initWithFrame:(CGRect)frame style:(UITableViewStyle)theStyle&#123; if ((self = [super initWithFrame:frame])) &#123; // ... &#125; return self;&#125; çœ‹åˆ°æºç åŽå½“ç„¶å°±ä¸€ç›®äº†ç„¶äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ä¸€äº›UIæŽ§ä»¶æ—¶ä¸è¦ç›²ç›®çš„é‡å†™å„ç§æž„é€ æ–¹æ³•ï¼Œæ„Ÿè§‰å¥½é«˜å¤§ä¸Šï¼Œå…¶å®žå°±æ˜¯ä¸€ä¸ªå¤§å‘ðŸ˜€ï¼Œä¹‹å‰åšä¸»ä¹Ÿè¸©è¿‡ðŸ˜­ï¼ˆå¯èƒ½æ˜¯æˆ‘å­¤é™‹å¯¡é—»äº†ï¼‰ã€‚æ„Ÿè°¢å›¢é˜Ÿä¸­é˜¿æµ·çš„æŒ‡å‡ºã€‚éšä¾¿æé†’ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡https://github.com/BigZaphod/ChameleonçŸ¥é“å¤©å¤©ä½¿ç”¨çš„UITableViewä¸ºä»€ä¹ˆé‚£ä¹ˆçºµäº«ä¸æ»‘ï¼Œæˆ–è€…å„ç§å¥½çŽ©çš„ä¸œè¥¿ã€‚ å¦‚ä½•ç¼–å†™initWith... æ–¹æ³• è‡ªå®šä¹‰ä¸€ä¸ªç±»BMObj,ç¼–å†™å¦‚ä¸‹ä»£ç ï¼Œæ˜¯å¦æœ‰ä¸åˆé€‚çš„åœ°æ–¹ï¼Ÿ 123456789101112131415- (instancetype)init &#123; if (self = [super init]) &#123; //... &#125; return self;&#125;- (instancetype)initWithName:(NSString *)name age:(int)age &#123; if (self = [super init]) &#123; _name = name; _age = age; //... &#125; return self;&#125; ä¸Šé¢çš„å†™æ³•å…¶å®žæœ‰ä¸€äº›é—®é¢˜ï¼Œæ­£ç¡®çš„ç¼–å†™å¦‚ä¸‹: 1234567891011- (instancetype)init &#123; return [self initWithName:nil age:0];&#125;- (instancetype)initWithName:(NSString *)name age:(int)age &#123; if (self = [super init]) &#123; _name = name; _age = age; &#125; return self;&#125; ä¹‹æ‰€ä»¥è¿™æ ·ç¼–å†™init...æ˜¯ä¸ºäº†è¾¾åˆ°å’Œç³»ç»Ÿinit...ä¸€æ ·çš„ç›®çš„ï¼Œå¯ç§»æ­¥è¿™é‡ŒæŸ¥çœ‹ç©¶ç«Ÿã€‚åŒæ—¶å¯ä»¥æŸ¥çœ‹ä¸€äº›ç¬¬ä¸‰æ–¹çš„å†™æ³•ä¹Ÿå¦‚æ­¤YYCacheã€‚ å‚è€ƒ iOSå¼€å‘ä¹‹è‡ªå®šä¹‰Viewçš„ä¸€äº›å‘ https://github.com/BigZaphod/Chameleon]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åœ¨StoryboardåŠXibä¸­ä¸ºTableViewè®¾ç½®HeaderViewå’ŒFooterView]]></title>
    <url>%2F2017%2F09%2F14%2F2017%2F%E5%9C%A8Storyboard%E5%8F%8AXib%E4%B8%AD%E4%B8%BATableView%E8%AE%BE%E7%BD%AEHeaderView%E5%92%8CFooterView%2F</url>
    <content type="text"><![CDATA[æœ¬é¡¹ç›®ä¸»è¦æ˜¯ä»‹ç»åœ¨Storyboardï¼ˆä¸‹é¢æ£€æµ‹SBï¼‰åŠXibä¸­ç»™UITableViewè®¾ç½®tableHeaderViewï¼ŒtableFooterViewçš„æ–¹æ³•ã€‚é»˜è®¤è®¤ä¸ºå·²ç»åŸºæœ¬ç†Ÿæ‚‰SB/Xibçš„ä½¿ç”¨å“ˆã€‚ åœ¨å¹³æ—¶çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œå¯èƒ½ä½¿ç”¨SBæˆ–è€…Xibä¼šç‰¹åˆ«å¿«ï¼Œå½“ç„¶å–œæ¬¢ä»£ç çš„å°±å¯ä»¥å¿½ç•¥äº†å“ˆã€‚æˆ‘ä»¬åœ¨ç”¨UITableViewå¯èƒ½ä¼šä½¿ç”¨åˆ°tableHeaderViewï¼ŒtableFooterViewè¿™2ä¸ªå±žæ€§ï¼Œåœ¨æœ‰ä¸€äº›éœ€æ±‚æ¥è¯´æ˜¯å¾—å¿ƒåº”æ‰‹ã€‚ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨ä»£ç æ·»åŠ UITableViewçš„tableHeaderViewï¼ŒtableFooterViewï¼Œè™½ç„¶ä¹ŸæŒºæ–¹ä¾¿ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥ä½¿ç”¨xibç›´æŽ¥æ·»åŠ å‘¢ï¼Ÿåœ¨ç½‘ä¸Šæœäº†ä¸‹ï¼Œç­”æ¡ˆæ˜¯å¯ä»¥çš„å“ˆï¼Œä¸‹é¢çš„ç®€å•ä»‹ç»ä¸‹æ·»åŠ çš„æ–¹å¼ã€‚ SB ä¸­ç»™UITableViewè®¾ç½®tableHeaderViewï¼ŒtableFooterView Xib ä¸­ç»™UITableViewè®¾ç½®tableHeaderViewï¼ŒtableFooterView è¿è¡Œç»“æžœ æ€Žä¹ˆæ ·è‡ªé€‚åº”é«˜åº¦å¯ä»¥æ·»åŠ å¦‚ä¸‹ä»£ç å®Œæˆè‡ªé€‚åº”ï¼Œå‚è€ƒäºŽè¿™é‡Œ 1234567891011121314151617- (void)viewDidLayoutSubviews &#123; [super viewDidLayoutSubviews]; &#123; CGFloat height = [self.tableView.tableFooterView systemLayoutSizeFittingSize:UILayoutFittingCompressedSize].height; CGRect footerFrame = self.tableView.tableFooterView.frame; footerFrame.size.height = height; self.tableView.tableFooterView.frame = footerFrame; self.tableView.tableFooterView = self.tableView.tableFooterView; &#125; &#123; CGFloat height = [self.tableView.tableHeaderView systemLayoutSizeFittingSize:UILayoutFittingCompressedSize].height; CGRect headerFrame = self.tableView.tableHeaderView.frame; headerFrame.size.height = height; self.tableView.tableHeaderView.frame = headerFrame; self.tableView.tableHeaderView = self.tableView.tableHeaderView; &#125;&#125; é¡¹ç›®æºç  Demoæºç  å‚è€ƒ åœ¨Storyboardä¸­ä¸ºUITableViewæ·»åŠ Headerå’ŒFooter å…³äºŽSBä¸­çš„TableViewå’ŒXIBä¸­çš„TableView]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Storyboard</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘ä¹‹@weakify, @strongify]]></title>
    <url>%2F2017%2F09%2F12%2F2017%2FiOS%E5%BC%80%E5%8F%91%E4%B9%8B-weakify-strongify%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨Blockæ—¶éœ€è¦æ³¨æ„ä½¿ç”¨ @weakify å’Œ @strongify ä¸ä½¿ç”¨ @weakifyæˆ‘ä»¬åœ¨ä½¿ç”¨MJRefreshæ—¶å¦‚æžœä¸ä½¿ç”¨@weakifyä¸”å¦‚ä¸‹ç¼–å†™ä»£ç  1234567self.tableView.mj_header = [MJRefreshNormalHeader headerWithRefreshingBlock:^&#123; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123; // è¿™é‡Œä½¿ç”¨äº† self æ²¡æœ‰ä½¿ç”¨__weak [self.tableView.mj_header endRefreshing]; [self.tableView reloadData]; &#125;);&#125;]; å¯ä»¥ä½¿ç”¨è…¾è®¯å¾®ä¿¡è¯»ä¹¦å¼€æºçš„MLeaksFinderå¾ˆå®¹æ˜“æ£€æµ‹åˆ°å†…å­˜æ³„éœ² ä¸ä½¿ç”¨ @strongify ä¸‹é¢ä¸¾ä¸€ä¸ªä¸ä½¿ç”¨ @strongify ä¼šå‡ºçŽ°çš„é—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516__weak typeof(self) wself = self;dispatch_async(dispatch_get_global_queue(0, 0), ^&#123; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_global_queue(0, 0), ^&#123; if (self) &#123; sleep(2); NSLog(@"%@", @[wself]); &#125; &#125;);&#125;);dispatch_async(dispatch_get_global_queue(0, 0), ^&#123; sleep(2); dispatch_async(dispatch_get_main_queue(), ^&#123; [self.navigationController popViewControllerAnimated:YES]; &#125;);&#125;); ä¼šç›´æŽ¥å´©æºƒï¼Œè€Œä¸”æˆ‘ä»¬è¿™é‡Œåšäº†åˆ¤ç©ºå¤„ç†ã€‚ æ€»ç»“ ç”±ä¸Šé¢çš„é—®é¢˜å¯è§åœ¨ä½¿ç”¨Blockæ—¶æ³¨æ„ä½¿ç”¨@weakify å’Œ @strongify æ˜¯å¦‚æ­¤çš„é‡è¦ï¼Œé‚£ä¹ˆä¸Šé¢çš„ä»£ç å®‰å…¨çš„æ–¹å¼åº”è¯¥æ˜¯å¦‚ä¸‹ä»£ç . 12345678910__weak typeof(self) wself = self;self.tableView.mj_header = [MJRefreshNormalHeader headerWithRefreshingBlock:^&#123; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123; __strong typeof(wself) self = wself; if (self) &#123; [self.tableView.mj_header endRefreshing]; [self.tableView reloadData]; &#125; &#125;);&#125;]; 1234567891011121314151617181920__weak typeof(self) wself = self;dispatch_async(dispatch_get_global_queue(0, 0), ^&#123; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_global_queue(0, 0), ^&#123; __strong typeof(wself) self = wself; if (self) &#123; sleep(2); NSLog(@"%@", @[self]); &#125; &#125;);&#125;);dispatch_async(dispatch_get_global_queue(0, 0), ^&#123; sleep(2); dispatch_async(dispatch_get_main_queue(), ^&#123; __strong typeof(wself) self = wself; if (self) &#123; [self.navigationController popViewControllerAnimated:YES]; &#125; &#125;);&#125;); ä½¿ç”¨æˆ‘ä»¬åœ¨ä½¿ç”¨Blockå¦‚æžœä½¿ç”¨äº†selfè€Œä¸”å¯èƒ½æœ‰ç›¸äº’å¼•ç”¨çš„æƒ…å†µï¼Œé‚£ä¹ˆåº”è¯¥æ³¨æ„ @weakify å’Œ @strongify ä»¥åŠ å¿…è¦çš„åˆ¤ç©ºæ“ä½œã€‚ æœ¬Demoæºç ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Blocks</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - ç»™èº«å¤„äºŒæµå¤§å­¦ä¾æ—§è¿·èŒ«çš„ä½ ä¸€äº›è¿‡æ¥äººçš„å¤§å®žè¯]]></title>
    <url>%2F2017%2F08%2F29%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-%E7%BB%99%E8%BA%AB%E5%A4%84%E4%BA%8C%E6%B5%81%E5%A4%A7%E5%AD%A6%E4%BE%9D%E6%97%A7%E8%BF%B7%E8%8C%AB%E7%9A%84%E4%BD%A0%E4%B8%80%E4%BA%9B%E8%BF%87%E6%9D%A5%E4%BA%BA%E7%9A%84%E5%A4%A7%E5%AE%9E%E8%AF%9D%2F</url>
    <content type="text"><![CDATA[å£°æ˜Ž åŽŸæ–‡ï¼šç»™èº«å¤„äºŒæµå¤§å­¦ä¾æ—§è¿·èŒ«çš„ä½ ä¸€äº›è¿‡æ¥äººçš„å¤§å®žè¯ä½œè€…ï¼šå‡°å¦‚æ°´ æ­£æ–‡æœ‰äº›è·¯ï¼Œåªèƒ½è‡ªå·±ä¸€ä¸ªäººèµ° ä¸Šäº†å¤§å­¦ï¼Œç¬¬ä¸€å ‚è¯¾ä¸Šè€å¸ˆè¯´äº†ä¸€å¥è¯ï¼Œè‡³ä»Šä»ç„¶è®°å¿†çŠ¹æ–°ã€‚â€œå®¿èˆå…­ä¸ªäººï¼Œå…­æ¡å¿ƒâ€ã€‚æˆ–è®¸åˆšåˆšæ­¥å…¥å¤§å­¦çš„æˆ‘ä»¬å¹¶æ²¡æœ‰å¤ªå¤šçš„æƒ³æ³•ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé«˜ä¸­çš„æ—¶å€™ï¼Œå¤§å®¶ä¸ºäº†åŒä¸€ä¸ªç›®æ ‡â€”â€”é«˜è€ƒå¾—èƒœè€ŒåŽ»å¥‹æ–—ï¼Œèº«è¾¹çš„äººæ¯å¤©ä¸Šä¸€æ ·çš„è¯¾ï¼Œåšä¸€æ ·çš„ç»ƒä¹ ï¼Œè¯»ä¸€æ ·çš„ä¹¦ã€‚è€Œåˆ°äº†å¤§å­¦å‘¢ï¼Ÿä¸€ä¸ªå®¿èˆçš„åŒå­¦ï¼Œæœ‰çš„äººæ¯å¤©é€ƒè¯¾æ‰“æ¸¸æˆï¼Œæœ‰çš„äººæ¯å¤©å¿™ç€åšå…¼èŒï¼Œæœ‰çš„äººåœ¨å­¦ç”Ÿä¼šå„ä¸ªéƒ¨é—¨ä¹‹é—´å‘¨æ—‹ï¼Œæœ‰çš„äººä»Žä¸ç¼ºè¯¾è¿˜è¦æ™šä¸ŠåšæŒåŽ»å›¾ä¹¦é¦†ã€‚ä»¿ä½›å¤§å­¦æˆäº†ä¸€ä¸ªåˆ†æ°´å²­ï¼Œå¤§å®¶å¼€å§‹èµ°ä¸ä¸€æ ·çš„è·¯ï¼Œè¿‡ä¸ä¸€æ ·çš„ç”Ÿæ´»äº†ã€‚é‚£ä¹ˆï¼Œä½ åˆè¯¥ä½•åŽ»ä½•ä»Žï¼Ÿæ‰€ä»¥ï¼Œå¤§å­¦ä¸€å®šè¦æœ‰ä¸“å±žäºŽè‡ªå·±çš„ä¸€æ¡ä¸»çº¿ï¼Œè€Œè¿™æ ·çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ‰“ä¸ªæ¯”æ–¹ï¼šå¦‚æžœæˆ‘çš„ä¸»çº¿æ˜¯è€ƒç ”ï¼Œé‚£ä¹ˆåœ¨è¯¥åŠ å…¥å­¦ç”Ÿä¼šè¿˜æ˜¯è¯¥åŽ»å…¼èŒè¿˜æ˜¯è¯¥åŽ»ä¸Šè‡ªä¹ ä¹‹é—´å¿«é€Ÿçš„åšå‡ºå¥‘åˆè‡ªå·±ä¸»çº¿çš„é€‰æ‹©ã€‚æˆ‘ç›¸ä¿¡ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººå»ºè®®å¤§å­¦å››å¹´ä¸€å®šè¦æœ‰ä¸€ä¸ªå¾ˆå¥½è§„åˆ’çš„é‡è¦åŽŸå› ã€‚çŸ¥é“è‡ªå·±è¦åšä»€ä¹ˆï¼ŒçŸ¥é“è‡ªå·±çš„ä¸»çº¿åœ¨å“ªï¼Œæ‰ä¸ä¼šæ´»çš„ç³Šé‡Œç³Šæ¶‚ï¼Œæ‰èƒ½è‡ªå·±ä¸€ä¸ªäººèµ°å¥½è‡ªå·±çš„è·¯ã€‚ å­¦å¥½è‹±è¯­å¾ˆé‡è¦ å¦‚æžœä½ é—®è‡ªå·±é‚£äº›å·²ç»ä»Žå¤§å­¦æ¯•ä¸šå¤šå¹´çš„å“¥å“¥å§å§ä»¬è‡ªå·±è¯¥ä¸è¯¥åŠ å…¥å­¦ç”Ÿä¼šï¼Ÿä½ å¯èƒ½ä¼šå¾—åˆ°å¾ˆå¤šç§ä¸åŒçš„ç­”æ¡ˆã€‚ä½†å¦‚æžœä½ é—®ä»–ä»¬å¯¹ä½ çš„å¤§å­¦æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿå…¶ä¸­ä¸€å®šæœ‰ä¸€æ¡ï¼ŒæŠŠè‹±è¯­å­¦å¥½ã€‚é€šè¿‡è‹±è¯­å››å…­çº§ä¹Ÿè®¸å¹¶ä¸æ˜¯ä»€ä¹ˆç‰›é€¼çš„äº‹ï¼Œä½†æ˜¯é€šè¿‡è‹±è¯­å››å…­çº§ï¼Œåœ¨åˆ«äººçœ¼é‡Œä½ å¯èƒ½å˜æˆä¸€ä¸ªç‰›é€¼çš„äººã€‚å¯¹äºŽèº«å¤„äºŒæµå¤§å­¦çš„æˆ‘ä»¬æ¥è¯´ï¼Œè‹±è¯­å››å…­çº§çš„æˆç»©æžæœ‰å¯èƒ½æˆä¸ºæˆ‘ä»¬å¤§å­¦å››å¹´ä¹‹åŽå”¯ä¸€çš„å¯ä»¥æ‹¿å‡ºæ¥è¯æ˜Žè‡ªå·±çš„èµ„æœ¬ã€‚å¦‚æžœæœ‰äººå‘Šè¯‰ä½ å­¦è‹±è¯­æ²¡æœ‰ç”¨ï¼Œæˆ–è€…å››å…­çº§çš„è¯ä¹¦æ²¡æœ‰ç”¨ï¼Œä½ ä¿¡å—ï¼Ÿä¸”ä¸è¯´è‹±è¯­å››å…­çº§å¯èƒ½å’Œå’Œä¿é€ç ”ç©¶ç”Ÿã€å°±ä¸šç­‰æœ‰å¾ˆå¤§çš„å…³ç³»ï¼Œèµ·ç æˆ‘ä»¬åº”è¯¥è¯æ˜Žè‡ªå·±ï¼Œä¸ç•™é—æ†¾ã€‚æˆ‘ä¹Ÿç›¸ä¿¡ï¼Œå¾ˆå¤šäººéƒ½å·²ç»æ„è¯†åˆ°äº†å››å…­çº§çš„é‡è¦æ€§ï¼Œå´æœ›è€Œå´æ­¥ï¼Œæˆ–æ— ä»Žä¸‹æ‰‹ã€‚é‚£é¢˜ä¸»å¯èƒ½å¾ˆæ®‹é…·çš„å‘Šè¯‰ä½ ï¼Œå­¦å¥½è‹±è¯­ä»Žæ¥å°±æ²¡æœ‰æ·å¾„å¯èµ°ã€‚ä½†é¢˜ä¸»ä¹Ÿå¾ˆæ¬£æ…°çš„å‘Šè¯‰ä½ ï¼Œé€šè¿‡è‹±è¯­å››å…­çº§åªè¦åŽ»ä»˜å‡ºå†åŠ ä¸Šæ­£ç¡®çš„æ–¹æ³•ï¼Œå°±å¯ä»¥é¡ºåˆ©é€šå…³ã€‚å•è¯å¾ˆé‡è¦ï¼Œå•è¯å¾ˆé‡è¦ï¼Œå•è¯å¾ˆé‡è¦ï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚æˆ‘å½“å¹´æ˜¯ä¹°çš„æ˜Ÿç«çš„å°å†Œå­ï¼Œæ¯å¤©è®°20å‡ ä¸ªå•è¯ï¼ŒåšæŒäº†ä¸¤å¹´å¤šã€‚ä»Žå››å…­çº§è€ƒè¯•çš„å‰ä¸¤ä¸ªæœˆå¼€å§‹ï¼Œæ¯ä¸¤å¤©ä¸€å¥—çœŸé¢˜æˆ–æ¨¡æ‹Ÿé¢˜ï¼ˆåŸºç¡€å¥½çš„å»ºè®®ç”¨æ–°ä¸œæ–¹ï¼Œæ¯”è¾ƒè–„å¼±çš„å»ºè®®ç”¨æ˜Ÿç«ï¼‰ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œå¾ˆå¤šäººä»Šå¤©è®°å¾—å•è¯å¯èƒ½æ˜Žå¤©å°±ä¼šå¿˜ï¼Œé¢˜ä¸»è§‰å¾—å¿˜å°±å¿˜äº†ï¼Œå› ä¸ºä½ æ²¡ç”¨ï¼Œæ€Žä¹ˆå¯èƒ½ä¸€ç›´è®°ç€ã€‚æ¯å¤©åªè¦æŒ‰è®¡åˆ’åŽ»è®°ï¼Œå½“çœŸæ­£åœ¨é˜…è¯»é‡Œè¿ç”¨çš„æ—¶å€™ï¼Œé‚£ç§å¯¹å•è¯ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿè§‰ï¼Œæ‰ä¼šè®©ä½ æŠŠå•è¯è®°å¾—æ›´ç‰¢ã€‚ï¼ˆä¸å†è¿™é‡Œèµ˜è¿°ï¼Œå¯ä»¥ç§ä¸‹äº¤æµï¼‰ å­¦ç”Ÿä¼šæ²¡é‚£ä¹ˆé‡è¦ å¯èƒ½é¢˜ä¸»å¸¦äº†ä¸€äº›åè§ï¼Œæœ›å‹¿å–·ã€‚è¯šç„¶ï¼Œåœ¨å­¦ç”Ÿä¼šé‡Œæ··ä»£è¡¨æˆ‘ä»¬æœ‰ä¸€å®šçš„ç»„ç»‡èƒ½åŠ›ï¼Œæœ‰ä¸€å®šçš„äººè„‰åŸºç¡€ï¼Œç”šè‡³æœ‰ç›¸è¾ƒä¸€èˆ¬å­¦ç”Ÿçš„ä¸€ç‚¹ç‚¹ä¼˜è¶Šæ„Ÿï¼Œè¿™è²Œä¼¼å·²ç»è¶Šæ¥è¶Šæˆä¸ºå¤§å®¶çš„å…±è¯†ã€‚ä½†æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå­¦ç”Ÿä¼šæ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œæ›´æ²¡æœ‰é‚£ä¹ˆç¥žç§˜ã€‚ä¹Ÿè®¸å¤§ä½ å‡ çº§çš„éƒ¨é•¿ã€ä¼šé•¿ï¼Œæœ‰æœºä¼šå’Œä½ åœ¨åŒä¸€ä¸ªè€ƒåœºé‡Œè§é¢ã€‚ä¹Ÿè®¸é‚£äº›åœ¨ä½Žå¹´çº§å­¦ç”Ÿé¢å‰è¶¾é«˜æ°”æ˜‚çš„å¹²éƒ¨èº«ä¸Šå¹¶æ²¡æœ‰å¤šå°‘é—ªå…‰ç‚¹ã€‚æˆ‘ä¸æ˜¯åå¯¹åŠ å…¥å­¦ç”Ÿä¼šï¼Œæˆ‘åªæ˜¯ä¸åŒæ„è¯´å­¦ç”Ÿä¼šæ˜¯ä¸€ä¸ªå¤šä¹ˆå¤šä¹ˆé”»ç‚¼äººçš„åœ°æ–¹ï¼Œæ¯•ç«Ÿï¼Œæˆ‘è§è¿‡å¤ªå¤šä»¥å­¦ç”Ÿä¼šä¸ºåä¹‰é€ƒè¯¾ï¼Œå› ä¸ºå­¦ç”Ÿä¼šçš„çäº‹è€Œæµªè´¹å¤§æŠŠæ—¶é—´çš„äººã€‚æˆ‘æ›´å¸Œæœ›ï¼Œä½ åŠ å…¥å­¦ç”Ÿä¼šæ˜¯å› ä¸ºè¿™ä¸ªå¹³å°å¯ä»¥æ•™ä¼šä½ åšäº‹çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯æ¯å¤©å¯¹è€å¸ˆå’Œä¸Šçº§çš„è®¨å¥½ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªå¹³å°æœ‰ä¸€äº›é—ªé—ªå‘å…‰çš„æœ‹å‹å¸å¼•ç€ä½ ï¼Œè€Œä¸æ˜¯é™·å…¥ä¸€ç§é«˜äººä¸€ç­‰çš„å¹»è§‰ä¹‹ä¸­ã€‚å¦‚æžœä¸æ˜¯ï¼Œè¯·åˆ«å†æµªè´¹è‡ªå·±çš„æ—¶é—´ã€‚ ä¸€å®šè¦å¤šè¯»ä¹¦ï¼Œå¤šæ—…è¡Œ æ‰¾å‡ æœ¬å¥½ä¹¦ï¼Œè®©è‡ªå·±å˜å¾—ä¸ä¸€æ ·ï¼Œæˆ‘ç›¸ä¿¡ä¸€ä¸ªåœ¨å›¾ä¹¦é¦†é‡Œè®¤çœŸçœ‹ä¹¦ï¼Œè®¤çœŸåšç€è¯»ä¹¦ç¬”è®°çš„å¥³ç”Ÿæˆ–è€…ç”·ç”Ÿï¼Œç»å¯¹æ¯”æ•´å¤©é€›è¡—æˆ–æ‰“æ¸¸æˆçš„å¥³ç”Ÿç”·ç”Ÿæ›´æœ‰é­…åŠ›ã€‚å…¶å®žï¼Œæˆ‘ä»¬å¤ªå¹´è½»ï¼Œå¾ˆå¤šä¸œè¥¿éœ€è¦æœ‰ä¸€ä¸ªåª’ä»‹åŽ»å¼•å¯¼å’Œå¯å‘ï¼Œè€Œè¯»ä¹¦æ¯‹åº¸ç½®ç–‘æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬ä¸çŸ¥é“è‡ªå·±å–œæ¬¢ä»€ä¹ˆï¼Œå¤šè¯»è¯»ä¹¦ä¹Ÿè®¸æ…¢æ…¢çš„å°±ä¼šæœ‰ä¸€äº›è‡ªå·±çš„æƒ³æ³•å’Œä¹è¶£ã€‚è€Œå¦‚æžœæˆ‘ä»¬æ¨¡ç³Šçš„çŸ¥é“è‡ªå·±å¯¹ä»€ä¹ˆè²Œä¼¼æœ‰ç‚¹å…´è¶£ï¼Œå¤šè¯»ç‚¹ä¹¦ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä»Žä¸­æ‰¾åˆ°æŠŠå…´è¶£å˜æˆä¸“é•¿çš„æ–¹å¼ã€‚å¤šè¯»ä¹¦ï¼Œå“ªæ€•åªæ˜¯ä¸ºäº†è®©è‡ªå·±æœ‰ç‹¬ç«‹çš„æƒ³æ³•å’Œæ€ç»´æ–¹å¼ã€‚å¾ˆå¤šäººå¯èƒ½çœ‹åˆ°å¤šæ—…è¡Œè§‰å¾—å¤ªè¿‡çŸ«æƒ…ï¼Œè€Œæˆ‘è¯´è¿™ä¸ªæ˜¯å¤ªè¿‡çŽ°å®žã€‚ä»Žä½ ä¸Šå¤§å­¦çš„é‚£åˆ»èµ·ï¼Œç»å¤§å¤šæ•°äººå¯èƒ½åœ¨ä¸€ç”Ÿä¸­æ²¡æœ‰å“ªä¸ªé˜¶æ®µçš„ç©ºé—²æ—¶é—´å¯ä»¥å’Œå¤§å­¦åª²ç¾Žã€‚å¤šæ—…è¡Œï¼Œä¸æ˜¯è¦è¯—æ„ï¼Œè€Œæ˜¯è¦å›žå¿†ã€‚ä¸æ˜¯è¦ç‚«è€€ï¼Œè€Œæ˜¯è¦ç»åŽ†ã€‚ä¸æ˜¯è¯´å¤§å­¦ä¸€å®šè¦æ—…è¡Œï¼Œè€Œæ˜¯å¦‚æžœå¤§å­¦ä¸æ—…è¡Œï¼Œä»¥åŽï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šè‡ªç”±çš„æ—¶é—´ã€‚æ‰€ä»¥ï¼Œå“ªæ€•æ˜¯ç©·æ¸¸ï¼Œä¹Ÿè¦å¤šè·‘è·‘ï¼Œå¤šé€›é€›ã€‚ æŒ‚ç§‘å¹¶ä¸å…‰è£ å¯èƒ½å¾ˆå¤šäººè§‰å¾—æˆ‘è¯´äº†ä¸€å¥åºŸè¯ï¼Œå› ä¸ºå³ä¾¿æ˜¯â€˜å¤§å­¦æ²¡æœ‰æŒ‚è¿‡ç§‘ï¼Œä¸ç®—æ˜¯å®Œæ•´çš„å¤§å­¦â€™è¿™æ ·çš„è¨€è®ºç››è¡Œçš„çŽ°åœ¨ï¼Œæˆ‘ç›¸ä¿¡ä¹Ÿæ²¡æœ‰äººæ„¿æ„åŽ»ä¸»åŠ¨æŒ‚ç§‘ã€‚é‚£æ„å‘³ç€ä¸€ä¸ªå‡æœŸçš„å¿å¿å¿‘å¿‘å’Œæ¯æ¬¡å¼€å­¦çš„åŽ‹åŠ›å±±å¤§ã€‚æˆ‘æ‹…å¿ƒçš„æ˜¯ï¼Œä½ æ…¢æ…¢åœ°ä¹ æƒ¯äº†è‡ªå·±çš„è¿™ç§çŠ¶æ€ï¼Œä½ æ…¢æ…¢åœ°çœ‹ç€æŒ‚çš„è¶Šæ¥è¶Šå¤šçš„ç§‘ç›®å˜å¾—éº»æœ¨ï¼Œé‚£ä¸ªæ—¶å€™ä¹Ÿè®¸å¯¹ä½ çœŸçš„æ²¡æœ‰ä»€ä¹ˆæ˜¯æœ‰æ‰€è°“çš„ã€‚æˆ‘ç›¸ä¿¡ï¼Œè¿™æ ·ä¸€ç§çŠ¶æ€çš„ä½ ï¼Œç¦»å¼€å¤§å­¦çš„é‚£ä¸€åˆ»å¿…å®šæ˜¯ä¸€æ— æ‰€æœ‰çš„ä½ ã€‚å¤šä¹ˆå¯æ€•ï¼Œå››å¹´ï¼Œä½ ä»€ä¹ˆéƒ½æ²¡æœ‰ç•™ä¸‹ï¼Œå´å¸¦èµ°äº†ä¸€ä¸ªä¸å†å¹´è½»ï¼Œä¸å†æœ‰æ–—å¿—ï¼Œéº»æœ¨çš„ä½ ã€‚ ä¸€å®šè¦è‡ªå·±èµšä¸€æ¬¡å¤–å¿« å¸¸å¬èº«è¾¹çš„æœ‹å‹è¯´ï¼Œç­‰åˆ°äº†ç¤¾ä¼šï¼Œæ‰å‘çŽ°åŽŸæ¥é’±è¿™ä¹ˆéš¾æŒ£ã€‚ä¸çŸ¥é“æ­¤åˆ»åœ¨å¤§å­¦é‡Œçš„ä½ ï¼Œæœ‰æ²¡æœ‰è¿™ç§ä½“ä¼šï¼Ÿæˆ‘ä»¬ä¸­çš„ä¸€äº›äººï¼Œå¯èƒ½ä¼šçœ‹ä¸èµ·èº«è¾¹é‚£äº›ä¸ºäº†ä¸€å°æ—¶å‡ å—é’±åŽ»åšå…¼èŒçš„åŒå­¦ï¼Œä½†æˆ‘ç›¸ä¿¡ä»–ä»¬è‚¯å®šæ¯”æˆ‘ä»¬æ›´èƒ½æ—©æ—©åœ°ä½“ä¼šåˆ°è¿™ä¸ªç¤¾ä¼šçœŸå®žçš„ä¸€é¢ã€‚æ‰€ä»¥ï¼Œå¤§å­¦é‡Œï¼Œè¯·è‡³å°‘åŽ»åšä¸€æ¬¡å…¼èŒï¼ŒåšæŒå‡ å¤©å°±å¥½ã€‚æˆ‘åªå¸Œæœ›ï¼Œä½ èƒ½é€šè¿‡è‡ªå·±çš„æ‰‹ï¼Œèµšå“ªæ€•æ˜¯ä¸åˆ°100å—é’±ï¼Œåªè¦èƒ½ä½“ä¼šåˆ°ä»Žåˆ«äººçš„æ‰‹é‡ŒæŒ£é’±çš„éš¾å¤„å°±å¥½ï¼Œåªè¦ä½ å¯ä»¥åœ¨äº‹åŽæƒ³æƒ³ï¼Œä½ ç©¶ç«Ÿå¯ä»¥åšæˆä»€ä¹ˆäº‹ï¼Ÿä½ éœ€ä¸éœ€è¦åœ¨è¸å…¥ç¤¾ä¼šä¹‹å‰å†å¤šåšä¸€äº›å‡†å¤‡ï¼Œå†å¤šæå‡ä¸€ä¸‹è‡ªå·±å°±è¶³å¤Ÿäº†ã€‚æŒ£é’±çœŸçš„å¾ˆéš¾ï¼Œèµšä¸€æ¬¡å¤–å¿«ï¼Œæƒ³æƒ³è‡ªå·±ï¼Œæƒ³æƒ³å®¶äººï¼Œæƒ³æƒ³æœªæ¥ã€‚ ä¸å–œæ¬¢æœ¬ä¸“ä¸šï¼Œèµ·ç æ‰¾ç‚¹è‡ªå·±å–œæ¬¢çš„åšç‚¹æˆç»©å‡ºæ¥ å¬è¿‡å¤ªå¤šçš„ä¸å–œæ¬¢è¿™ä¸ªä¸“ä¸šã€æ˜¯å› ä¸ºè¢«è°ƒå‰‚äº†è¢«è¿«å­¦è¿™ä¸ªä¸“ä¸šã€ä¸æ„Ÿå…´è¶£ç­‰ç­‰è¿™æ ·çš„è¯ï¼Œç„¶åŽä»¿ä½›è¿™ä¸ªå€Ÿå£ä¸Žä½ æ¯«æ— å…³ç³»ï¼Œå´å¯ä»¥æˆä¸ºä½ æˆç»©ä¸å¥½ï¼Œé—¨é—¨é«˜æŒ‚çš„æŒ¡ç®­ç‰Œã€‚é‚£ä½ å–œæ¬¢ä»€ä¹ˆï¼Ÿä½ è‡ªå·±è¯´å•Šï¼æˆ‘æ•¢è¯´ï¼Œç»å¸¸è¯´è¿™è¯çš„äººï¼Œæœ€åŽéƒ½å–œæ¬¢ä¸Šäº†å€Ÿå£ï¼Œæ‡’æƒ°ï¼Œè¿·èŒ«ã€‚å¦‚æžœä¸“ä¸šè¯¾ä¸åŽ»ä¸Šæˆ–è€…å­¦ä¸å¥½æ˜¯å› ä¸ºå…´è¶£é—®é¢˜ï¼Œé‚£ä¹ˆå‰©ä¸‹å¤§æŠŠçš„æ—¶é—´ä½ å¯ä»¥éƒ½æ”¾åœ¨è‡ªå·±å–œæ¬¢çš„äº‹ä¸Šï¼Œåšç‚¹æˆç»©å‡ºæ¥å•Šï¼åˆ°æ—¶å€™ï¼Œæˆ‘å–œæ¬¢ä½ å¯ä»¥æ˜‚é¦–æŒºèƒ¸çš„è¯´ï¼Œè¿™ä¸ªä¸“ä¸šæˆ‘ä¸å–œæ¬¢ï¼Œä½†æˆ‘æ‰¾åˆ°äº†è‡ªå·±å–œæ¬¢åšçš„ã€‚ èƒ½å¤ŸåšæŒæ—©èµ·å’Œè·‘æ­¥çš„äººï¼Œä½ å’Œäººå®¶çœŸçš„æœ‰å·®è· æ—©èµ·æ²¡ä»€ä¹ˆäº†ä¸èµ·ï¼Œè·‘æ­¥æ›´æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œä½†èƒ½å¤Ÿä¸€å¤©ä¸€å¤©åŽ»åšæŒï¼Œä¸€ä¸ªæœˆä¸€ä¸ªæœˆåŽ»åšçš„äººï¼Œä½ çœŸçš„å’Œäººå®¶æœ‰å·®è·ã€‚æˆ‘ä»Žæœªè§è¿‡ä¸€ä¸ªåšæŒäº†ä¸¤ä¸ªæœˆæ—©èµ·å’Œè·‘æ­¥çš„äººä¼šçªç„¶æ”¾å¼ƒï¼Œå’Œä½ ä¸€æ ·ç¡å¤§è§‰ã€‚å½“ä½ è‡ªå·±åŽ»åšçš„æ—¶å€™ï¼Œä½ æ‰ä¼šå‘çŽ°åŽŸæ¥åšæŒæ˜¯è¿™ä¸–ç•Œä¸Šæœ€ç—›è‹¦ï¼Œä¹Ÿæœ€å……å®žçš„äº‹ã€‚ä¸å¦¨çœ‹çœ‹èº«è¾¹é‚£äº›è¿™æ ·åšçš„äººï¼Œçœ‹çœ‹ä»–ä»¬çš„çŠ¶æ€ï¼Œçœ‹çœ‹ä»–ä»¬çš„é¢è²Œï¼ŒçœŸçš„å’Œä½ ä¸ä¸€æ ·ã€‚å¦‚æžœä¿¡æˆ‘ï¼Œè¯·ä»€ä¹ˆéƒ½ä¸è¦ç®¡ï¼Œä½ å°±è¿™æ ·åšæŒä¸€ä¸ªæœˆæ—©èµ·è·‘æ­¥ï¼Œç„¶åŽï¼Œçœ‹çœ‹è‡ªå·±ä¼šä¸ä¼šå‘å…‰å¯å¥½ï¼Ÿæˆ‘æ•¢æ‰“èµŒï¼Œä½ ä¼šå‘çŽ°ä¸€ä¸ªå…¨æ–°çš„è‡ªå·±ã€‚è€Œä¸”ï¼Œå¦‚æžœèº«è¾¹æ²¡æœ‰è¿™æ ·çš„äººï¼Œè¯·å‹‡æ•¢çš„æ— ç•æµè¨€ï¼Œåšç¬¬ä¸€ä¸ªã€‚ ä½ ä¸å¾—ä¸ä¿¡ï¼Œäººç”Ÿæ¥å°±æœ‰å·®è· ä»¥å‰å­¦ä¹ å¥½çš„åŒå­¦è²Œä¼¼æ‹¥æœ‰æ•´ä¸ªä¸–ç•Œï¼Œç­‰ä½ ä¸Šäº†å¤§å­¦ï¼Œå¯èƒ½æ„Ÿè§‰åˆ°åŒå­¦ä¹‹é—´æœ‰å¾ˆæ˜Žæ˜¾çš„ç‰©è´¨å·®è·ã€‚ä¹Ÿè®¸ä½ ä¸€å¹´çš„ç”Ÿæ´»è´¹åªæ˜¯æŸäº›äººä¸€ä¸ªæœˆå¼€é”€çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿè®¸ä½ åŠªåŠ›åŽ»æ‹¿çš„å¥–å­¦é‡‘åŠ©å­¦é‡‘åˆ«äººå´è¿žç”³è¯·éƒ½æ‡’å¾—å†™ã€‚åˆ°äº†å¿«æ¯•ä¸šçš„æ—¶å€™ï¼Œä½ æ€¥çš„ç„¦å¤´çƒ‚é¢ï¼Œç®€åŽ†æŠ•äº†ä¸€ä»½åˆä¸€ä»½ï¼Œè€Œåˆ«äººææ€•åªç­‰ç€æ‹¿æ¯•ä¸šè¯ä¸Šç­ã€‚äººç”Ÿæ¥å°±æœ‰å·®è·ï¼Œç”šè‡³å•å•æ˜¯å®¶å¢ƒçš„å·®è·å°±æ˜¯ä½ å†åŠªåŠ›ä¹Ÿä¼åŠä¸ä¸Šçš„é«˜åº¦ã€‚æ‰€ä»¥ï¼Œçœ‹ç€åˆ«äººä»»æ€§ï¼Œè¯·å…ˆæƒ³æƒ³ä½ æœ‰æ²¡æœ‰ä»»æ€§çš„èµ„æœ¬ã€‚çœ‹ç€åˆ«äººå¼ ç‹‚ï¼Œæƒ³ä¸€æƒ³ä½ çš„å°†æ¥è¦é ä»€ä¹ˆå¼ ç‹‚ã€‚äººä¹Ÿè®¸ç”Ÿæ¥å°±æœ‰å·®è·ï¼Œå®¶å¢ƒï¼Œæ™ºåŠ›ç­‰ç­‰ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œä½ è¦æ˜¯è¿˜ä¸åŠªåŠ›ï¼Œä½ è¿žåå‡»çš„æœºä¼šéƒ½æ²¡æœ‰ä¸€ç‚¹ã€‚ å‡æœŸå®žä¹ åŠ©ä½ è„±é¢–è€Œå‡º æˆ‘ä»¬ç»ˆç©¶è¦èµ°ä¸Šç¤¾ä¼šï¼Œå¦‚æžœè¯´æˆ‘å¤§å­¦æœ€åŽæ‚”ä»€ä¹ˆï¼Œé‚£ä¸€å®šæ˜¯æ²¡æœ‰æå‰å‡ºæ¥åŽ†ç»ƒã€‚å…¶å®žï¼Œä½ åªè¦åŽ»ç²¾å¿ƒåˆ¶ä½œä¸€ä»½æœ‰è¶³å¤Ÿè¯šæ„çš„ç®€åŽ†ï¼Œæ‰¾ä¸€ä»½å®žä¹ çš„å·¥ä½œå¹¶ä¸éš¾ã€‚å½“ç„¶ï¼Œæˆ‘è¯´çš„æ˜¯åœ¨ä¸€äº›ä¸€çº¿åŸŽå¸‚ã€‚ææ—©çš„äº†è§£è‡ªå·±ä¸“ä¸šå°†æ¥åœ¨ç¤¾ä¼šé‡Œçš„åˆ†å·¥ï¼Œææ—©ç†Ÿæ‚‰ä¸€äº›è‡ªå·±æœ‰å¯èƒ½è¿›å…¥çš„è¡Œä¸šé¢†åŸŸï¼Œææ—©åœ¨è‡ªå·±æ„Ÿå…´è¶£çš„å·¥ä½œä¸Šç§¯ç´¯ä¸€äº›é›¶æ•£çš„ç»éªŒï¼ŒçœŸçš„å¾ˆæœ‰å¸®åŠ©ã€‚å®žä¹ å¹¶ä¸ä»£è¡¨å·¥ä½œç»åŽ†ï¼Œå´å¯ä»¥è®©ä½ æ¸…æ™°çš„äº†è§£ç”šè‡³é¢„çŸ¥æœªæ¥ã€‚è¯´ä¸€äº›ä¸å¥½å¬çš„è¯ï¼Œæˆ‘ä»¬çš„è€å¸ˆå¯èƒ½ä»Žå­¦æ ¡æ‹¿åˆ°åšå£«æˆ–è€…åšå£«åŽå­¦ä½çš„é‚£ä¸€åˆ»ï¼Œå°±ä¸€ç›´åœ¨å¤§å­¦é‡Œå·¥ä½œç›´åˆ°é€€ä¼‘ï¼Œä»–ä»¬å¯¹ç¤¾ä¼šçš„äº†è§£å¯èƒ½å¾ˆå¤šæ¥è‡ªè‡ªå·±çš„å­å¥³æˆ–è€…å¬é—»ã€‚æ‰€ä»¥ï¼Œç¤¾ä¼šçœŸæ­£æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿä½ æ„Ÿå…´è¶£çš„å·¥ä½œç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿå­©å­ä»¬ï¼Œè¯·ææ—©è¡ŒåŠ¨ï¼Œæ‰èƒ½ææ—©æŽŒæ¡ä¼˜å…ˆæƒã€‚ åŒ—ä¸Šå¹¿æ²¡é‚£ä¹ˆå¯æ€• ä»Žä½•æ—¶å¼€å§‹ï¼Œå¤§å®¶è°ˆè®ºèµ·åŒ—ä¸Šå¹¿ï¼Œæœ‰äº›è°ˆå³è‰²å˜çš„æ„æ€ã€‚èŠ‚å¥å¿«ï¼ŒåŽ‹åŠ›å¤§ï¼Œä½æˆ¿è´µï¼Œæ¶ˆè´¹é«˜ï¼Œç©ºæ°”å·®ï¼Œäº¤é€šå µï¼Œç«žäº‰å¼ºæˆäº†åŒ—ä¸Šå¹¿çš„æ ‡é…ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¬åˆ°åŒ—æ¼‚è¿™ä¸ªè¯è§‰å¾—è·ç¦»è‡ªå·±å¾ˆé¥è¿œã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å¸Œæœ›å‘Šè¯‰ä½ è¿™æ ·ä¸€ä¸ªäº‹å®žï¼Œæ¯å¹´æ ¡æ‹›å­£èŠ‚ï¼Œå¯èƒ½æˆ‘ä»¬è¿™äº›äºŒæµå¤§å­¦ä¸­ä¸€ä¸ªé”€å”®ï¼Œä¸€ä¸ªäººåŠ›èµ„æºï¼Œä¸€ä¸ªå·¥äººï¼Œè¿™æ ·æœ€åŸºç¡€çš„å²—ä½éƒ½æœ‰æˆåƒç”šè‡³ä¸Šä¸‡çš„äººåŽ»äº‰åŽ»æŠ¢ã€‚æ‹¿ç€å®è´µçš„ä¸‰æ–¹åè®®ï¼Œéšæ—¶æ‰“ç®—æŠŠè‡ªå·±ä¸‰åå²ä¹‹å‰å®è´µçš„é’æ˜¥æ–­é€å‡ºåŽ»ã€‚æˆ‘å¹¶éžå¯¹æ ¡æ‹›æœ‰åè§ï¼Œè€Œæ˜¯æˆ‘ç›¸ä¿¡æœ‰å¤ªå¤šçš„äººåœ¨æŠ•å‡ºé‚£ä¸€ä»½ç®€åŽ†æ—¶éƒ½ä¸çŸ¥é“æŠ•çš„è¿™ä¸ªèŒä½æ˜¯å¹²ä»€ä¹ˆçš„ã€‚å·¥ä½œæ˜¯å¾ˆéš¾æ‰¾ï¼Œå¯æ˜¯æˆ‘ç›¸ä¿¡ï¼Œä¸€ä¸ªå¯¹è‡ªå·±å¸Œæœ›ä»Žäº‹çš„è¡Œä¸šæˆ–èŒä¸šæœ‰è¿‡ä¸€å®šçš„äº†è§£å’Œå‡†å¤‡ï¼Œä¸€ä¸ªè¸å®žçœŸè¯šè®¤çœŸæœ‰æ´»åŠ›å¥½å­¦çš„åº”å±Šå¤§å­¦ç”Ÿï¼Œä¸€ä¸ªå¯¹è–ªé…¬è¦æ±‚ä¸é‚£ä¹ˆé«˜æ›´æ„¿æ„é”»ç‚¼çš„å¹´è½»äººåœ¨åŒ—ä¸Šå¹¿å¾ˆå®¹æ˜“æœ‰ä¸€ä»½é€‚åˆè‡ªå·±çš„å·¥ä½œã€‚è€Œå®ƒç»ä¸æ¯”æ ¡æ‹›æ‰€æä¾›çš„å·®ã€‚å¹´è½»äººçœ¼ç•Œå¯ä»¥æ”¾çš„å¼€ä¸€äº›ï¼Œå¤šæ¥åŒ—ä¸Šå¹¿çœ‹ä¸€çœ‹ï¼Œæ‰¾ä¸€æ‰¾ï¼Œåæ­£æˆ‘ä»¬æœ¬å°±ä¸€æ— æ‰€æœ‰ã€‚ å¸Œæœ›ä½ çš„èƒ½åŠ›æ’‘å¾—èµ·ä½ çš„çˆ±æƒ… æ¯•ä¸šå­£å³åˆ†æ‰‹å­£ï¼Œæ€»æœ‰å®ƒå­˜åœ¨çš„é“ç†ã€‚ä»¥å‰è§‰å¾—çˆ±æƒ…è¢«çŽ°å®žæ‰“è´¥ï¼Œæ˜¯å› ä¸ºçˆ±å¾—ä¸å¤Ÿæ·±ã€‚åŽæ¥æ‰å‘çŽ°ï¼Œçˆ±æƒ…è¢«çŽ°å®žæ‰“è´¥ï¼Œæ˜¯å› ä¸ºä¸€ç›´æ´»åœ¨ç†æƒ³é‡Œï¼Œä¸çŸ¥é“çŽ°å®žæœ‰å¤šçŽ°å®žã€‚çˆ±æƒ…æ€Žä¹ˆæ¥éƒ½è¡Œï¼Œå¯ç”Ÿæ´»ä¸åŒã€‚ç›¸æ‹æ€Žä¹ˆç¾Žéƒ½å¥½ï¼Œå¯èµ°åˆ°æœ€åŽä¸åŒã€‚å¦‚æžœä¸€ä¸ªå§‘å¨˜æ„¿æ„åœ¨ä½ ä¸€æ— æ‰€æœ‰çš„å¹´çºªå°†è‡ªå·±çš„é’æ˜¥é€ä¸Šï¼Œå°†æ¥åˆ†æ‰‹æ—¶è¯·ä¸€å®šä¸è¦è¯´æ˜¯å› ä¸ºä¸çˆ±ã€‚å¦‚æžœä¸€ä¸ªå°ä¼™å­æ„¿æ„å°†ç”Ÿæ´»è´¹æ”’ä¸‹æ¥ç»™ä½ æƒŠå–œï¼Œå°†æ¥åˆ†æ‰‹æ—¶è¯·ä¸€å®šä¸è¦è¯´æ˜¯å› ä¸ºä»–ç»™ä¸äº†ä½ æƒ³è¦çš„ã€‚ä¸¤ä¸ªäººåœ¨ä¸€èµ·ï¼Œä»Žæ¥å°±ä¸æ˜¯ç®€ç®€å•å•çš„ç”œèœœï¼Œåè€Œæ˜¯ä¸€èµ·æ‰¿æ‹…ï¼Œä¸€èµ·æˆé•¿ï¼Œä¸€èµ·æ‹¼æã€‚å½“ä½ çš„èƒ½åŠ›æ’‘å¾—èµ·ä½ çš„çˆ±æƒ…ï¼Œä½ æ‰ä¼šå«ç»™æœ€å¥½çš„ä»–ï¼Œå› ä¸ºçˆ±æƒ…ã€‚ ä½ å·²ç»ä¸å°äº†ï¼Œå¹´é¾„ä¹Ÿæ˜¯ç«žäº‰åŠ› ä½ å¯ä»¥ç®—ä¸€ç®—ï¼Œå¤§ä¸‰çš„ä½ å¦‚æžœæ˜¯22å²ç”šè‡³æ˜¯å¾€ä¸‹ï¼Œä½ è¯¥å¼€å§‹æœ‰ä¸€ç‚¹å±æœºæ„Ÿäº†ã€‚å¾ˆå¤šäººåœ¨ä½ è¿™ä¸ªå¹´çºªï¼Œå·²ç»å¤§å­¦æ¯•ä¸šåœ¨ç¤¾ä¼šä¸Šå¼€å§‹æ‰“æ‹¼ï¼Œå·²ç»å¼€å§‹ç ”ç©¶ç”Ÿçš„å…¨æ–°ç”Ÿæ´»ï¼Œè¿™éƒ½æ˜¯çœŸçš„ã€‚è¯·æ³¨æ„ï¼Œæˆ‘è¯´çš„æ˜¯å¾ˆå¤šäººã€‚ä½ æ¯å¤©åœ¨å¤§å­¦é‡Œå«ç€å¤–å–æ‰“ç€æ¸¸æˆï¼Œå’Œä½ ä¸€æ ·å¹´é¾„çš„äººå¯èƒ½æ­£åœ¨åŠ ç­åŠ ç‚¹çš„èµ¶é¡¹ç›®ï¼Œä½ æ¯å¤©æ‹…å¿ƒç€è€å¸ˆç‚¹åå’ŒæŒ‚ç§‘ï¼Œå’Œä½ ä¸€æ ·å¹´é¾„çš„äººå¯èƒ½æ­£åœ¨ä¸€è¾¹å·¥ä½œä¸€è¾¹ä¸ºå‡ºå›½å¤‡æˆ˜é›…æ€æ‰˜ç¦ã€‚ä»Žä½ è¸å…¥ç¤¾ä¼šçš„é‚£ä¸€åˆ»èµ·ï¼Œä½ è¯¥æ„è¯†åˆ°å¹´è½»å°±æ˜¯å®žåŠ›äº†ï¼Œå¹´é¾„å°å¯ä»¥åœ¨è‡ªå·±å–œæ¬¢çš„è¡Œä¸šé‡Œæ‘¸çˆ¬æ»šæ‰“åå¤é‡æ¥ï¼Œå¹´é¾„å°å¯ä»¥å‡­ç€ä¸€è‚¡æ¿€æƒ…ä¸è®¡åŽæžœçš„å¾€å‰å†²åœ¨å¤±è´¥é‡Œç§¯ç´¯ç»éªŒï¼Œä½ å¯ä»¥å—ï¼Ÿä½ å·²ç»ä¸å°äº†ï¼Œä½ æ´»çš„çœŸçš„å¤ªå®‰é€¸äº†ã€‚ è¯·è‡³å°‘åšå¥½å½“ä¸‹çš„äº‹ï¼Œäººç”Ÿå†æ²¡æœ‰è¿™æ ·ä¸€ä¸ªå››å¹´ å¦‚æžœä½ ä¾æ—§è¿·èŒ«ï¼Œè¯·è‡³å°‘åšå¥½å½“ä¸‹çš„äº‹ã€‚è¯»äºŒåå‡ æœ¬ä¸é”™çš„ä¹¦ï¼ŒåŽ»åå‡ ä¸ªä¸é”™çš„åœ°æ–¹ï¼Œè¯•ç€è€ƒç‚¹æœ‰å«é‡‘é‡çš„è¯ä¹¦ï¼Œä¿è¯æ¯ä¸€é—¨åŠŸè¯¾éƒ½é¡ºåˆ©é€šè¿‡ï¼Œæ…¢æ…¢å¼€å§‹å…»æˆä¸€äº›ä¸é”™çš„ä¹ æƒ¯ï¼Œå¤šç»“äº¤å‡ ä¸ªèº«ä¸Šæœ‰é—ªå…‰ç‚¹çš„æœ‹å‹ï¼Œå¤šäº†è§£äº†è§£æ–°é—»ï¼Œæœ‰æ—¶é—´å†æŽŒæ¡å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„å›¾ç‰‡å¤„ç†æˆ–è€…åŠžå…¬ç¼–ç¨‹çš„è½¯ä»¶ï¼Œå°±è¿™æ ·å¹³æ·¡çš„å››å¹´ä¹Ÿå¾ˆå¥½ã€‚äººç”Ÿå†ä¹Ÿæ²¡æœ‰è¿™æ ·ä¸€ä¸ªå››å¹´ï¼Œåªè¦ä½ ä¸åšçŠ¯æ³•çš„äº‹ï¼Œä½ å¯ä»¥åšä»»ä½•äº‹ï¼Œä¸è®ºå‚»é€¼ç‰›é€¼ã€‚äººç”Ÿå†ä¹Ÿæ²¡æœ‰è¿™æ ·ä¸€ä¸ªå››å¹´ï¼Œè·Œè·Œæ’žæ’žï¼Œæ‚²æ‚²å–œå–œï¼Œèµ°èµ°åœåœã€‚äººç”Ÿå†ä¹Ÿæ²¡æœ‰è¿™æ ·ä¸€ä¸ªå››å¹´ï¼Œä½ å¯ä»¥å‡­å¿ƒè‡ªç”±è€Œæ´»ï¼Œçº¯ç²¹ä¸ºè‡ªå·±è€Œæ´»ã€‚ æ¯ä¸€ä¸ªèµ°å‡ºæ ¡é—¨çš„æˆ‘ä»¬éƒ½å¾ˆç¾¡æ…•ä½ ä»¬ æˆ‘ä»¬ä¸å†æœ‰ä½ ä»¬çš„å¹¼ç¨šï¼Œå´ä¹Ÿä¸å†æœ‰ä½ ä»¬çš„çƒ‚æ¼«ã€‚æˆ‘ä»¬ä¸å†æœ‰ä½ ä»¬çš„è’å”ï¼Œå´ä¹Ÿä¸å†æœ‰ä½ ä»¬çš„æŠ˜è…¾ã€‚æˆ‘ä»¬ä¸å†æœ‰ä½ ä»¬çš„æ—¶å…‰ï¼Œå› ä¸ºå¤§å­¦å˜æˆäº†å›žå¿†ã€‚æˆ‘ä»¬å¾ˆç¾¡æ…•ä½ ä»¬ï¼Œå°¤å…¶æ˜¯ä½ ä»¬è¿™ç»½æ”¾æœ€ç‹‚é‡Žçš„å¹´å°‘ã€‚ å”¯æ„¿ä½ ä»¬é’æ˜¥è’å”å´ä¸è¾œè´ŸéŸ¶åŽ æœ€åŽ åŽŸæ–‡ï¼šç»™èº«å¤„äºŒæµå¤§å­¦ä¾æ—§è¿·èŒ«çš„ä½ ä¸€äº›è¿‡æ¥äººçš„å¤§å®žè¯ä½œè€…ï¼šå‡°å¦‚æ°´]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSè‡ªåŠ¨å¸ƒå±€ä¹‹autoresizingMaskçš„ä½¿ç”¨]]></title>
    <url>%2F2017%2F08%2F23%2F2017%2FiOS%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80%E4%B9%8BautoresizingMask%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢çš„è¯ åœ¨iOSå¼€å‘ä¸­ï¼Œå¯èƒ½å¾ˆå°‘æœ‰äººä½¿ç”¨Autoresizingå¸ƒå±€äº†ï¼Œå› ä¸ºåŸºæœ¬éƒ½ä½¿ç”¨å¼ºå¤§çš„Autolayoutäº†ï¼ŒAutoresizingå¯ä»¥åšçš„Autolayoutéƒ½å¯ä»¥åšåˆ°ï¼Œè€Œä¸”æœ‰ä¸€äº›æ˜¯Autoresizingæ— æ³•å®Œæˆçš„ï¼Œè€Œä¸”æœ‰å¼ºå¤§çš„ Masonryåº“è®©çº¦æŸå†™èµ·æ¥å¦‚æ­¤ç®€æ´ã€‚ä½†åœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œå¯èƒ½å°è£…ä¸€äº›å°æŽ§ä»¶ï¼Œå¹¶æ²¡æœ‰å¯¼å…¥Masonryï¼Œå¦‚æžœæˆ‘ä»¬æ‰€æœ‰ä»£ç æ·»åŠ çº¦æŸæ—¶æ˜¯ç‰¹åˆ«éº»çƒ¦ï¼Œé‚£ä¹ˆåœ¨ä¸€äº›ç®€å•çš„å¸ƒå±€æ—¶å¯ä»¥å°è¯•ä½¿ç”¨Autoresizingæ¥çŽ©çŽ©ã€‚ UIView çš„ autoresizingMask å±žæ€§ æˆ‘ä»¬ç®€å•çš„çœ‹çœ‹UIViewAutoresizingçš„ä½¿ç”¨æ–¹æ³•å§ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š 123456789typedef NS_OPTIONS(NSUInteger, UIViewAutoresizing) &#123; UIViewAutoresizingNone = 0, UIViewAutoresizingFlexibleLeftMargin = 1 &lt;&lt; 0, UIViewAutoresizingFlexibleWidth = 1 &lt;&lt; 1, UIViewAutoresizingFlexibleRightMargin = 1 &lt;&lt; 2, UIViewAutoresizingFlexibleTopMargin = 1 &lt;&lt; 3, UIViewAutoresizingFlexibleHeight = 1 &lt;&lt; 4, UIViewAutoresizingFlexibleBottomMargin = 1 &lt;&lt; 5&#125;; 1234567891011121314151617public struct UIViewAutoresizing : OptionSet &#123; public init(rawValue: UInt) public static var flexibleLeftMargin: UIViewAutoresizing &#123; get &#125; public static var flexibleWidth: UIViewAutoresizing &#123; get &#125; public static var flexibleRightMargin: UIViewAutoresizing &#123; get &#125; public static var flexibleTopMargin: UIViewAutoresizing &#123; get &#125; public static var flexibleHeight: UIViewAutoresizing &#123; get &#125; public static var flexibleBottomMargin: UIViewAutoresizing &#123; get &#125;&#125; UIViewAutoresizingNone ä¸åšä»»ä½•å¸ƒå±€æ“ä½œï¼Œé»˜è®¤æ˜¯æ­¤ç±»åž‹ UIViewAutoresizingFlexibleLeftMargin å·¦è¾¹å¯å˜ï¼Œå³è¾¹è·ç¦»å›ºå®šã€‚å·¦è¾¹æ˜¯çµæ´»çš„ UIViewAutoresizingFlexibleWidth å®½åº¦å¯å˜ï¼Œä¸¤è¾¹å›ºå®šã€‚å®½åº¦æ˜¯çµæ´»çš„ UIViewAutoresizingFlexibleRightMargin å³è¾¹å¯å˜ï¼Œå·¦è¾¹å›ºå®šã€‚å³è¾¹æ˜¯çµæ´»çš„ UIViewAutoresizingFlexibleTopMargin ä¸Šæ–¹å¯å˜ï¼Œä¸‹æ–¹å›ºå®šã€‚é¡¶éƒ¨è·ç¦»çš„çµæ´»çš„ UIViewAutoresizingFlexibleHeight é«˜åº¦å¯å˜ï¼Œä¸Šä¸‹å›ºå®šã€‚é«˜åº¦æ˜¯çµæ´»çš„ UIViewAutoresizingFlexibleBottomMargin åº•è¾¹è·ç¦»å¯å˜ï¼Œå¤´éƒ¨è·ç¦»å›ºå®šã€‚åº•è¾¹è·ç¦»æ˜¯çµæ´»çš„ ä»£ç OC12UIView *view = [UIView new];view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight; Swift12let view = UIView()view.autoresizingMask = [.flexibleWidth, .flexibleHeight]]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[NSInvocationçš„ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F08%2F18%2F2017%2FNSInvocation%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œå¯èƒ½æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œåˆ«äººç»™ä½ æ–¹æ³•åï¼Œç»™ä½ å‚æ•°ï¼Œå«ä½ åŽ»æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šåœ¨OC-JSäº¤äº’æ—¶å¯èƒ½ä¼šé‡åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€Žä¹ˆå¤„ç†å‘¢ï¼Ÿæˆ‘ä»¬è°ƒç”¨æ–¹æ³•æœ€å¸¸è§çš„æ˜¯ [obj func...]; performSelectorç›®å‰çš„éœ€æ±‚[obj func...];è‚¯å®šæ˜¯ä¸è¡Œäº†ï¼Œä½¿ç”¨performSelectorå¯è¡Œï¼Œä½†æ˜¯ï¼Œå®ƒåªå¯ä»¥å¤„ç†ä¸å¤šä½™2ä¸ªå‚æ•°çš„æƒ…å†µï¼Œé‚£ä¹ˆå¤šä½™2ä¸ªçš„æ€Žä¹ˆå¤„ç†å‘¢ï¼Ÿå¯èƒ½ä¼šæƒ³åˆ°ä¸å°±æ˜¯æƒ³ä¼ å¤šç»™å‚æ•°å—ï¼Ÿå°±æŠŠå‚æ•°åŒ…è£…ä¸º NSDictionary æ¥å¤„ç†å§ï¼Œå¯¹ï¼Œæ˜¯ä¸€ä¸ªå¤„ç†æ–¹æ¡ˆã€‚butçŽ°åœ¨å°±æ˜¯ä¸æƒ³ç”¨åŒ…è£…çš„æ–¹å¼ã€‚å…¶å®žç”¨ NSInvocationæ˜¯å¯ä»¥è§£å†³çš„ï¼ŒçŽ°åœ¨å°±éšä¾¿è¯´ä¸‹ä»–çš„ä½¿ç”¨æ–¹æ³•å§ã€‚ ä»£ç å®žçŽ° æœ‰å¦‚ä¸‹çš„æ–¹æ³•ï¼š 123- (void)test:(NSString *)a b:(NSString *)b c:(NSString *)c d:(NSString *)d &#123; NSLog(@"test: %@, %@, %@, %@", a, b, c, d);&#125; çŽ°åœ¨ç»™ä½ Target æ–¹æ³•å(å­—ç¬¦ä¸²)å’Œ å‚æ•°ï¼ˆæ•°ç»„ï¼‰ éœ€è¦ä½ è°ƒç”¨æ­¤æ–¹æ³• 123id target = self;NSString *methodName = @"test:b:c:d:";NSArray *array = @[@"1", @"22", @"2233", @"c"]; å¯ä»¥å¦‚ä¸‹å®žçŽ° 123456789101112131415161718- (void)testWithTarget:(id)target SELString:(NSString *)sel parameters:(NSArray *)parameters &#123; // åˆ›å»ºSEL SEL selector = NSSelectorFromString(sel); // åˆ›å»ºNSMethodSignature NSMethodSignature *signature = [target methodSignatureForSelector:selector]; // åˆ›å»ºNSInvocation NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature]; // è®¾ç½®target invocation.target = target; // è®¾ç½®SEL invocation.selector = selector; // å¢žåŠ å‚æ•° [parameters enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123; [invocation setArgument:&amp;obj atIndex:idx+2]; &#125;]; // å¼€å§‹è°ƒç”¨ [invocation invoke];&#125; å®Œæ•´Demo]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»‹ç»å‡ ä¸ªiOSå¼€å‘ä¸­è¢«å¿½ç•¥çš„ç³»ç»Ÿæ¡†æž¶]]></title>
    <url>%2F2017%2F08%2F12%2F2017%2F%E4%BB%8B%E7%BB%8D%E5%87%A0%E4%B8%AAiOS%E5%BC%80%E5%8F%91%E4%B8%AD%E8%A2%AB%E5%BF%BD%E7%95%A5%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰åœ¨ä½¿ç”¨åˆ«äººçš„APPæ—¶ï¼Œæœ‰ä¸€äº›ç•Œé¢ç‰¹åˆ«æ£’ï¼Œå¥½åƒè‡ªå·±å†™æ¥çŽ©çŽ©ï¼Œæœ€åŽå‘çŽ°æœ‰ä¸€äº›å…¶å®žçš„ç³»ç»Ÿå·²ç»æœ‰æ¡†æž¶æä¾›äº†ï¼Œæ‰€ä»¥åœ¨æ­¤ç®€å•æ”¶é›†ä¸€äº›è¢«å¿½ç•¥ä½†æ¯”è¾ƒé…·çš„æ¡†æž¶ï¼Œä»¥ä¾›å‚è€ƒï¼Œè‹¥æ‚¨æœ‰æ¯”è¾ƒå¥½çš„æ¡†æž¶æ¬¢è¿Žä¸‹æ–¹è¯„ä»·ç•™è¨€ã€‚ iOSå¼€å‘ç³»ç»Ÿæ¡†æž¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990Accelerate.frameworkAccounts.frameworkAddressBook.frameworkAddressBookUI.frameworkAdSupport.frameworkAssetsLibrary.frameworkAudioToolbox.frameworkAudioUnit.frameworkAVFoundation.frameworkAVKit.frameworkCallKit.frameworkCFNetwork.frameworkCloudKit.frameworkContacts.frameworkContactsUI.frameworkCoreAudio.frameworkCoreAudioKit.frameworkCoreBluetooth.frameworkCoreData.frameworkCoreFoundation.frameworkCoreGraphics.frameworkCoreImage.frameworkCoreLocation.frameworkCoreMedia.frameworkCoreMIDI.frameworkCoreMotion.frameworkCoreSpotlight.frameworkCoreTelephony.frameworkCoreText.frameworkCoreVideo.frameworkEventKit.frameworkEventKitUI.frameworkExternalAccessory.frameworkFoundation.frameworkGameController.frameworkGameKit.frameworkGameplayKit.frameworkGLKit.frameworkGSS.frameworkHealthKit.frameworkHealthKitUI.frameworkHomeKit.frameworkiAd.frameworkImageIO.frameworkIntents.frameworkIntentsUI.frameworkIOKit.frameworkJavaScriptCore.frameworkLocalAuthentication.frameworkMapKit.frameworkMediaAccessibility.frameworkMediaPlayer.frameworkMediaToolbox.frameworkMessages.frameworkMessageUI.frameworkMetal.frameworkMetalKit.frameworkMetalPerformanceShaders.frameworkMobileCoreServices.frameworkModelIO.frameworkMultipeerConnectivity.frameworkNetworkExtension.frameworkNewsstandKit.frameworkNotificationCenter.frameworkOpenAL.frameworkOpenGLES.frameworkPassKit.frameworkPhotos.frameworkPhotosUI.frameworkPushKit.frameworkQuartzCore.frameworkQuickLook.frameworkReplayKit.frameworkSafariServices.frameworkSceneKit.frameworkSecurity.frameworkSocial.frameworkSpeech.frameworkSpriteKit.frameworkStoreKit.frameworkSystemConfiguration.frameworkTwitter.frameworkUIKit.frameworkUserNotifications.frameworkUserNotificationsUI.frameworkVideoSubscriberAccount.frameworkVideoToolbox.frameworkWatchConnectivity.frameworkWatchKit.frameworkWebKit.framework macOSå¼€å‘ç³»ç»Ÿæ¡†æž¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134Accelerate.frameworkAccounts.frameworkAddressBook.frameworkAGL.frameworkAppKit.frameworkAppKitScripting.frameworkAppleScriptKit.frameworkAppleScriptObjC.frameworkApplicationServices.frameworkAudioToolbox.frameworkAudioUnit.frameworkAudioVideoBridging.frameworkAutomator.frameworkAVFoundation.frameworkAVKit.frameworkCalendarStore.frameworkCarbon.frameworkCFNetwork.frameworkCloudKit.frameworkCocoa.frameworkCollaboration.frameworkContacts.frameworkContactsUI.frameworkCoreAudio.frameworkCoreAudioKit.frameworkCoreBluetooth.frameworkCoreData.frameworkCoreDisplay.frameworkCoreFoundation.frameworkCoreGraphics.frameworkCoreImage.frameworkCoreLocation.frameworkCoreMedia.frameworkCoreMediaIO.frameworkCoreMIDI.frameworkCoreMIDIServer.frameworkCoreServices.frameworkCoreTelephony.frameworkCoreText.frameworkCoreVideo.frameworkCoreWLAN.frameworkCryptoTokenKit.frameworkDirectoryService.frameworkDiscRecording.frameworkDiscRecordingUI.frameworkDiskArbitration.frameworkDrawSprocket.frameworkDVComponentGlue.frameworkDVDPlayback.frameworkEventKit.frameworkExceptionHandling.frameworkFinderSync.frameworkForceFeedback.frameworkFoundation.frameworkFWAUserLib.frameworkGameController.frameworkGameKit.frameworkGameplayKit.frameworkGLKit.frameworkGLUT.frameworkGSS.frameworkHypervisor.frameworkICADevices.frameworkImageCaptureCore.frameworkImageIO.frameworkIMServicePlugIn.frameworkInputMethodKit.frameworkInstallerPlugins.frameworkInstantMessage.frameworkIntents.frameworkIOBluetooth.frameworkIOBluetoothUI.frameworkIOKit.frameworkIOSurface.frameworkJavaFrameEmbedding.frameworkJavaScriptCore.frameworkJavaVM.frameworkKerberos.frameworkKernel.frameworkLatentSemanticMapping.frameworkLDAP.frameworkLocalAuthentication.frameworkMapKit.frameworkMediaAccessibility.frameworkMediaLibrary.frameworkMediaPlayer.frameworkMediaToolbox.frameworkMessage.frameworkMetal.frameworkMetalKit.frameworkModelIO.frameworkMultipeerConnectivity.frameworkNetFS.frameworkNetworkExtension.frameworkNotificationCenter.frameworkOpenAL.frameworkOpenCL.frameworkOpenDirectory.frameworkOpenGL.frameworkOSAKit.frameworkPCSC.frameworkPhotos.frameworkPhotosUI.frameworkPreferencePanes.frameworkPubSub.frameworkPython.frameworkQTKit.frameworkQuartz.frameworkQuartzCore.frameworkQuickLook.frameworkQuickTime.frameworkRuby.frameworkSafariServices.frameworkSceneKit.frameworkScreenSaver.frameworkScripting.frameworkScriptingBridge.frameworkSecurity.frameworkSecurityFoundation.frameworkSecurityInterface.frameworkServiceManagement.frameworkSocial.frameworkSpriteKit.frameworkStoreKit.frameworkSyncServices.frameworkSystem.frameworkSystemConfiguration.frameworkTcl.frameworkTk.frameworkTWAIN.frameworkVideoDecodeAcceleration.frameworkVideoToolbox.frameworkvmnet.frameworkWebKit.framework å‡ ä¸ªå¯èƒ½è¢«å¿½ç•¥çš„æ¡†æž¶12345678// iOSç³»ç»Ÿç¬¬ä¸‰æ–¹åˆ†äº«æ¡†æž¶#import &lt;Social/Social.h&gt;// åŒ…æ‹¬ï¼šä¸ç”¨è·³è½¬AppStoreä¸‹è½½ç¬¬ä¸‰æ–¹åº”ç”¨#import &lt;StoreKit/StoreKit.h&gt;// åŒ…æ‹¬ï¼šåº”ç”¨å†…åŠ è½½Safariä¸€æ ·çš„WebViewç•Œé¢#import &lt;SafariServices/SafariServices.h&gt;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç‚¹ç†è§£]]></title>
    <url>%2F2017%2F08%2F06%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-%E5%AF%B9%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%80%E7%82%B9%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[æ–‡ç« è½¬è½½è‡ªhttps://github.com/nixzhu/dev-blog è™½ç„¶æœ‰ä¸å°‘å¯¹â€œå‡½æ•°å¼ç¼–ç¨‹â€çš„è§£é‡Šï¼Œä½†æˆ‘æ²¡æœ‰é‡åˆ°è®©æˆ‘æ»¡æ„çš„ã€‚æˆ‘ä¸æ˜¯è¯´è§£é‡Šè¦å¤šä¹ˆçš„å…·ä½“ã€å…¨é¢ï¼Œæˆ–è€…è®©æˆ‘ç«‹é©¬ä¼šä½¿ç”¨ã€å˜å¾—å¾ˆåŽ‰å®³ï¼Œæˆ‘å°±æƒ³çŸ¥é“å®ƒæ˜¯æ€Žä¹ˆä¸€å›žäº‹å„¿ã€‚ å…ˆè€ƒè™‘ä¸€ä¸ªè¿‡ç¨‹ã€‚å‡è®¾æ‚¨æ€§åˆ«ç”·ï¼Œçˆ±å¥½å¥³ã€‚æœ‰ä½ä¼˜é›…çš„å¥³å£«æ„¿æ„ä¸Žæ‚¨åšçˆ±ï¼Œä¸è¿‡è¿™ä½å¥³å£«å¯¹åšçˆ±æœ‰äº›è¦æ±‚ï¼šå‰æˆè‡³å°‘è¦15åˆ†é’Ÿï¼Œæ€§äº¤è¦æ±‚åœ¨3åˆ°5åˆ†é’Ÿä¹‹é—´ï¼Œæœ€åŽè¦æŠ±æŠ±30åˆ†é’Ÿï¼Œè¯´äº›æƒ…è¯ã€‚ å¦‚æžœæˆ‘ä»¬ç”¨ç¨‹åºæ¥æè¿°ä¸Šé¢çš„è¿‡ç¨‹ï¼Œå¤§æ¦‚å¦‚ä¸‹ï¼š 12345678910111213141516let foreplayMinutes = 20let sexualIntercourseMinutes = 5let hugMinutes = 40let smallTalk = trueif foreplayMinutes &gt;= 15 &#123; if sexualIntercourseMinutes &gt;= 3 &amp;&amp; sexualIntercourseMinutes &lt;= 5 &#123; if hugMinutes &gt;= 30 &amp;&amp; smallTalk &#123; print("Satisfied!") &#125; &#125; else &#123; print("Not satisfied!") &#125;&#125; else &#123; print("Not satisfied!")&#125; è™½ç„¶è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œä½†é‚£æ˜¯å› ä¸ºæˆ‘ä»¬åšäº†ç®€åŒ–ï¼Œä¸ç„¶ä¼šå˜å¾—å°‘å„¿ä¸å®œã€‚åœ¨çœŸå®žåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†æ˜Žæ˜¾å¯ç‹¬ç«‹çš„éƒ¨åˆ†æŠ½è±¡æˆå‡½æ•°ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£æ•´ä¸ªè¿‡ç¨‹ï¼ŒäºŽæ˜¯å˜ä¸ºï¼š 12345678910111213if foreplay(foreplayMinutes) &#123; if sexualIntercourse(sexualIntercourseMinutes) &#123; if hug(hugMinutes, smallTalk) &#123; print("Satisfied!") &#125; else &#123; print("Not satisfied!") &#125; &#125; else &#123; print("Not satisfied!") &#125;&#125; else &#123; print("Not satisfied!")&#125; å…¶ä¸­foreplayï¼ŒsexualIntercourseï¼Œhugéƒ½æ˜¯å‡½æ•°ï¼Œå®ƒä»¬çš„å®žçŽ°å¤§æ¦‚å¦‚ä¸‹ï¼š 1234567891011func foreplay(_ minutes: Int) -&gt; Bool &#123; return minutes &gt;= 15 ? true : false&#125;func sexualIntercourse(_ minutes: Int) -&gt; Bool &#123; return (minutes &gt;= 3 &amp;&amp; minutes &lt;= 5) ? true : false&#125;func hug(_ minutes: Int, _ smallTalk: Bool) -&gt; Bool &#123; return ((minutes &gt;= 30) ? true : false) &amp;&amp; smallTalk&#125; å› ä¸ºè¦æŒ‰ç…§å¥³å£«çš„è¦æ±‚åšçˆ±ï¼Œæ‰€ä»¥è¿™ä¸‰ä¸ªå­è¿‡ç¨‹çš„é¡ºåºå¹¶ä¸èƒ½é¢ å€’ï¼Œä½†ç›®å‰è¿™ä¸‰ä¸ªå‡½æ•°å¹¶æ²¡æœ‰ä½“çŽ°å‡ºé¡ºåºã€‚ æˆ‘ä»¬åœ¨åšçš„å°±æ˜¯æ‰€è°“çš„â€œç¼–ç¨‹â€ï¼Œé‚£ä»€ä¹ˆæ˜¯â€œå‡½æ•°å¼ç¼–ç¨‹â€ï¼Ÿ å…ˆæ¥åˆ†æžä¸€ä¸‹æœ€ä¸Šé¢çš„è¿‡ç¨‹ï¼š é¦–å…ˆæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›è¾“å…¥ï¼Œå¦‚foreplayMinutesç­‰ï¼› ç„¶åŽæˆ‘ä»¬ï¼ˆä¸»è¦æ˜¯æ‚¨ï¼‰å…ˆæ‰§è¡Œ foreplayï¼Œå½“è¿™ä¸ªè¿‡ç¨‹ç¬¦åˆè¦æ±‚åŽæ‰è¿›è¡Œä¸‹ä¸€æ­¥ï¼› è‹¥ä¸‰ä¸ªå­è¿‡ç¨‹éƒ½æ»¡è¶³è¦æ±‚ï¼Œå¥³å£«æ‰ä¼šæ»¡è¶³ï¼Œä¸­é—´æŸä¸ªè¿‡ç¨‹ä¸€æ—¦ä¸æ»¡è¶³ï¼Œé‚£å°±ä¸å¯èƒ½æ»¡è¶³äº†ã€‚ å†ç®€åŒ–ä¸€ç‚¹è¯´ï¼Œå³ï¼šæœ‰è¾“å…¥ï¼Œè¿‡ç¨‹æœ‰é¡ºåºï¼Œè¿‡ç¨‹å¯èƒ½æœ‰è¾“å‡ºã€‚é‚£ä»€ä¹ˆæ˜¯â€œå‡½æ•°å¼ç¼–ç¨‹â€ï¼Ÿ åˆ«æ…Œï¼Œå¿«äº†ã€‚ å…¶å®žå‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§æ›´é«˜å±‚çš„æŠ½è±¡ï¼ˆç±»ä¼¼äºŽæˆ‘ä»¬å°†â€œè¿‡ç¨‹â€æŠ½è±¡æˆâ€œå‡½æ•°â€ï¼‰ï¼šæˆ‘ä»¬å‡è®¾æœ‰ä¸ªâ€œé«˜é˜¶å‡½æ•°â€ï¼Œå®ƒèƒ½æŽ¥å—ä»»æ„æ•°æ®å’Œä¸€ä¸ªå‡½æ•°ï¼ˆåˆ©ç”¨èŒƒåž‹ï¼‰ï¼Œå¹¶è¿”å›žç»è¿‡æ­¤å‡½æ•°å¤„ç†çš„æ•°æ®ã€‚æˆ‘ä»¬å‘½åæ­¤å‡½æ•°ä¸ºbindï¼š 1234567func bind&lt;A, B&gt;(_ a: A?, _ f: (A) -&gt; B?) -&gt; B? &#123; if let x = a &#123; return f(x) &#125; else &#123; return nil &#125;&#125; å› ä¸ºå‡½æ•°ä¸ä¸€å®šæœ‰è¿”å›žå€¼ï¼Œæ‰€ä»¥è¿”å›žå€¼æ˜¯å¯é€‰çš„ã€‚æ³¨æ„è¿™é‡Œçš„aå‚æ•°ä¸ä¸€å®šè¦æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯ä¸ºäº†bindçš„é€šç”¨æ€§ï¼ˆåŽé¢ä¼šçœ‹å‡ºæ¥ï¼‰ï¼Œè®©å…¶å¯é€‰æ¯”è¾ƒå¥½ã€‚ è€Œä¸ºäº†åœ¨å­è¿‡ç¨‹ä¸­ä½“çŽ°é¡ºåºï¼Œæˆ‘ä»¬è¦ä¸ºå®ƒä»¬å¢žåŠ å‚æ•°ï¼š 12345678910111213141516171819func foreplay(minutes: Int) -&gt; Bool? &#123; return minutes &gt;= 15 ? true : false&#125;func sexualIntercourse(foreplaySatisfied: Bool, minutes: Int) -&gt; Bool? &#123; if foreplaySatisfied &#123; return (minutes &gt;= 3 &amp;&amp; minutes &lt;= 5) ? true : false &#125; else &#123; return nil &#125;&#125;func hug(sexualIntercourseSatisfied: Bool, minutes: Int, smallTalk: Bool) -&gt; Bool? &#123; if sexualIntercourseSatisfied &#123; return (minutes &gt;= 30 ? true : false) &amp;&amp; smallTalk &#125; else &#123; return nil &#125;&#125; æ³¨æ„ï¼Œé™¤äº†å¢žåŠ åˆ¤æ–­å‚æ•°å¤–ï¼Œä¸ºäº†èƒ½é€‚ç”¨äºŽbindï¼Œå‡½æ•°çš„è¿”å›žå€¼ä¹Ÿå˜ä¸ºå¯é€‰äº†ã€‚ ç”±æ­¤ï¼Œè¯¥æ€Žä¹ˆç”¨bindæ¥æè¿°ä¸Šé¢çš„è¿‡ç¨‹å‘¢ï¼Ÿ 12345678910var satisfied: Bool = falsesatisfied = bind(foreplayMinutes, foreplay) ?? falsesatisfied = bind(satisfied, sexualIntercourse) ?? false //é”™è¯¯satisfied = bind(satisfied, hug) ?? false //é”™è¯¯if satisfied &#123; print("Satisfied!")&#125; else &#123; print("Not satisfied!")&#125; å¯æƒœæˆ‘ä»¬ä¸èƒ½è¿™ä¹ˆå†™ï¼Œå› ä¸ºå‡½æ•°sexualIntercourseå’Œhugéƒ½ä¸åªæŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ— æ³•é€‚ç”¨äºŽbindã€‚é‚£æ€Žä¹ˆåŠžï¼Ÿ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æŠ€æœ¯æ”¹é€ æˆ‘ä»¬çš„å‡½æ•°ã€‚æ‰€è°“æŸ¯é‡ŒåŒ–ï¼Œå°±æ˜¯å°†æŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæŽ¥å—å‰å‡ ä¸ªå‚æ•°ï¼ˆSwiftçš„å®žçŽ°å¹¶ä¸é™å®šä¸ºç¬¬ä¸€ä¸ªï¼‰çš„å‡½æ•°ï¼Œè€Œæ­¤å‡½æ•°è¿”å›žä¸€ä¸ªâ€œæŽ¥å—ä½™ä¸‹å‚æ•°å¹¶èƒ½è¿”å›žç»“æžœçš„æ–°å‡½æ•°â€ã€‚è™½ç„¶æŸ¯é‡ŒåŒ–çš„ä»‹ç»å¹¶ä¸ç›´è§‚ï¼Œä½†å…¶å®žæ”¹é€ å¾ˆå®¹æ˜“ã€‚æˆ‘ä»¬åªéœ€è¦å°†å¤šä¸ªå‚æ•°åˆ†å‰²æˆä¸¤ä¸ªéƒ¨åˆ†å³å¯ï¼Œæˆ‘ä»¬ç›´æŽ¥ä¼ é€’å‚æ•°ç»™ç¬¬ä¸€éƒ¨åˆ†å°±å¯ç”Ÿæˆæ–°å‡½æ•°ï¼Œå¦‚ï¼š 12345678910111213func add(a: Int, b: Int) -&gt; Int &#123; return a + b&#125;add(3, 4) // 7func add(a: Int)(b: Int) -&gt; Int &#123; // ç­‰ä»·äºŽä¸Šé¢çš„ add å‡½æ•° return a + b&#125;let addThree = add(3) // addThree æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå…¶å¯æŽ¥å—ä¸€ä¸ªå‚æ•°addThree(4) // 7 ç”±æ­¤ï¼Œæˆ‘ä»¬æ”¹é€ sexualIntercourseå’Œhugå¦‚ä¸‹ï¼š 1234567func sexualIntercourse(_ minutes: Int) -&gt; (_ foreplaySatisfied: Bool) -&gt; Bool? &#123; //...&#125;func hug(_ minutes: Int, _ smallTalk: Bool) -&gt; (_ sexualIntercourseSatisfied: Bool) -&gt; Bool? &#123; //...&#125; æ³¨æ„hugå‡½æ•°ï¼Œè¡¨æ˜Žäº†æˆ‘ä»¬å¯¹å¤šå‚æ•°çš„åˆ†å‰²å¯ä»¥åœ¨ä»»æ„ä½ç½®ã€‚äº‹å®žä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å†™ä¸ºï¼š 123func hug(_ minutes: Int) -&gt; (_ smallTalk: Bool) -&gt; (_ sexualIntercourseSatisfied: Bool) -&gt; Bool? &#123; //...&#125; å½“ç„¶ä½¿ç”¨æ—¶ä¼šæ›´åŠ çµæ´»ã€‚ ä¹‹åŽï¼Œæˆ‘ä»¬å°±èƒ½ä½¿ç”¨è¿™ä¸¤ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°äº†ï¼š 12345//...satisfied = bind(satisfied, sexualIntercourse(sexualIntercourseMinutes)) ?? falsesatisfied = bind(satisfied, hug(hugMinutes, smallTalk)) ?? false//... æ­¤æ—¶ï¼Œæˆ‘ä»¬ç”¨bindå°†æˆ‘ä»¬çš„è¿‡ç¨‹é¡ºåºé“¾æŽ¥èµ·æ¥äº†ã€‚ä¸è¿‡bindçš„è¯­æ³•ä¾ç„¶è®©äººå›°æƒ‘ï¼Œæˆ‘ä»¬å¯ä»¥å¢žåŠ ä¸€ä¸ªä¸­ç¼€æ“ä½œç¬¦ï¼š 123456789precedencegroup BindPrecedence &#123; higherThan: NilCoalescingPrecedence associativity: left&#125;infix operator &gt;&gt;&gt;: BindPrecedencefunc &gt;&gt;&gt;&lt;A, B&gt;(_ a: A?, _ f: (A) -&gt; B?) -&gt; B? &#123; return bind(a, f)&#125; ç„¶åŽå¯¹åº”çš„è®¡ç®—å°±å˜ä¸ºï¼š 1let satisfied = foreplayMinutes &gt;&gt;&gt; foreplay &gt;&gt;&gt; sexualIntercourse(sexualIntercourseMinutes) &gt;&gt;&gt; hug(hugMinutes, smallTalk) ?? false å˜æˆä¸€æ¡é“¾äº†ï¼Œé¡ºåºéžå¸¸æ¸…æ¥šã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å†™æˆè¿™æ ·å¯èƒ½æ›´å¥½çœ‹ï¼š 1let satisfied = foreplay(foreplayMinutes) &gt;&gt;&gt; sexualIntercourse(sexualIntercourseMinutes) &gt;&gt;&gt; hug(hugMinutes, smallTalk) ?? false ä¸‰ä¸ªè¿‡ç¨‹ä¼šæ›´æ¸…æ¥šã€‚ åœ¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ä¸‹ï¼Œå€ŸåŠ©æŸ¯é‡ŒåŒ–æŠ€æœ¯ä¸Žè‡ªå®šä¹‰æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å°±èƒ½åšåˆ°è¿™æ ·çš„â€œé«˜é˜¶æ“ä½œâ€ã€‚ ä¸Šé¢åªæ˜¯å°†æ•°æ®å’Œå‡½æ•°bindåœ¨ä¸€èµ·å¤„ç†ï¼Œé‚£è‹¥æ˜¯å…¶å®ƒâ€œåˆæˆâ€æƒ…å†µï¼Œæˆ–æ›´é«˜é˜¶å‘¢ï¼Ÿä¾‹å¦‚æœ‰æŸä¸ªå‡½æ•°æŽ¥å—ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°åˆä¼šæ€Žä¹ˆæ ·ï¼ˆå®Œå…¨ä¸ç†ä¼šæ•°æ®äº†ï¼‰ã€‚åªè¦å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼Œé‚£å‡½æ•°å¼ç¼–ç¨‹ä¹Ÿå°±ä¸å†ç¥žç§˜ã€‚ å°ç»“å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯å°†å‡½æ•°å½“ä½œä¸€ç§æ•°æ®ç±»åž‹ï¼Œæˆ–è€…ä»Žæ›´é«˜çš„å±‚é¢åŽ»çœ‹å¾…æ•°æ®å’Œå‡½æ•°ï¼Œä½¿å…¶å¯ä¼ é€’ã€å¯ç”Ÿæˆã€å¯ç»„åˆã€å¯åˆ†è§£ã€‚æœ‰äº†è¿™æ ·çš„é«˜çº§æŠ½è±¡ï¼Œæˆ‘ä»¬å¯¹å‡½æ•°çš„ç†è§£ä¼šæ›´æ·±åˆ»ï¼Œæˆ‘ä»¬æ€è€ƒæ—¶å°±èƒ½æ›´åŠ è‡ªç”±ã€‚ æœ‰ä¸€ç‚¹å¯èƒ½å¾ˆå…³é”®ï¼Œå°±æ˜¯â€œå½¢å¼â€ã€‚è™½ç„¶éƒ½æ˜¯ä»£ç ï¼Œå®Œæˆçš„åŠŸèƒ½ä¹Ÿä¸€æ ·ï¼Œä½†å½¢å¼çš„ä¸åŒèƒ½åæ˜ æˆ‘ä»¬æ€è€ƒçš„ä¸åŒã€‚è¯­è¨€å¯ä»¥å½±å“æ€ç»´æ—©å°±è¢«å‘çŽ°äº†ï¼Œè¿™ä¹Ÿæ˜¯ç±»ä¼¼äºŽâ€œæ–°é—»è”æ’­â€è¿™æ ·çš„èŠ‚ç›®å¯ä»¥æˆä¸ºæ€æƒ³æŽ§åˆ¶å·¥å…·çš„åŽŸå› ã€‚åœ¨ç”Ÿæ´»ä¸­ï¼Œç‹¬ç«‹æ€è€ƒçš„é˜»ç¢æ¯”ä½ æƒ³è±¡çš„è¦å¤šå¾—å¤šã€‚ å¦‚æžœä½ å·²å¼€å§‹ç”¨ Swift å†™ä»£ç ï¼Œå¯ä»¥è€ƒè™‘åœ¨æŸäº›åœ°æ–¹è¯•ç”¨è¿™æ ·çš„æŠ½è±¡è§‚ç‚¹ï¼Œå¿…æœ‰ç›Šå¤„ã€‚ æ–‡ç« è½¬è½½è‡ªhttps://github.com/nixzhu/dev-blog]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - GCD æ·±å…¥ç†è§£ä¹‹äºŒ]]></title>
    <url>%2F2017%2F08%2F06%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-GCD-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E4%B9%8B%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[æ–‡ç« è½¬è‡ª https://github.com/nixzhu/dev-blog åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œä½ å·²ç»å­¦åˆ°è¶…è¿‡ä½ æƒ³åƒçš„å…³äºŽå¹¶å‘ã€çº¿ç¨‹ä»¥åŠGCD å¦‚ä½•å·¥ä½œçš„çŸ¥è¯†ã€‚é€šè¿‡åœ¨åˆå§‹åŒ–æ—¶åˆ©ç”¨ dispatch_onceï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ PhotoManager å•ä¾‹ï¼Œè€Œä¸”ä½ é€šè¿‡ä½¿ç”¨ dispatch_barrier_async å’Œ dispatch_sync çš„ç»„åˆä½¿å¾—å¯¹ Photos æ•°ç»„çš„è¯»å–å’Œå†™å…¥éƒ½å˜å¾—çº¿ç¨‹å®‰å…¨äº†ã€‚ é™¤äº†ä¸Šé¢è¿™äº›ï¼Œä½ è¿˜é€šè¿‡åˆ©ç”¨ dispatch_after æ¥å»¶è¿Ÿæ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œä»¥åŠåˆ©ç”¨ dispatch_async å°† CPU å¯†é›†åž‹ä»»åŠ¡ä»Ž ViewController çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­å‰¥ç¦»å‡ºæ¥å¼‚æ­¥æ‰§è¡Œï¼Œè¾¾åˆ°äº†å¢žå¼ºåº”ç”¨çš„ç”¨æˆ·ä½“éªŒçš„ç›®çš„ã€‚ å¦‚æžœä½ ä¸€ç›´è·Ÿç€ç¬¬ä¸€éƒ¨åˆ†çš„æ•™ç¨‹åœ¨å†™ä»£ç ï¼Œé‚£ä½ å¯ä»¥ç»§ç»­ä½ çš„å·¥ç¨‹ã€‚ä½†å¦‚æžœä½ æ²¡æœ‰å®Œæˆç¬¬ä¸€éƒ¨åˆ†çš„å·¥ä½œï¼Œæˆ–è€…ä¸æƒ³é‡ç”¨ä½ çš„å·¥ç¨‹ï¼Œä½ å¯ä»¥ä¸‹è½½ç¬¬ä¸€éƒ¨åˆ†æœ€ç»ˆçš„ä»£ç ã€‚ é‚£å°±è®©æˆ‘ä»¬æ¥æ›´æ·±å…¥åœ°æŽ¢ç´¢ GCD å§ï¼ çº æ­£è¿‡æ—©å¼¹å‡ºçš„æç¤ºä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°å½“ä½ å°è¯•ç”¨ Le Internet é€‰é¡¹æ¥æ·»åŠ å›¾ç‰‡æ—¶ï¼Œä¸€ä¸ª UIAlertView ä¼šåœ¨å›¾ç‰‡ä¸‹è½½å®Œæˆä¹‹å‰å°±å¼¹å‡ºï¼Œå¦‚ä¸‹å¦‚æ‰€ç¤ºï¼š é—®é¢˜çš„ç—‡ç»“åœ¨ PhotoManagers çš„ downloadPhotoWithCompletionBlock: é‡Œï¼Œå®ƒç›®å‰çš„å®žçŽ°å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334- (void)downloadPhotosWithCompletionBlock:(BatchPhotoDownloadingCompletionBlock)completionBlock&#123; __block NSError *error; for (NSInteger i = 0; i &lt; 3; i++) &#123; NSURL *url; switch (i) &#123; case 0: url = [NSURL URLWithString:kOverlyAttachedGirlfriendURLString]; break; case 1: url = [NSURL URLWithString:kSuccessKidURLString]; break; case 2: url = [NSURL URLWithString:kLotsOfFacesURLString]; break; default: break; &#125; Photo *photo = [[Photo alloc] initwithURL:url withCompletionBlock:^(UIImage *image, NSError *_error) &#123; if (_error) &#123; error = _error; &#125; &#125;]; [[PhotoManager sharedManager] addPhoto:photo]; &#125; if (completionBlock) &#123; completionBlock(error); &#125;&#125; åœ¨æ–¹æ³•çš„æœ€åŽä½ è°ƒç”¨äº† completionBlock â€”â€”å› ä¸ºæ­¤æ—¶ä½ å‡è®¾æ‰€æœ‰çš„ç…§ç‰‡éƒ½å·²ä¸‹è½½å®Œæˆã€‚ä½†å¾ˆä¸å¹¸ï¼Œæ­¤æ—¶å¹¶ä¸èƒ½ä¿è¯æ‰€æœ‰çš„ä¸‹è½½éƒ½å·²å®Œæˆã€‚ Photo ç±»çš„å®žä¾‹æ–¹æ³•ç”¨æŸä¸ª URL å¼€å§‹ä¸‹è½½æŸä¸ªæ–‡ä»¶å¹¶ç«‹å³è¿”å›žï¼Œä½†æ­¤æ—¶ä¸‹è½½å¹¶æœªå®Œæˆã€‚æ¢å¥è¯è¯´ï¼Œå½“ downloadPhotoWithCompletionBlock: åœ¨å…¶æœ«å°¾è°ƒç”¨ completionBlock æ—¶ï¼Œå®ƒå°±å‡è®¾äº†å®ƒè‡ªå·±æ‰€ä½¿ç”¨çš„æ–¹æ³•å…¨éƒ½æ˜¯åŒæ­¥çš„ï¼Œè€Œä¸”æ¯ä¸ªæ–¹æ³•éƒ½å®Œæˆäº†å®ƒä»¬çš„å·¥ä½œã€‚ ç„¶è€Œï¼Œ-[Photo initWithURL:withCompletionBlock:] æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œä¼šç«‹å³è¿”å›žâ€”â€”æ‰€ä»¥è¿™ç§æ–¹å¼è¡Œä¸é€šã€‚ å› æ­¤ï¼Œåªæœ‰åœ¨æ‰€æœ‰çš„å›¾åƒä¸‹è½½ä»»åŠ¡éƒ½è°ƒç”¨äº†å®ƒä»¬è‡ªå·±çš„ Completion Block ä¹‹åŽï¼ŒdownloadPhotoWithCompletionBlock: æ‰èƒ½è°ƒç”¨å®ƒè‡ªå·±çš„ completionBlock ã€‚é—®é¢˜æ˜¯ï¼šä½ è¯¥å¦‚ä½•ç›‘æŽ§å¹¶å‘çš„å¼‚æ­¥äº‹ä»¶ï¼Ÿä½ ä¸çŸ¥é“å®ƒä»¬ä½•æ—¶å®Œæˆï¼Œè€Œä¸”å®ƒä»¬å®Œæˆçš„é¡ºåºå®Œå…¨æ˜¯ä¸ç¡®å®šçš„ã€‚ æˆ–è®¸ä½ å¯ä»¥å†™ä¸€äº›æ¯”è¾ƒ Hacky çš„ä»£ç ï¼Œç”¨å¤šä¸ªå¸ƒå°”å€¼æ¥è®°å½•æ¯ä¸ªä¸‹è½½çš„å®Œæˆæƒ…å†µï¼Œä½†è¿™æ ·åšå°±ç¼ºå¤±äº†æ‰©å±•æ€§ï¼Œè€Œä¸”è¯´å®žè¯ï¼Œä»£ç ä¼šå¾ˆéš¾çœ‹ã€‚ å¹¸è¿çš„æ˜¯ï¼Œ è§£å†³è¿™ç§å¯¹å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„å®Œæˆè¿›è¡Œç›‘æŽ§çš„é—®é¢˜ï¼Œæ°å¥½å°±æ˜¯è®¾è®¡ dispatch_group çš„ç›®çš„ã€‚ Dispatch Groupsï¼ˆè°ƒåº¦ç»„ï¼‰Dispatch Group ä¼šåœ¨æ•´ä¸ªç»„çš„ä»»åŠ¡éƒ½å®Œæˆæ—¶é€šçŸ¥ä½ ã€‚è¿™äº›ä»»åŠ¡å¯ä»¥æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œå³ä¾¿åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¹Ÿè¡Œã€‚è€Œä¸”åœ¨æ•´ä¸ªç»„çš„ä»»åŠ¡éƒ½å®Œæˆæ—¶ï¼ŒDispatch Group å¯ä»¥ç”¨åŒæ­¥çš„æˆ–è€…å¼‚æ­¥çš„æ–¹å¼é€šçŸ¥ä½ ã€‚å› ä¸ºè¦ç›‘æŽ§çš„ä»»åŠ¡åœ¨ä¸åŒé˜Ÿåˆ—ï¼Œé‚£å°±ç”¨ä¸€ä¸ª dispatch_group_t çš„å®žä¾‹æ¥è®°ä¸‹è¿™äº›ä¸åŒçš„ä»»åŠ¡ã€‚ å½“ç»„ä¸­æ‰€æœ‰çš„äº‹ä»¶éƒ½å®Œæˆæ—¶ï¼ŒGCD çš„ API æä¾›äº†ä¸¤ç§é€šçŸ¥æ–¹å¼ã€‚ ç¬¬ä¸€ç§æ˜¯ dispatch_group_wait ï¼Œå®ƒä¼šé˜»å¡žå½“å‰çº¿ç¨‹ï¼Œç›´åˆ°ç»„é‡Œé¢æ‰€æœ‰çš„ä»»åŠ¡éƒ½å®Œæˆæˆ–è€…ç­‰åˆ°æŸä¸ªè¶…æ—¶å‘ç”Ÿã€‚è¿™æ°å¥½æ˜¯ä½ ç›®å‰æ‰€éœ€è¦çš„ã€‚ æ‰“å¼€ PhotoManager.mï¼Œç”¨ä¸‹åˆ—å®žçŽ°æ›¿æ¢ downloadPhotosWithCompletionBlock:ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142- (void)downloadPhotosWithCompletionBlock:(BatchPhotoDownloadingCompletionBlock)completionBlock&#123; dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123; // 1 __block NSError *error; dispatch_group_t downloadGroup = dispatch_group_create(); // 2 for (NSInteger i = 0; i &lt; 3; i++) &#123; NSURL *url; switch (i) &#123; case 0: url = [NSURL URLWithString:kOverlyAttachedGirlfriendURLString]; break; case 1: url = [NSURL URLWithString:kSuccessKidURLString]; break; case 2: url = [NSURL URLWithString:kLotsOfFacesURLString]; break; default: break; &#125; dispatch_group_enter(downloadGroup); // 3 Photo *photo = [[Photo alloc] initwithURL:url withCompletionBlock:^(UIImage *image, NSError *_error) &#123; if (_error) &#123; error = _error; &#125; dispatch_group_leave(downloadGroup); // 4 &#125;]; [[PhotoManager sharedManager] addPhoto:photo]; &#125; dispatch_group_wait(downloadGroup, DISPATCH_TIME_FOREVER); // 5 dispatch_async(dispatch_get_main_queue(), ^&#123; // 6 if (completionBlock) &#123; // 7 completionBlock(error); &#125; &#125;); &#125;);&#125; æŒ‰ç…§æ³¨é‡Šçš„é¡ºåºï¼Œä½ ä¼šçœ‹åˆ°ï¼š å› ä¸ºä½ åœ¨ä½¿ç”¨çš„æ˜¯åŒæ­¥çš„ dispatch_group_wait ï¼Œå®ƒä¼šé˜»å¡žå½“å‰çº¿ç¨‹ï¼Œæ‰€ä»¥ä½ è¦ç”¨ dispatch_async å°†æ•´ä¸ªæ–¹æ³•æ”¾å…¥åŽå°é˜Ÿåˆ—ä»¥é¿å…é˜»å¡žä¸»çº¿ç¨‹ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„ Dispatch Groupï¼Œå®ƒçš„ä½œç”¨å°±åƒä¸€ä¸ªç”¨äºŽæœªå®Œæˆä»»åŠ¡çš„è®¡æ•°å™¨ã€‚ dispatch_group_enter æ‰‹åŠ¨é€šçŸ¥ Dispatch Group ä»»åŠ¡å·²ç»å¼€å§‹ã€‚ä½ å¿…é¡»ä¿è¯ dispatch_group_enter å’Œ dispatch_group_leave æˆå¯¹å‡ºçŽ°ï¼Œå¦åˆ™ä½ å¯èƒ½ä¼šé‡åˆ°è¯¡å¼‚çš„å´©æºƒé—®é¢˜ã€‚ æ‰‹åŠ¨é€šçŸ¥ Group å®ƒçš„å·¥ä½œå·²ç»å®Œæˆã€‚å†æ¬¡è¯´æ˜Žï¼Œä½ å¿…é¡»è¦ç¡®ä¿è¿›å…¥ Group çš„æ¬¡æ•°å’Œç¦»å¼€ Group çš„æ¬¡æ•°ç›¸ç­‰ã€‚ dispatch_group_wait ä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°ä»»åŠ¡å…¨éƒ¨å®Œæˆæˆ–è€…è¶…æ—¶ã€‚å¦‚æžœåœ¨æ‰€æœ‰ä»»åŠ¡å®Œæˆå‰è¶…æ—¶äº†ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›žä¸€ä¸ªéžé›¶å€¼ã€‚ä½ å¯ä»¥å¯¹æ­¤è¿”å›žå€¼åšæ¡ä»¶åˆ¤æ–­ä»¥ç¡®å®šæ˜¯å¦è¶…å‡ºç­‰å¾…å‘¨æœŸï¼›ç„¶è€Œï¼Œä½ åœ¨è¿™é‡Œç”¨ DISPATCH_TIME_FOREVER è®©å®ƒæ°¸è¿œç­‰å¾…ã€‚å®ƒçš„æ„æ€ï¼Œå‹¿åº¸ç½®ç–‘å°±æ˜¯ï¼Œæ°¸ï¼è¿œï¼ç­‰ï¼å¾…ï¼è¿™æ ·å¾ˆå¥½ï¼Œå› ä¸ºå›¾ç‰‡çš„åˆ›å»ºå·¥ä½œæ€»æ˜¯ä¼šå®Œæˆçš„ã€‚ æ­¤æ—¶æ­¤åˆ»ï¼Œä½ å·²ç»ç¡®ä¿äº†ï¼Œè¦ä¹ˆæ‰€æœ‰çš„å›¾ç‰‡ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œè¦ä¹ˆå‘ç”Ÿäº†è¶…æ—¶ã€‚ç„¶åŽï¼Œä½ åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œ completionBlock å›žè°ƒã€‚è¿™ä¼šå°†å·¥ä½œæ”¾åˆ°ä¸»çº¿ç¨‹ä¸Šï¼Œå¹¶åœ¨ç¨åŽæ‰§è¡Œã€‚ æœ€åŽï¼Œæ£€æŸ¥ completionBlock æ˜¯å¦ä¸º nilï¼Œå¦‚æžœä¸æ˜¯ï¼Œé‚£å°±è¿è¡Œå®ƒã€‚ ç¼–è¯‘å¹¶è¿è¡Œä½ çš„åº”ç”¨ï¼Œå°è¯•ä¸‹è½½å¤šä¸ªå›¾ç‰‡ï¼Œè§‚å¯Ÿä½ çš„åº”ç”¨æ˜¯åœ¨ä½•æ—¶è¿è¡Œ completionBlock çš„ã€‚ æ³¨æ„ï¼šå¦‚æžœä½ æ˜¯åœ¨çœŸæœºä¸Šè¿è¡Œåº”ç”¨ï¼Œè€Œä¸”ç½‘ç»œæ´»åŠ¨å‘ç”Ÿå¾—å¤ªå¿«ä»¥è‡´éš¾ä»¥è§‚å¯Ÿ completionBlock è¢«è°ƒç”¨çš„æ—¶åˆ»ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ Settings åº”ç”¨é‡Œçš„å¼€å‘è€…ç›¸å…³éƒ¨åˆ†é‡Œæ‰“å¼€ä¸€äº›ç½‘ç»œè®¾ç½®ï¼Œä»¥ç¡®ä¿ä»£ç æŒ‰ç…§æˆ‘ä»¬æ‰€æœŸæœ›çš„é‚£æ ·å·¥ä½œã€‚åªéœ€åŽ»å¾€ Network Link Conditioner åŒºï¼Œå¼€å¯å®ƒï¼Œå†é€‰æ‹©ä¸€ä¸ª Profileï¼Œâ€œVery Bad Networkâ€ å°±ä¸é”™ã€‚ å¦‚æžœä½ æ˜¯åœ¨æ¨¡æ‹Ÿå™¨é‡Œè¿è¡Œåº”ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ æ¥è‡ª GitHub çš„ Network Link Conditioner æ¥æ”¹å˜ç½‘ç»œé€Ÿåº¦ã€‚å®ƒä¼šæˆä¸ºä½ å·¥å…·ç®±ä¸­çš„ä¸€ä¸ªå¥½å·¥å…·ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶ä½ ç ”ç©¶ä½ çš„åº”ç”¨åœ¨è¿žæŽ¥é€Ÿåº¦å¹¶éžæœ€ä½³çš„æƒ…å†µä¸‹ä¼šå˜æˆä»€ä¹ˆæ ·ã€‚ ç›®å‰ä¸ºæ­¢çš„è§£å†³æ–¹æ¡ˆè¿˜ä¸é”™ï¼Œä½†æ˜¯æ€»ä½“æ¥è¯´ï¼Œå¦‚æžœå¯èƒ½ï¼Œæœ€å¥½è¿˜æ˜¯è¦é¿å…é˜»å¡žçº¿ç¨‹ã€‚ä½ çš„ä¸‹ä¸€ä¸ªä»»åŠ¡æ˜¯é‡å†™ä¸€äº›æ–¹æ³•ï¼Œä»¥ä¾¿å½“æ‰€æœ‰ä¸‹è½½ä»»åŠ¡å®Œæˆæ—¶èƒ½å¼‚æ­¥é€šçŸ¥ä½ ã€‚ åœ¨æˆ‘ä»¬è½¬å‘å¦å¤–ä¸€ç§ä½¿ç”¨ Dispatch Group çš„æ–¹å¼ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸ªç®€è¦çš„æ¦‚è¿°ï¼Œå…³äºŽä½•æ—¶ä»¥åŠæ€Žæ ·ä½¿ç”¨æœ‰ç€ä¸åŒçš„é˜Ÿåˆ—ç±»åž‹çš„ Dispatch Group ï¼š è‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ï¼šå®ƒå¾ˆé€‚åˆå½“ä¸€ç»„ä»»åŠ¡å®Œæˆæ—¶å‘å‡ºé€šçŸ¥ã€‚ ä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰ï¼šå®ƒä¹Ÿå¾ˆé€‚åˆè¿™æ ·çš„æƒ…å†µã€‚ä½†å¦‚æžœä½ è¦åŒæ­¥åœ°ç­‰å¾…æ‰€æœ‰å·¥ä½œåœ°å®Œæˆï¼Œé‚£ä½ å°±ä¸åº”è¯¥ä½¿ç”¨å®ƒï¼Œå› ä¸ºä½ ä¸èƒ½é˜»å¡žä¸»çº¿ç¨‹ã€‚ç„¶è€Œï¼Œå¼‚æ­¥æ¨¡åž‹æ˜¯ä¸€ä¸ªå¾ˆæœ‰å¸å¼•åŠ›çš„èƒ½ç”¨äºŽåœ¨å‡ ä¸ªè¾ƒé•¿ä»»åŠ¡ï¼ˆä¾‹å¦‚ç½‘ç»œè°ƒç”¨ï¼‰å®ŒæˆåŽæ›´æ–° UI çš„æ–¹å¼ã€‚ å¹¶å‘é˜Ÿåˆ—ï¼šå®ƒä¹Ÿå¾ˆé€‚åˆ Dispatch Group å’Œå®Œæˆæ—¶é€šçŸ¥ã€‚ Dispatch Groupï¼Œç¬¬äºŒç§æ–¹å¼ä¸Šé¢çš„ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œä½†åœ¨å¦ä¸€ä¸ªé˜Ÿåˆ—ä¸Šå¼‚æ­¥è°ƒåº¦ç„¶åŽä½¿ç”¨ dispatch_group_wait æ¥é˜»å¡žå®žåœ¨æ˜¾å¾—æœ‰äº›ç¬¨æ‹™ã€‚æ˜¯çš„ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹å¼â€¦â€¦ åœ¨ PhotoManager.m ä¸­æ‰¾åˆ° downloadPhotosWithCompletionBlock: æ–¹æ³•ï¼Œç”¨ä¸‹é¢çš„å®žçŽ°æ›¿æ¢å®ƒï¼š 12345678910111213141516171819202122232425262728293031323334353637383940- (void)downloadPhotosWithCompletionBlock:(BatchPhotoDownloadingCompletionBlock)completionBlock&#123; // 1 __block NSError *error; dispatch_group_t downloadGroup = dispatch_group_create(); for (NSInteger i = 0; i &lt; 3; i++) &#123; NSURL *url; switch (i) &#123; case 0: url = [NSURL URLWithString:kOverlyAttachedGirlfriendURLString]; break; case 1: url = [NSURL URLWithString:kSuccessKidURLString]; break; case 2: url = [NSURL URLWithString:kLotsOfFacesURLString]; break; default: break; &#125; dispatch_group_enter(downloadGroup); // 2 Photo *photo = [[Photo alloc] initwithURL:url withCompletionBlock:^(UIImage *image, NSError *_error) &#123; if (_error) &#123; error = _error; &#125; dispatch_group_leave(downloadGroup); // 3 &#125;]; [[PhotoManager sharedManager] addPhoto:photo]; &#125; dispatch_group_notify(downloadGroup, dispatch_get_main_queue(), ^&#123; // 4 if (completionBlock) &#123; completionBlock(error); &#125; &#125;);&#125; ä¸‹é¢è§£é‡Šæ–°çš„å¼‚æ­¥æ–¹æ³•å¦‚ä½•å·¥ä½œï¼š åœ¨æ–°çš„å®žçŽ°é‡Œï¼Œå› ä¸ºä½ æ²¡æœ‰é˜»å¡žä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥ä½ å¹¶ä¸éœ€è¦å°†æ–¹æ³•åŒ…è£¹åœ¨ async è°ƒç”¨ä¸­ã€‚ åŒæ ·çš„ enter æ–¹æ³•ï¼Œæ²¡åšä»»ä½•ä¿®æ”¹ã€‚ åŒæ ·çš„ leave æ–¹æ³•ï¼Œä¹Ÿæ²¡åšä»»ä½•ä¿®æ”¹ã€‚ dispatch_group_notify ä»¥å¼‚æ­¥çš„æ–¹å¼å·¥ä½œã€‚å½“ Dispatch Group ä¸­æ²¡æœ‰ä»»ä½•ä»»åŠ¡æ—¶ï¼Œå®ƒå°±ä¼šæ‰§è¡Œå…¶ä»£ç ï¼Œé‚£ä¹ˆ completionBlock ä¾¿ä¼šè¿è¡Œã€‚ä½ è¿˜æŒ‡å®šäº†è¿è¡Œ completionBlock çš„é˜Ÿåˆ—ï¼Œæ­¤å¤„ï¼Œä¸»é˜Ÿåˆ—å°±æ˜¯ä½ æ‰€éœ€è¦çš„ã€‚ å¯¹äºŽè¿™ä¸ªç‰¹å®šçš„å·¥ä½œï¼Œä¸Šé¢çš„å¤„ç†æ˜Žæ˜¾æ›´æ¸…æ™°ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šé˜»å¡žä»»ä½•çº¿ç¨‹ã€‚ å¤ªå¤šå¹¶å‘å¸¦æ¥çš„é£Žé™©æ—¢ç„¶ä½ çš„å·¥å…·ç®±é‡Œæœ‰äº†è¿™äº›æ–°å·¥å…·ï¼Œä½ å¤§æ¦‚åšä»»ä½•äº‹æƒ…éƒ½æƒ³ä½¿ç”¨å®ƒä»¬ï¼Œå¯¹å§ï¼Ÿ çœ‹çœ‹ PhotoManager ä¸­çš„ downloadPhotosWithCompletionBlock æ–¹æ³•ã€‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°è¿™é‡Œçš„ for å¾ªçŽ¯ï¼Œå®ƒè¿­ä»£ä¸‰æ¬¡ï¼Œä¸‹è½½ä¸‰ä¸ªä¸åŒçš„å›¾ç‰‡ã€‚ä½ çš„ä»»åŠ¡æ˜¯å°è¯•è®© for å¾ªçŽ¯å¹¶å‘è¿è¡Œï¼Œä»¥æé«˜å…¶é€Ÿåº¦ã€‚ dispatch_apply åˆšå¥½å¯ç”¨äºŽè¿™ä¸ªä»»åŠ¡ã€‚ dispatch_apply è¡¨çŽ°å¾—å°±åƒä¸€ä¸ª for å¾ªçŽ¯ï¼Œä½†å®ƒèƒ½å¹¶å‘åœ°æ‰§è¡Œä¸åŒçš„è¿­ä»£ã€‚è¿™ä¸ªå‡½æ•°æ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥å’Œæ™®é€šçš„ for å¾ªçŽ¯ä¸€æ ·ï¼Œå®ƒåªä¼šåœ¨æ‰€æœ‰å·¥ä½œéƒ½å®ŒæˆåŽæ‰ä¼šè¿”å›žã€‚ å½“åœ¨ Block å†…è®¡ç®—ä»»ä½•ç»™å®šæ•°é‡çš„å·¥ä½œçš„æœ€ä½³è¿­ä»£æ•°é‡æ—¶ï¼Œå¿…é¡»è¦å°å¿ƒï¼Œå› ä¸ºè¿‡å¤šçš„è¿­ä»£å’Œæ¯ä¸ªè¿­ä»£åªæœ‰å°‘é‡çš„å·¥ä½œä¼šå¯¼è‡´å¤§é‡å¼€é”€ä»¥è‡´å®ƒèƒ½æŠµæ¶ˆä»»ä½•å› å¹¶å‘å¸¦æ¥çš„æ”¶ç›Šã€‚è€Œè¢«ç§°ä¸ºè·¨è¶Šå¼ï¼ˆstridingï¼‰çš„æŠ€æœ¯å¯ä»¥åœ¨æ­¤å¸®åˆ°ä½ ï¼Œå³é€šè¿‡åœ¨æ¯ä¸ªè¿­ä»£é‡Œå¤šåšå‡ ä¸ªä¸åŒçš„å·¥ä½œã€‚ è¯‘è€…æ³¨ï¼šå¤§æ¦‚å°±èƒ½å‡å°‘å¹¶å‘æ•°é‡å§ï¼Œä½œè€…æ˜¯æé†’å¤§å®¶æ³¨æ„å¹¶å‘çš„å¼€é”€ï¼Œè®°åœ¨å¿ƒé‡Œï¼ é‚£ä½•æ—¶æ‰é€‚åˆç”¨ dispatch_apply å‘¢ï¼Ÿ è‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ï¼šä¸²è¡Œé˜Ÿåˆ—ä¼šå®Œå…¨æŠµæ¶ˆ dispatch_apply çš„åŠŸèƒ½ï¼›ä½ è¿˜ä¸å¦‚ç›´æŽ¥ä½¿ç”¨æ™®é€šçš„ for å¾ªçŽ¯ã€‚ ä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰ï¼šä¸Žä¸Šé¢ä¸€æ ·ï¼Œåœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸Šä¸é€‚åˆä½¿ç”¨ dispatch_apply ã€‚è¿˜æ˜¯ç”¨æ™®é€šçš„ for å¾ªçŽ¯å§ã€‚ å¹¶å‘é˜Ÿåˆ—ï¼šå¯¹äºŽå¹¶å‘å¾ªçŽ¯æ¥è¯´æ˜¯å¾ˆå¥½é€‰æ‹©ï¼Œç‰¹åˆ«æ˜¯å½“ä½ éœ€è¦è¿½è¸ªä»»åŠ¡çš„è¿›åº¦æ—¶ã€‚ å›žåˆ° downloadPhotosWithCompletionBlock: å¹¶ç”¨ä¸‹åˆ—å®žçŽ°æ›¿æ¢å®ƒï¼š 12345678910111213141516171819202122232425262728293031323334353637383940- (void)downloadPhotosWithCompletionBlock:(BatchPhotoDownloadingCompletionBlock)completionBlock&#123; __block NSError *error; dispatch_group_t downloadGroup = dispatch_group_create(); dispatch_apply(3, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^(size_t i) &#123; NSURL *url; switch (i) &#123; case 0: url = [NSURL URLWithString:kOverlyAttachedGirlfriendURLString]; break; case 1: url = [NSURL URLWithString:kSuccessKidURLString]; break; case 2: url = [NSURL URLWithString:kLotsOfFacesURLString]; break; default: break; &#125; dispatch_group_enter(downloadGroup); Photo *photo = [[Photo alloc] initwithURL:url withCompletionBlock:^(UIImage *image, NSError *_error) &#123; if (_error) &#123; error = _error; &#125; dispatch_group_leave(downloadGroup); &#125;]; [[PhotoManager sharedManager] addPhoto:photo]; &#125;); dispatch_group_notify(downloadGroup, dispatch_get_main_queue(), ^&#123; if (completionBlock) &#123; completionBlock(error); &#125; &#125;);&#125; ä½ çš„å¾ªçŽ¯çŽ°åœ¨æ˜¯å¹¶è¡Œè¿è¡Œçš„äº†ï¼›åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨è°ƒç”¨ dispatch_apply æ—¶ï¼Œä½ ç”¨ç¬¬ä¸€æ¬¡å‚æ•°æŒ‡æ˜Žäº†è¿­ä»£çš„æ¬¡æ•°ï¼Œç”¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šäº†ä»»åŠ¡è¿è¡Œçš„é˜Ÿåˆ—ï¼Œè€Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª Blockã€‚ è¦çŸ¥é“è™½ç„¶ä½ æœ‰ä»£ç ä¿è¯æ·»åŠ ç›¸ç‰‡æ—¶çº¿ç¨‹å®‰å…¨ï¼Œä½†å›¾ç‰‡çš„é¡ºåºå´å¯èƒ½ä¸åŒï¼Œè¿™å–å†³äºŽçº¿ç¨‹å®Œæˆçš„é¡ºåºã€‚ ç¼–è¯‘å¹¶è¿è¡Œï¼Œç„¶åŽä»Ž â€œLe Internetâ€ æ·»åŠ ä¸€äº›ç…§ç‰‡ã€‚æ³¨æ„åˆ°åŒºåˆ«äº†å—ï¼Ÿ åœ¨çœŸæœºä¸Šè¿è¡Œæ–°ä»£ç ä¼šç¨å¾®æ›´å¿«çš„å¾—åˆ°ç»“æžœã€‚ä½†æˆ‘ä»¬æ‰€åšçš„è¿™äº›æé€Ÿå·¥ä½œçœŸçš„å€¼å¾—å—ï¼Ÿ å®žé™…ä¸Šï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œå¹¶ä¸å€¼å¾—ã€‚ä¸‹é¢æ˜¯åŽŸå› ï¼š ä½ åˆ›å»ºå¹¶è¡Œè¿è¡Œçº¿ç¨‹è€Œä»˜å‡ºçš„å¼€é”€ï¼Œå¾ˆå¯èƒ½æ¯”ç›´æŽ¥ä½¿ç”¨ for å¾ªçŽ¯è¦å¤šã€‚è‹¥ä½ è¦ä»¥åˆé€‚çš„æ­¥é•¿è¿­ä»£éžå¸¸å¤§çš„é›†åˆï¼Œé‚£æ‰åº”è¯¥è€ƒè™‘ä½¿ç”¨ dispatch_applyã€‚ ä½ ç”¨äºŽåˆ›å»ºåº”ç”¨çš„æ—¶é—´æ˜¯æœ‰é™çš„â€”â€”é™¤éžå®žåœ¨å¤ªç³Ÿç³•å¦åˆ™ä¸è¦æµªè´¹æ—¶é—´åŽ»æå‰ä¼˜åŒ–ä»£ç ã€‚å¦‚æžœä½ è¦ä¼˜åŒ–ä»€ä¹ˆï¼Œé‚£åŽ»ä¼˜åŒ–é‚£äº›æ˜Žæ˜¾å€¼å¾—ä½ ä»˜å‡ºæ—¶é—´çš„éƒ¨åˆ†ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ Instruments é‡Œåˆ†æžä½ çš„åº”ç”¨ï¼Œæ‰¾å‡ºæœ€é•¿è¿è¡Œæ—¶é—´çš„æ–¹æ³•ã€‚çœ‹çœ‹ å¦‚ä½•åœ¨ Xcode ä¸­ä½¿ç”¨ Instruments å¯ä»¥å­¦åˆ°æ›´å¤šç›¸å…³çŸ¥è¯†ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œä¼˜åŒ–ä»£ç ä¼šè®©ä½ çš„ä»£ç æ›´åŠ å¤æ‚ï¼Œä¸åˆ©äºŽä½ è‡ªå·±å’Œå…¶ä»–å¼€å‘è€…é˜…è¯»ã€‚è¯·ç¡®ä¿æ·»åŠ çš„å¤æ‚æ€§èƒ½æ¢æ¥è¶³å¤Ÿå¤šçš„å¥½å¤„ã€‚ è®°ä½ï¼Œä¸è¦åœ¨ä¼˜åŒ–ä¸Šå¤ªç–¯ç‹‚ã€‚ä½ åªä¼šè®©ä½ è‡ªå·±å’ŒåŽæ¥è€…æ›´éš¾ä»¥è¯»æ‡‚ä½ çš„ä»£ç ã€‚ GCD çš„å…¶ä»–è¶£å‘³ç­‰ä¸€ä¸‹ï¼è¿˜æœ‰æ›´å¤šï¼æœ‰ä¸€äº›é¢å¤–çš„å‡½æ•°åœ¨ä¸åŒçš„é“è·¯ä¸Šèµ°å¾—æ›´è¿œã€‚è™½ç„¶ä½ ä¸ä¼šå¤ªé¢‘ç¹åœ°ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä½†åœ¨å¯¹çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬å¯ä»¥æä¾›æžå¤§çš„å¸®åŠ©ã€‚ é˜»å¡žâ€”â€”æ­£ç¡®çš„æ–¹å¼è¿™å¯èƒ½å¬èµ·æ¥åƒæ˜¯ä¸ªç–¯ç‹‚çš„æƒ³æ³•ï¼Œä½†ä½ çŸ¥é“ Xcode å·²æœ‰äº†æµ‹è¯•åŠŸèƒ½å—ï¼Ÿ:] æˆ‘çŸ¥é“ï¼Œè™½ç„¶æœ‰æ—¶å€™æˆ‘å–œæ¬¢å‡è£…å®ƒä¸å­˜åœ¨ï¼Œä½†åœ¨ä»£ç é‡Œæž„å»ºå¤æ‚å…³ç³»æ—¶ç¼–å†™å’Œè¿è¡Œæµ‹è¯•éžå¸¸é‡è¦ã€‚ Xcode é‡Œçš„æµ‹è¯•åœ¨ XCTestCase çš„å­ç±»ä¸Šæ‰§è¡Œï¼Œå¹¶è¿è¡Œä»»ä½•æ–¹æ³•ç­¾åä»¥ test å¼€å¤´çš„æ–¹æ³•ã€‚æµ‹è¯•åœ¨ä¸»çº¿ç¨‹è¿è¡Œï¼Œæ‰€ä»¥ä½ å¯ä»¥å‡è®¾æ‰€æœ‰æµ‹è¯•éƒ½æ˜¯ä¸²è¡Œå‘ç”Ÿçš„ã€‚ å½“ä¸€ä¸ªç»™å®šçš„æµ‹è¯•æ–¹æ³•è¿è¡Œå®Œæˆï¼ŒXCTest æ–¹æ³•å°†è€ƒè™‘æ­¤æµ‹è¯•å·²ç»“æŸï¼Œå¹¶è¿›å…¥ä¸‹ä¸€ä¸ªæµ‹è¯•ã€‚è¿™æ„å‘³ç€ä»»ä½•æ¥è‡ªå‰ä¸€ä¸ªæµ‹è¯•çš„å¼‚æ­¥ä»£ç ä¼šåœ¨ä¸‹ä¸€ä¸ªæµ‹è¯•è¿è¡Œæ—¶ç»§ç»­è¿è¡Œã€‚ ç½‘ç»œä»£ç é€šå¸¸æ˜¯å¼‚æ­¥çš„ï¼Œå› æ­¤ä½ ä¸èƒ½åœ¨æ‰§è¡Œç½‘ç»œèŽ·å–æ—¶é˜»å¡žä¸»çº¿ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ªæµ‹è¯•ä¼šåœ¨æµ‹è¯•æ–¹æ³•å®Œæˆä¹‹åŽç»“æŸï¼Œè¿™ä¼šè®©å¯¹ç½‘ç»œä»£ç çš„æµ‹è¯•å˜å¾—å¾ˆå›°éš¾ã€‚ä¹Ÿå°±æ˜¯ï¼Œé™¤éžä½ åœ¨æµ‹è¯•æ–¹æ³•å†…éƒ¨é˜»å¡žä¸»çº¿ç¨‹ç›´åˆ°ç½‘ç»œä»£ç å®Œæˆã€‚ æ³¨æ„ï¼šæœ‰ä¸€äº›äººä¼šè¯´ï¼Œè¿™ç§ç±»åž‹çš„æµ‹è¯•ä¸å±žäºŽé›†æˆæµ‹è¯•çš„é¦–é€‰é›†ï¼ˆPreferred Setï¼‰ã€‚ä¸€äº›äººä¼šèµžåŒï¼Œä¸€äº›äººä¸ä¼šã€‚ä½†å¦‚æžœä½ æƒ³åšï¼Œé‚£å°±åŽ»åšã€‚ å¯¼èˆªåˆ° GooglyPuffTests.m å¹¶æŸ¥çœ‹ downloadImageURLWithString:ï¼Œå¦‚ä¸‹ï¼š 123456789101112131415- (void)downloadImageURLWithString:(NSString *)URLString&#123; NSURL *url = [NSURL URLWithString:URLString]; __block BOOL isFinishedDownloading = NO; __unused Photo *photo = [[Photo alloc] initwithURL:url withCompletionBlock:^(UIImage *image, NSError *error) &#123; if (error) &#123; XCTFail(@&quot;%@ failed. %@&quot;, URLString, error); &#125; isFinishedDownloading = YES; &#125;]; while (!isFinishedDownloading) &#123;&#125;&#125; è¿™æ˜¯ä¸€ç§æµ‹è¯•å¼‚æ­¥ç½‘ç»œä»£ç çš„å¹¼ç¨šæ–¹å¼ã€‚ While å¾ªçŽ¯åœ¨å‡½æ•°çš„æœ€åŽä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ° isFinishedDownloading å¸ƒå°”å€¼å˜æˆ Trueï¼Œå®ƒåªä¼šåœ¨ Completion Block é‡Œå‘ç”Ÿã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ ·åšæœ‰ä»€ä¹ˆå½±å“ã€‚ é€šè¿‡åœ¨ Xcode ä¸­ç‚¹å‡» Product / Test è¿è¡Œä½ çš„æµ‹è¯•ï¼Œå¦‚æžœä½ ä½¿ç”¨é»˜è®¤çš„é”®ç»‘å®šï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”® âŒ˜+U æ¥è¿è¡Œä½ çš„æµ‹è¯•ã€‚ åœ¨æµ‹è¯•è¿è¡Œæ—¶ï¼Œæ³¨æ„ Xcode debug å¯¼èˆªæ é‡Œçš„ CPU ä½¿ç”¨çŽ‡ã€‚è¿™ä¸ªè®¾è®¡ä¸å½“çš„å®žçŽ°å°±æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ è‡ªæ—‹é” ã€‚å®ƒå¾ˆä¸å®žç”¨ï¼Œå› ä¸ºä½ åœ¨ While å¾ªçŽ¯é‡Œæµªè´¹äº†çè´µçš„ CPU å‘¨æœŸï¼›è€Œä¸”å®ƒä¹Ÿå‡ ä¹Žæ²¡æœ‰æ‰©å±•æ€§ã€‚ è¯‘è€…æ³¨ï¼šæ‰€è°“è‡ªæ—‹é”ï¼Œå°±æ˜¯æŸä¸ªçº¿ç¨‹ä¸€ç›´æŠ¢å ç€ CPU ä¸æ–­æ£€æŸ¥ä»¥ç­‰åˆ°å®ƒéœ€è¦çš„æƒ…å†µå‡ºçŽ°ã€‚å› ä¸ºçŽ°ä»£æ“ä½œç³»ç»Ÿéƒ½æ˜¯å¯ä»¥å¹¶å‘è¿è¡Œå¤šä¸ªçº¿ç¨‹çš„ï¼Œæ‰€ä»¥å®ƒæ‰€ç­‰å¾…çš„é‚£ä¸ªçº¿ç¨‹ä¹Ÿæœ‰æœºä¼šè¢«è°ƒåº¦æ‰§è¡Œï¼Œè¿™æ ·å®ƒæ‰€éœ€è¦çš„æƒ…å†µæ—©æ™šä¼šå‡ºçŽ°ã€‚ ä½ å¯èƒ½éœ€è¦ä½¿ç”¨å‰é¢æåˆ°çš„ Network Link Conditioner ï¼Œå·²ä¾¿æ¸…æ¥šåœ°çœ‹åˆ°è¿™ä¸ªé—®é¢˜ã€‚å¦‚æžœä½ çš„ç½‘ç»œå¤ªå¿«ï¼Œé‚£ä¹ˆè‡ªæ—‹åªä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´é‡Œå‘ç”Ÿï¼Œéš¾ä»¥è§‚å¯Ÿã€‚ è¯‘è€…æ³¨ï¼šä½œè€…åå¤æåˆ°ç½‘é€Ÿå¤ªå¿«ï¼Œè€Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹ä»˜ GFWï¼Œç®€ç›´æ³ªæµæ»¡é¢ï¼ ä½ éœ€è¦ä¸€ä¸ªæ›´ä¼˜é›…ã€å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆæ¥é˜»å¡žçº¿ç¨‹ç›´åˆ°èµ„æºå¯ç”¨ã€‚æ¬¢è¿Žæ¥åˆ°ä¿¡å·é‡ã€‚ ä¿¡å·é‡ä¿¡å·é‡æ˜¯ä¸€ç§è€å¼çš„çº¿ç¨‹æ¦‚å¿µï¼Œç”±éžå¸¸è°¦å‘çš„ Edsger W. Dijkstra ä»‹ç»ç»™ä¸–ç•Œã€‚ä¿¡å·é‡ä¹‹æ‰€ä»¥æ¯”è¾ƒå¤æ‚æ˜¯å› ä¸ºå®ƒå»ºç«‹åœ¨æ“ä½œç³»ç»Ÿçš„å¤æ‚æ€§ä¹‹ä¸Šã€‚ å¦‚æžœä½ æƒ³å­¦åˆ°æ›´å¤šå…³äºŽä¿¡å·é‡çš„çŸ¥è¯†ï¼Œçœ‹çœ‹è¿™ä¸ªé“¾æŽ¥å®ƒæ›´ç»†è‡´åœ°è®¨è®ºäº†ä¿¡å·é‡ç†è®ºã€‚å¦‚æžœä½ æ˜¯å­¦æœ¯åž‹ï¼Œé‚£å¯ä»¥çœ‹ä¸€ä¸ªè½¯ä»¶å¼€å‘ä¸­ç»å…¸çš„å“²å­¦å®¶è¿›é¤é—®é¢˜ï¼Œå®ƒéœ€è¦ä½¿ç”¨ä¿¡å·é‡æ¥è§£å†³ã€‚ ä¿¡å·é‡è®©ä½ æŽ§åˆ¶å¤šä¸ªæ¶ˆè´¹è€…å¯¹æœ‰é™æ•°é‡èµ„æºçš„è®¿é—®ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æžœä½ åˆ›å»ºäº†ä¸€ä¸ªæœ‰ç€ä¸¤ä¸ªèµ„æºçš„ä¿¡å·é‡ï¼Œé‚£åŒæ—¶æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®ä¸´ç•ŒåŒºã€‚å…¶ä»–æƒ³ä½¿ç”¨èµ„æºçš„çº¿ç¨‹å¿…é¡»åœ¨ä¸€ä¸ªâ€¦ä½ çŒœåˆ°äº†å—ï¼Ÿâ€¦FIFOé˜Ÿåˆ—é‡Œç­‰å¾…ã€‚ è®©æˆ‘ä»¬æ¥ä½¿ç”¨ä¿¡å·é‡å§ï¼ æ‰“å¼€ GooglyPuffTests.m å¹¶ç”¨ä¸‹åˆ—å®žçŽ°æ›¿æ¢ downloadImageURLWithString:ï¼š 1234567891011121314151617181920212223- (void)downloadImageURLWithString:(NSString *)URLString&#123; // 1 dispatch_semaphore_t semaphore = dispatch_semaphore_create(0); NSURL *url = [NSURL URLWithString:URLString]; __unused Photo *photo = [[Photo alloc] initwithURL:url withCompletionBlock:^(UIImage *image, NSError *error) &#123; if (error) &#123; XCTFail(@&quot;%@ failed. %@&quot;, URLString, error); &#125; // 2 dispatch_semaphore_signal(semaphore); &#125;]; // 3 dispatch_time_t timeoutTime = dispatch_time(DISPATCH_TIME_NOW, kDefaultTimeoutLengthInNanoSeconds); if (dispatch_semaphore_wait(semaphore, timeoutTime)) &#123; XCTFail(@&quot;%@ timed out&quot;, URLString); &#125;&#125; ä¸‹é¢æ¥è¯´æ˜Žä½ ä»£ç ä¸­çš„ä¿¡å·é‡æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š åˆ›å»ºä¸€ä¸ªä¿¡å·é‡ã€‚å‚æ•°æŒ‡å®šä¿¡å·é‡çš„èµ·å§‹å€¼ã€‚è¿™ä¸ªæ•°å­—æ˜¯ä½ å¯ä»¥è®¿é—®çš„ä¿¡å·é‡ï¼Œä¸éœ€è¦æœ‰äººå…ˆåŽ»å¢žåŠ å®ƒçš„æ•°é‡ã€‚ï¼ˆæ³¨æ„åˆ°å¢žåŠ ä¿¡å·é‡ä¹Ÿè¢«å«åšå‘å°„ä¿¡å·é‡ï¼‰ã€‚è¯‘è€…æ³¨ï¼šè¿™é‡Œåˆå§‹åŒ–ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰äººæƒ³ä½¿ç”¨ä¿¡å·é‡å¿…ç„¶ä¼šè¢«é˜»å¡žï¼Œç›´åˆ°æœ‰äººå¢žåŠ ä¿¡å·é‡ã€‚ åœ¨ Completion Block é‡Œä½ å‘Šè¯‰ä¿¡å·é‡ä½ ä¸å†éœ€è¦èµ„æºäº†ã€‚è¿™å°±ä¼šå¢žåŠ ä¿¡å·é‡çš„è®¡æ•°å¹¶å‘ŠçŸ¥å…¶ä»–æƒ³ä½¿ç”¨æ­¤èµ„æºçš„çº¿ç¨‹ã€‚ è¿™ä¼šåœ¨è¶…æ—¶ä¹‹å‰ç­‰å¾…ä¿¡å·é‡ã€‚è¿™ä¸ªè°ƒç”¨é˜»å¡žäº†å½“å‰çº¿ç¨‹ç›´åˆ°ä¿¡å·é‡è¢«å‘å°„ã€‚è¿™ä¸ªå‡½æ•°çš„ä¸€ä¸ªéžé›¶è¿”å›žå€¼è¡¨ç¤ºåˆ°è¾¾è¶…æ—¶äº†ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæµ‹è¯•å°†ä¼šå¤±è´¥å› ä¸ºå®ƒä»¥ä¸ºç½‘ç»œè¯·æ±‚ä¸ä¼šè¶…è¿‡ 10 ç§’é’Ÿå°±ä¼šè¿”å›žâ€”â€”ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼ å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚åªè¦ä½ æœ‰ä¸€ä¸ªæ­£å¸¸å·¥ä½œçš„ç½‘ç»œè¿žæŽ¥ï¼Œè¿™ä¸ªæµ‹è¯•å°±ä¼šé©¬ä¸ŠæˆåŠŸã€‚è¯·ç‰¹åˆ«æ³¨æ„ CPU çš„ä½¿ç”¨çŽ‡ï¼Œä¸Žä¹‹å‰ä½¿ç”¨è‡ªæ—‹é”çš„å®žçŽ°ä½œä¸ªå¯¹æ¯”ã€‚ å…³é—­ä½ çš„ç½‘ç»œé“¾æŽ¥å†è¿è¡Œæµ‹è¯•ï¼›å¦‚æžœä½ åœ¨çœŸæœºä¸Šè¿è¡Œï¼Œå°±æ‰“å¼€é£žè¡Œæ¨¡å¼ã€‚å¦‚æžœä½ çš„åœ¨æ¨¡æ‹Ÿå™¨é‡Œè¿è¡Œï¼Œä½ å¯ä»¥ç›´æŽ¥æ–­å¼€ Mac çš„ç½‘ç»œé“¾æŽ¥ã€‚æµ‹è¯•ä¼šåœ¨ 10 ç§’åŽå¤±è´¥ã€‚è¿™å¾ˆæ£’ï¼Œå®ƒçœŸçš„èƒ½æŒ‰ç…§é¢„æƒ³çš„é‚£æ ·å·¥ä½œï¼ è¿˜æœ‰ä¸€äº›çç¢Žçš„æµ‹è¯•ï¼Œä½†å¦‚æžœä½ ä¸Žä¸€ä¸ªæœåŠ¡å™¨ç»„ååŒå·¥ä½œï¼Œé‚£ä¹ˆè¿™äº›åŸºæœ¬çš„æµ‹è¯•èƒ½å¤Ÿé˜²æ­¢å…¶ä»–äººå°±æœ€æ–°çš„ç½‘ç»œé—®é¢˜å¯¹ä½ è¯´ä¸‰é“å››ã€‚ ä½¿ç”¨ Dispatch SourceGCD çš„ä¸€ä¸ªç‰¹åˆ«æœ‰è¶£çš„ç‰¹æ€§æ˜¯ Dispatch Sourceï¼Œå®ƒåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªä½Žçº§å‡½æ•°çš„ grab-bag ï¼Œèƒ½å¸®åŠ©ä½ åŽ»å“åº”æˆ–ç›‘æµ‹ Unix ä¿¡å·ã€æ–‡ä»¶æè¿°ç¬¦ã€Mach ç«¯å£ã€VFS èŠ‚ç‚¹ï¼Œä»¥åŠå…¶å®ƒæ™¦æ¶©çš„ä¸œè¥¿ã€‚æ‰€æœ‰è¿™äº›éƒ½è¶…å‡ºäº†æœ¬æ•™ç¨‹è®¨è®ºçš„èŒƒå›´ï¼Œä½†ä½ å¯ä»¥é€šè¿‡å®žçŽ°ä¸€ä¸ª Dispatch Source å¯¹è±¡å¹¶ä»¥ä¸€ä¸ªç›¸å½“å¥‡ç‰¹çš„æ–¹å¼æ¥ä½¿ç”¨å®ƒæ¥å“å°é‚£äº›æ™¦æ¶©çš„ä¸œè¥¿ã€‚ ç¬¬ä¸€æ¬¡ä½¿ç”¨ Dispatch Source å¯èƒ½ä¼šè¿·å¤±åœ¨å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªæºï¼Œæ‰€ä»¥ä½ éœ€è¦çŸ¥æ™“çš„ç¬¬ä¸€ä»¶äº‹æ˜¯ dispatch_source_create å¦‚ä½•å·¥ä½œã€‚ä¸‹é¢æ˜¯åˆ›å»ºä¸€ä¸ªæºçš„å‡½æ•°åŽŸåž‹ï¼š 12345dispatch_source_t dispatch_source_create( dispatch_source_type_t type, uintptr_t handle, unsigned long mask, dispatch_queue_t queue); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ dispatch_source_type_t ã€‚è¿™æ˜¯æœ€é‡è¦çš„å‚æ•°ï¼Œå› ä¸ºå®ƒå†³å®šäº† handle å’Œ mask å‚æ•°å°†ä¼šæ˜¯ä»€ä¹ˆã€‚ä½ å¯ä»¥æŸ¥çœ‹ Xcode æ–‡æ¡£ å¾—åˆ°å“ªäº›é€‰é¡¹å¯ç”¨äºŽæ¯ä¸ª dispatch_source_type_t å‚æ•°ã€‚ ä¸‹é¢ä½ å°†ç›‘æŽ§ DISPATCH_SOURCE_TYPE_SIGNAL ã€‚å¦‚æ–‡æ¡£æ‰€æ˜¾ç¤ºçš„ï¼š ä¸€ä¸ªç›‘æŽ§å½“å‰è¿›ç¨‹ä¿¡å·çš„ Dispatch Sourceã€‚ handle æ˜¯ä¿¡å·ç¼–å·ï¼Œmask æœªä½¿ç”¨ï¼ˆä¼  0 å³å¯ï¼‰ã€‚ è¿™äº› Unix ä¿¡å·ç»„æˆçš„åˆ—è¡¨å¯åœ¨å¤´æ–‡ä»¶ signal.h ä¸­æ‰¾åˆ°ã€‚åœ¨å…¶é¡¶éƒ¨æœ‰ä¸€å † #define è¯­å¥ã€‚ä½ å°†ç›‘æŽ§æ­¤ä¿¡å·åˆ—è¡¨ä¸­çš„ SIGSTOP ä¿¡å·ã€‚è¿™ä¸ªä¿¡å·å°†ä¼šåœ¨è¿›ç¨‹æŽ¥æ”¶åˆ°ä¸€ä¸ªæ— æ³•å›žé¿çš„æš‚åœæŒ‡ä»¤æ—¶è¢«å‘å‡ºã€‚åœ¨ä½ ç”¨ LLDB è°ƒè¯•å™¨è°ƒè¯•åº”ç”¨æ—¶ä½ ä½¿ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªä¿¡å·ã€‚ åŽ»å¾€ PhotoCollectionViewController.m å¹¶æ·»åŠ å¦‚ä¸‹ä»£ç åˆ° viewDidLoad çš„é¡¶éƒ¨ï¼Œå°±åœ¨ [super viewDidLoad] ä¸‹é¢ï¼š 123456789101112131415161718192021222324252627282930313233343536- (void)viewDidLoad&#123; [super viewDidLoad]; // 1 #if DEBUG // 2 dispatch_queue_t queue = dispatch_get_main_queue(); // 3 static dispatch_source_t source = nil; // 4 __typeof(self) __weak weakSelf = self; // 5 static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; // 6 source = dispatch_source_create(DISPATCH_SOURCE_TYPE_SIGNAL, SIGSTOP, 0, queue); // 7 if (source) &#123; // 8 dispatch_source_set_event_handler(source, ^&#123; // 9 NSLog(@&quot;Hi, I am: %@&quot;, weakSelf); &#125;); dispatch_resume(source); // 10 &#125; &#125;); #endif // The other stuff&#125; è¿™äº›ä»£ç æœ‰ç‚¹å„¿å¤æ‚ï¼Œæ‰€ä»¥è·Ÿç€æ³¨é‡Šä¸€æ­¥æ­¥èµ°ï¼Œçœ‹çœ‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼š æœ€å¥½æ˜¯åœ¨ DEBUG æ¨¡å¼ä¸‹ç¼–è¯‘è¿™äº›ä»£ç ï¼Œå› ä¸ºè¿™ä¼šç»™â€œæœ‰å…³æ–¹é¢ï¼ˆInterested Partiesï¼‰â€å¾ˆå¤šå…³äºŽä½ åº”ç”¨çš„æ´žå¯Ÿã€‚ :] Just to mix things upï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ª dispatch_queue_t å®žä¾‹å˜é‡è€Œä¸æ˜¯åœ¨å‚æ•°ä¸Šç›´æŽ¥ä½¿ç”¨å‡½æ•°ã€‚å½“ä»£ç å˜é•¿ï¼Œåˆ†æ‹†æœ‰åŠ©äºŽå¯è¯»æ€§ã€‚ ä½ éœ€è¦ source åœ¨æ–¹æ³•èŒƒå›´ä¹‹å¤–ä¹Ÿå¯è¢«è®¿é—®ï¼Œæ‰€ä»¥ä½ ä½¿ç”¨äº†ä¸€ä¸ª static å˜é‡ã€‚ ä½¿ç”¨ weakSelf ä»¥ç¡®ä¿ä¸ä¼šå‡ºçŽ°ä¿ç•™çŽ¯ï¼ˆRetain Cycleï¼‰ã€‚è¿™å¯¹ PhotoCollectionViewController æ¥è¯´ä¸æ˜¯å®Œå…¨å¿…è¦çš„ï¼Œå› ä¸ºå®ƒä¼šåœ¨åº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½æœŸé‡Œä¿æŒæ´»è·ƒã€‚ç„¶è€Œï¼Œå¦‚æžœä½ æœ‰ä»»ä½•å…¶å®ƒä¼šæ¶ˆå¤±çš„ç±»ï¼Œè¿™å°±èƒ½ç¡®ä¿ä¸ä¼šå‡ºçŽ°ä¿ç•™çŽ¯è€Œé€ æˆå†…å­˜æ³„æ¼ã€‚ ä½¿ç”¨ dispatch_once ç¡®ä¿åªä¼šæ‰§è¡Œä¸€æ¬¡ Dispatch Source çš„è®¾ç½®ã€‚ åˆå§‹åŒ– source å˜é‡ã€‚ä½ æŒ‡æ˜Žäº†ä½ å¯¹ä¿¡å·ç›‘æŽ§æ„Ÿå…´è¶£å¹¶æä¾›äº† SIGSTOP ä¿¡å·ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚è¿›ä¸€æ­¥ï¼Œä½ ä½¿ç”¨ä¸»é˜Ÿåˆ—å¤„ç†æŽ¥æ”¶åˆ°çš„äº‹ä»¶â€”â€”å¾ˆå¿«ä½ å°±å¥½å‘çŽ°ä¸ºä½•è¦è¿™æ ·åšã€‚ å¦‚æžœä½ æä¾›çš„å‚æ•°ä¸åˆæ ¼ï¼Œé‚£ä¹ˆ Dispatch Source å¯¹è±¡ä¸ä¼šè¢«åˆ›å»ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½ å¼€å§‹åœ¨å…¶ä¸Šå·¥ä½œä¹‹å‰ï¼Œä½ éœ€è¦ç¡®ä¿å·²æœ‰äº†ä¸€ä¸ªæœ‰æ•ˆçš„ Dispatch Source ã€‚ å½“ä½ æ”¶åˆ°ä½ æ‰€ç›‘æŽ§çš„ä¿¡å·æ—¶ï¼Œdispatch_source_set_event_handler å°±ä¼šæ‰§è¡Œã€‚ä¹‹åŽä½ å¯ä»¥åœ¨å…¶ Block é‡Œè®¾ç½®åˆé€‚çš„é€»è¾‘å¤„ç†å™¨ï¼ˆLogic Handlerï¼‰ã€‚ ä¸€ä¸ªåŸºæœ¬çš„ NSLog è¯­å¥ï¼Œå®ƒå°†å¯¹è±¡æ‰“å°åˆ°æŽ§åˆ¶å°ã€‚ é»˜è®¤çš„ï¼Œæ‰€æœ‰æºéƒ½åˆå§‹ä¸ºæš‚åœçŠ¶æ€ã€‚å¦‚æžœä½ è¦å¼€å§‹ç›‘æŽ§äº‹ä»¶ï¼Œä½ å¿…é¡»å‘Šè¯‰æºå¯¹è±¡æ¢å¤æ´»è·ƒçŠ¶æ€ã€‚ ç¼–è¯‘å¹¶è¿è¡Œåº”ç”¨ï¼›åœ¨è°ƒè¯•å™¨é‡Œæš‚åœå¹¶ç«‹å³æ¢å¤åº”ç”¨ï¼ŒæŸ¥çœ‹æŽ§åˆ¶å°ï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¸ªæ¥è‡ªé»‘æš—è‰ºæœ¯çš„å‡½æ•°ç¡®å®žå¯ä»¥å·¥ä½œã€‚ä½ çœ‹åˆ°çš„å¤§æ¦‚å¦‚ä¸‹ï¼š 12014-03-29 17:41:30.610 GooglyPuff[8181:60b] Hi, I am: ä½ çš„åº”ç”¨çŽ°åœ¨å…·æœ‰è°ƒè¯•æ„ŸçŸ¥äº†ï¼è¿™çœŸæ˜¯è¶…çº§æ£’ï¼Œä½†åœ¨çœŸå®žä¸–ç•Œé‡Œè¯¥å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿ ä½ å¯ä»¥ç”¨å®ƒåŽ»è°ƒè¯•ä¸€ä¸ªå¯¹è±¡å¹¶åœ¨ä»»ä½•ä½ æƒ³æ¢å¤åº”ç”¨çš„æ—¶å€™æ˜¾ç¤ºæ•°æ®ï¼›ä½ åŒæ ·èƒ½ç»™ä½ çš„åº”ç”¨åŠ ä¸Šè‡ªå®šä¹‰çš„å®‰å…¨é€»è¾‘ä»¥ä¾¿åœ¨æ¶æ„æ”»å‡»è€…å°†ä¸€ä¸ªè°ƒè¯•å™¨è¿žæŽ¥åˆ°ä½ çš„åº”ç”¨ä¸Šæ—¶ä¿æŠ¤å®ƒè‡ªå·±ï¼ˆæˆ–ç”¨æˆ·çš„æ•°æ®ï¼‰ã€‚ è¯‘è€…æ³¨ï¼šå¥½åƒæŒºæœ‰ç”¨ï¼ ä¸€ä¸ªæœ‰è¶£çš„ä¸»æ„æ˜¯ï¼Œä½¿ç”¨æ­¤æ–¹å¼çš„ä½œä¸ºä¸€ä¸ªå †æ ˆè¿½è¸ªå·¥å…·åŽ»æ‰¾åˆ°ä½ æƒ³åœ¨è°ƒè¯•å™¨é‡Œæ“çºµçš„å¯¹è±¡ã€‚ ç¨å¾®æƒ³æƒ³è¿™ä¸ªæƒ…å†µã€‚å½“ä½ æ„å¤–åœ°åœæ­¢è°ƒè¯•å™¨ï¼Œä½ å‡ ä¹Žä»Žæ¥éƒ½ä¸ä¼šåœ¨æ‰€éœ€çš„æ ˆå¸§ä¸Šã€‚çŽ°åœ¨ä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™åœæ­¢è°ƒè¯•å™¨å¹¶åœ¨ä½ æ‰€éœ€çš„åœ°æ–¹æ‰§è¡Œä»£ç ã€‚å¦‚æžœä½ æƒ³åœ¨ä½ çš„åº”ç”¨çš„æŸä¸€ç‚¹æ‰§è¡Œçš„ä»£ç éžå¸¸éš¾ä»¥ä»Žè°ƒè¯•å™¨è®¿é—®çš„è¯ï¼Œè¿™ä¼šéžå¸¸æœ‰ç”¨ã€‚æœ‰æœºä¼šè¯•è¯•å§ï¼ å°†ä¸€ä¸ªæ–­ç‚¹æ”¾åœ¨ä½ åˆšæ·»åŠ åœ¨ viewDidLoad é‡Œçš„äº‹ä»¶å¤„ç†å™¨çš„ NSLog è¯­å¥ä¸Šã€‚åœ¨è°ƒè¯•å™¨é‡Œæš‚åœï¼Œç„¶åŽå†æ¬¡å¼€å§‹ï¼›åº”ç”¨ä¼šåˆ°è¾¾ä½ æ·»åŠ çš„æ–­ç‚¹ã€‚çŽ°åœ¨ä½ æ·±å…¥åˆ°ä½ çš„ PhotoCollectionViewController æ–¹æ³•æ·±å¤„ã€‚ä½ å¯ä»¥è®¿é—® PhotoCollectionViewController çš„å®žä¾‹å¾—åˆ°ä½ å…³å¿ƒçš„å†…å®¹ã€‚éžå¸¸æ–¹ä¾¿ï¼ æ³¨æ„ï¼šå¦‚æžœä½ è¿˜æ²¡æœ‰æ³¨æ„åˆ°åœ¨è°ƒè¯•å™¨é‡Œçš„æ˜¯å“ªä¸ªçº¿ç¨‹ï¼Œé‚£çŽ°åœ¨å°±çœ‹çœ‹å®ƒä»¬ã€‚ä¸»çº¿ç¨‹æ€»æ˜¯ç¬¬ä¸€ä¸ªè¢« libdispatch è·Ÿéšï¼Œå®ƒæ˜¯ GCD çš„åæ ‡ï¼Œä½œä¸ºç¬¬äºŒä¸ªçº¿ç¨‹ã€‚ä¹‹åŽï¼Œçº¿ç¨‹è®¡æ•°å’Œå‰©ä½™çº¿ç¨‹å–å†³äºŽç¡¬ä»¶åœ¨åº”ç”¨åˆ°è¾¾æ–­ç‚¹æ—¶æ­£åœ¨åšçš„äº‹æƒ…ã€‚ åœ¨è°ƒè¯•å™¨é‡Œï¼Œé”®å…¥å‘½ä»¤ï¼špo [[weakSelf navigationItem] setPrompt:@&quot;WOOT!&quot;] ç„¶åŽæ¢å¤åº”ç”¨çš„æ‰§è¡Œã€‚ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä½ å¯ä»¥æ›´æ–° UIã€æŸ¥è¯¢ç±»çš„å±žæ€§ï¼Œç”šè‡³æ˜¯æ‰§è¡Œæ–¹æ³•â€”â€”æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½ä¸éœ€è¦é‡å¯åº”ç”¨å¹¶åˆ°è¾¾æŸä¸ªç‰¹å®šçš„å·¥ä½œçŠ¶æ€ã€‚ç›¸å½“ä¼˜ç¾Žå§ï¼ è¯‘è€…æ³¨ï¼šå‘æŒ¥è¿™ä¸€ç‚¹ï¼Œæ˜¯å¯ä»¥åšå‡ºä¸€äº›è°ƒè¯•åº“çš„å§ï¼Ÿ ä¹‹åŽåˆè¯¥å¾€ä½•å¤„åŽ»ï¼Ÿä½ å¯ä»¥åœ¨æ­¤ä¸‹è½½æœ€ç»ˆçš„é¡¹ç›®ã€‚ æˆ‘è®¨åŽŒå†æ¬¡æåŠæ­¤ä¸»é¢˜ï¼Œä½†ä½ çœŸçš„è¦çœ‹çœ‹ å¦‚ä½•ä½¿ç”¨ Instruments æ•™ç¨‹ã€‚å¦‚æžœä½ è®¡åˆ’ä¼˜åŒ–ä½ çš„åº”ç”¨ï¼Œé‚£ä½ ä¸€å®šè¦å­¦ä¼šä½¿ç”¨å®ƒã€‚è¯·æ³¨æ„ Instruments æ“…é•¿äºŽåˆ†æžç›¸å¯¹æ‰§è¡Œï¼šæ¯”è¾ƒå“ªäº›åŒºåŸŸçš„ä»£ç ç›¸å¯¹äºŽå…¶å®ƒåŒºåŸŸçš„ä»£ç èŠ±è´¹äº†æ›´é•¿çš„æ—¶é—´ã€‚å¦‚æžœä½ å°è¯•è®¡ç®—å‡ºæŸä¸ªæ–¹æ³•å®žé™…çš„æ‰§è¡Œæ—¶é—´ï¼Œé‚£ä½ å¯èƒ½éœ€è¦æ‹¿å‡ºæ›´å¤šçš„è‡ªé…¿çš„è§£å†³æ–¹æ¡ˆï¼ˆHome-brewed Solutionï¼‰ã€‚ åŒæ ·è¯·çœ‹çœ‹ å¦‚ä½•ä½¿ç”¨ NSOperations å’Œ NSOperationQueues å§ï¼Œå®ƒä»¬æ˜¯å»ºç«‹åœ¨ GCD ä¹‹ä¸Šçš„å¹¶å‘æŠ€æœ¯ã€‚å¤§ä½“æ¥è¯´ï¼Œå¦‚æžœä½ åœ¨å†™ç®€å•çš„ç”¨è¿‡å°±å¿˜çš„ä»»åŠ¡ï¼Œé‚£å®ƒä»¬å°±æ˜¯ä½¿ç”¨ GCD çš„æœ€ä½³å®žè·µï¼Œã€‚NSOperations æä¾›æ›´å¥½çš„æŽ§åˆ¶ã€å¤„ç†å¤§é‡å¹¶å‘æ“ä½œçš„å®žçŽ°ï¼Œä»¥åŠä¸€ä¸ªä»¥é€Ÿåº¦ä¸ºä»£ä»·çš„æ›´åŠ é¢å‘å¯¹è±¡çš„èŒƒä¾‹ã€‚ è®°ä½ï¼Œé™¤éžä½ æœ‰ç‰¹åˆ«çš„åŽŸå› è¦å¾€ä¸‹æµèµ°ï¼ˆè¯‘è€…çš„çŽ©ç¬‘ï¼šå³ä½¿ç”¨ä½Žçº§åˆ« APIï¼‰ï¼Œå¦åˆ™æ°¸è¿œåº”å°è¯•å¹¶åšæŒä½¿ç”¨é«˜çº§çš„ APIã€‚å¦‚æžœä½ æƒ³å­¦åˆ°æ›´å¤šæˆ–æƒ³åšæŸäº›éžå¸¸éžå¸¸â€œæœ‰è¶£â€çš„äº‹æƒ…ï¼Œé‚£ä½ å°±åº”è¯¥å†’é™©è¿›å…¥ Apple çš„é»‘æš—è‰ºæœ¯ã€‚ ç¥ä½ å¥½è¿ï¼ŒçŽ©å¾—å¼€å¿ƒï¼æœ‰ä»»ä½•é—®é¢˜æˆ–åé¦ˆè¯·åœ¨ä¸‹æ–¹çš„è®¨è®ºåŒºè´´å‡ºï¼ æ–‡ç« è½¬è‡ª https://github.com/nixzhu/dev-blog]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¬ - GCD æ·±å…¥ç†è§£ä¹‹ä¸€]]></title>
    <url>%2F2017%2F08%2F06%2F%E8%BD%AC%E8%BD%BD%2F%E8%BD%AC-GCD-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E4%B9%8B%E4%B8%80%2F</url>
    <content type="text"><![CDATA[æ–‡ç« è½¬è‡ª https://github.com/nixzhu/dev-blog è™½ç„¶ GCD å·²ç»å‡ºçŽ°è¿‡ä¸€æ®µæ—¶é—´äº†ï¼Œä½†ä¸æ˜¯æ¯ä¸ªäººéƒ½æ˜Žäº†å…¶ä¸»è¦å†…å®¹ã€‚è¿™æ˜¯å¯ä»¥ç†è§£çš„ï¼›å¹¶å‘ä¸€ç›´å¾ˆæ£˜æ‰‹ï¼Œè€Œ GCD æ˜¯åŸºäºŽ C çš„ API ï¼Œå®ƒä»¬å°±åƒä¸€ç»„å°–é”çš„æ£±è§’æˆ³è¿› Objective-C çš„å¹³æ»‘ä¸–ç•Œã€‚æˆ‘ä»¬å°†åˆ†ä¸¤ä¸ªéƒ¨åˆ†çš„æ•™ç¨‹æ¥æ·±å…¥å­¦ä¹  GCD ã€‚ åœ¨è¿™ä¸¤éƒ¨åˆ†çš„ç³»åˆ—ä¸­ï¼Œç¬¬ä¸€ä¸ªéƒ¨åˆ†çš„å°†è§£é‡Š GCD æ˜¯åšä»€ä¹ˆçš„ï¼Œå¹¶ä»Žè®¸å¤šåŸºæœ¬çš„ GCD å‡½æ•°ä¸­æ‰¾å‡ºå‡ ä¸ªæ¥å±•ç¤ºã€‚åœ¨ç¬¬äºŒéƒ¨åˆ†ï¼Œä½ å°†å­¦åˆ°å‡ ä¸ª GCD æä¾›çš„é«˜çº§å‡½æ•°ã€‚ ä»€ä¹ˆæ˜¯ GCDGCD æ˜¯ libdispatch çš„å¸‚åœºåç§°ï¼Œè€Œ libdispatch ä½œä¸º Apple çš„ä¸€ä¸ªåº“ï¼Œä¸ºå¹¶å‘ä»£ç åœ¨å¤šæ ¸ç¡¬ä»¶ï¼ˆè·‘ iOS æˆ– OS X ï¼‰ä¸Šæ‰§è¡Œæä¾›æœ‰åŠ›æ”¯æŒã€‚å®ƒå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š GCD èƒ½é€šè¿‡æŽ¨è¿Ÿæ˜‚è´µè®¡ç®—ä»»åŠ¡å¹¶åœ¨åŽå°è¿è¡Œå®ƒä»¬æ¥æ”¹å–„ä½ çš„åº”ç”¨çš„å“åº”æ€§èƒ½ã€‚ GCD æä¾›ä¸€ä¸ªæ˜“äºŽä½¿ç”¨çš„å¹¶å‘æ¨¡åž‹è€Œä¸ä»…ä»…åªæ˜¯é”å’Œçº¿ç¨‹ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬é¿å¼€å¹¶å‘é™·é˜±ã€‚ GCD å…·æœ‰åœ¨å¸¸è§æ¨¡å¼ï¼ˆä¾‹å¦‚å•ä¾‹ï¼‰ä¸Šç”¨æ›´é«˜æ€§èƒ½çš„åŽŸè¯­ä¼˜åŒ–ä½ çš„ä»£ç çš„æ½œåœ¨èƒ½åŠ›ã€‚ æœ¬æ•™ç¨‹å‡è®¾ä½ å¯¹ Block å’Œ GCD æœ‰åŸºç¡€äº†è§£ã€‚å¦‚æžœä½ å¯¹ GCD å®Œå…¨é™Œç”Ÿï¼Œå…ˆçœ‹çœ‹ iOS ä¸Šçš„å¤šçº¿ç¨‹å’Œ GCD å…¥é—¨æ•™ç¨‹ å­¦ä¹ å…¶è¦é¢†ã€‚ GCD æœ¯è¯­è¦ç†è§£ GCD ï¼Œä½ è¦å…ˆç†Ÿæ‚‰ä¸Žçº¿ç¨‹å’Œå¹¶å‘ç›¸å…³çš„å‡ ä¸ªæ¦‚å¿µã€‚è¿™ä¸¤è€…éƒ½å¯èƒ½æ¨¡ç³Šå’Œå¾®å¦™ï¼Œæ‰€ä»¥åœ¨å¼€å§‹ GCD ä¹‹å‰å…ˆç®€è¦åœ°å›žé¡¾ä¸€ä¸‹å®ƒä»¬ã€‚ Serial vs. Concurrent ä¸²è¡Œ vs. å¹¶å‘è¿™äº›æœ¯è¯­æè¿°å½“ä»»åŠ¡ç›¸å¯¹äºŽå…¶å®ƒä»»åŠ¡è¢«æ‰§è¡Œï¼Œä»»åŠ¡ä¸²è¡Œæ‰§è¡Œå°±æ˜¯æ¯æ¬¡åªæœ‰ä¸€ä¸ªä»»åŠ¡è¢«æ‰§è¡Œï¼Œä»»åŠ¡å¹¶å‘æ‰§è¡Œå°±æ˜¯åœ¨åŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šä¸ªä»»åŠ¡è¢«æ‰§è¡Œã€‚ è™½ç„¶è¿™äº›æœ¯è¯­è¢«å¹¿æ³›ä½¿ç”¨ï¼Œæœ¬æ•™ç¨‹ä¸­ä½ å¯ä»¥å°†ä»»åŠ¡è®¾å®šä¸ºä¸€ä¸ª Objective-C çš„ Block ã€‚ä¸æ˜Žç™½ä»€ä¹ˆæ˜¯ Block ï¼Ÿçœ‹çœ‹ iOS 5 æ•™ç¨‹ä¸­çš„å¦‚ä½•ä½¿ç”¨ Block ã€‚å®žé™…ä¸Šï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ GCD ä¸Šä½¿ç”¨å‡½æ•°æŒ‡é’ˆï¼Œä½†åœ¨å¤§å¤šæ•°åœºæ™¯ä¸­ï¼Œè¿™å®žé™…ä¸Šæ›´éš¾äºŽä½¿ç”¨ã€‚Block å°±æ˜¯æ›´åŠ å®¹æ˜“äº›ï¼ Synchronous vs. Asynchronous åŒæ­¥ vs. å¼‚æ­¥åœ¨ GCD ä¸­ï¼Œè¿™äº›æœ¯è¯­æè¿°å½“ä¸€ä¸ªå‡½æ•°ç›¸å¯¹äºŽå¦ä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œæ­¤ä»»åŠ¡æ˜¯è¯¥å‡½æ•°è¦æ±‚ GCD æ‰§è¡Œçš„ã€‚ä¸€ä¸ª_åŒæ­¥_å‡½æ•°åªåœ¨å®Œæˆäº†å®ƒé¢„å®šçš„ä»»åŠ¡åŽæ‰è¿”å›žã€‚ ä¸€ä¸ª_å¼‚æ­¥_å‡½æ•°ï¼Œåˆšå¥½ç›¸åï¼Œä¼šç«‹å³è¿”å›žï¼Œé¢„å®šçš„ä»»åŠ¡ä¼šå®Œæˆä½†ä¸ä¼šç­‰å®ƒå®Œæˆã€‚å› æ­¤ï¼Œä¸€ä¸ªå¼‚æ­¥å‡½æ•°ä¸ä¼šé˜»å¡žå½“å‰çº¿ç¨‹åŽ»æ‰§è¡Œä¸‹ä¸€ä¸ªå‡½æ•°ã€‚ æ³¨æ„â€”â€”å½“ä½ è¯»åˆ°åŒæ­¥å‡½æ•°â€œé˜»å¡žï¼ˆBlockï¼‰â€å½“å‰çº¿ç¨‹ï¼Œæˆ–å‡½æ•°æ˜¯ä¸€ä¸ªâ€œé˜»å¡žâ€å‡½æ•°æˆ–é˜»å¡žæ“ä½œæ—¶ï¼Œä¸è¦è¢«æžç³Šæ¶‚äº†ï¼åŠ¨è¯â€œé˜»å¡žâ€æè¿°äº†å‡½æ•°å¦‚ä½•å½±å“å®ƒæ‰€åœ¨çš„çº¿ç¨‹è€Œä¸Žåè¯â€œä»£ç å—ï¼ˆBlockï¼‰â€æ²¡æœ‰å…³ç³»ã€‚ä»£ç å—æè¿°äº†ç”¨ Objective-C ç¼–å†™çš„ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒèƒ½å®šä¹‰ä¸€ä¸ªä»»åŠ¡å¹¶è¢«æäº¤åˆ° GCD ã€‚ è¯‘è€…æ³¨ï¼šä¸­æ–‡ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œâ€œé˜»å¡žâ€å’Œâ€œä»£ç å—â€æ˜¯ä¸¤ä¸ªè¯ã€‚ Critical Section ä¸´ç•ŒåŒºå°±æ˜¯ä¸€æ®µä»£ç ä¸èƒ½è¢«å¹¶å‘æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ï¼Œä¸¤ä¸ªçº¿ç¨‹ä¸èƒ½åŒæ—¶æ‰§è¡Œè¿™æ®µä»£ç ã€‚è¿™å¾ˆå¸¸è§ï¼Œå› ä¸ºä»£ç åŽ»æ“ä½œä¸€ä¸ªå…±äº«èµ„æºï¼Œä¾‹å¦‚ä¸€ä¸ªå˜é‡è‹¥èƒ½è¢«å¹¶å‘è¿›ç¨‹è®¿é—®ï¼Œé‚£ä¹ˆå®ƒå¾ˆå¯èƒ½ä¼šå˜è´¨ï¼ˆè¯‘è€…æ³¨ï¼šå®ƒçš„å€¼ä¸å†å¯ä¿¡ï¼‰ã€‚ Race Condition ç«žæ€æ¡ä»¶è¿™ç§çŠ¶å†µæ˜¯æŒ‡åŸºäºŽç‰¹å®šåºåˆ—æˆ–æ—¶æœºçš„äº‹ä»¶çš„è½¯ä»¶ç³»ç»Ÿä»¥ä¸å—æŽ§åˆ¶çš„æ–¹å¼è¿è¡Œçš„è¡Œä¸ºï¼Œä¾‹å¦‚ç¨‹åºçš„å¹¶å‘ä»»åŠ¡æ‰§è¡Œçš„ç¡®åˆ‡é¡ºåºã€‚ç«žæ€æ¡ä»¶å¯å¯¼è‡´æ— æ³•é¢„æµ‹çš„è¡Œä¸ºï¼Œè€Œä¸èƒ½é€šè¿‡ä»£ç æ£€æŸ¥ç«‹å³å‘çŽ°ã€‚ Deadlock æ­»é”ä¸¤ä¸ªï¼ˆæœ‰æ—¶æ›´å¤šï¼‰ä¸œè¥¿â€”â€”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ˜¯çº¿ç¨‹â€”â€”æ‰€è°“çš„æ­»é”æ˜¯æŒ‡å®ƒä»¬éƒ½å¡ä½äº†ï¼Œå¹¶ç­‰å¾…å¯¹æ–¹å®Œæˆæˆ–æ‰§è¡Œå…¶å®ƒæ“ä½œã€‚ç¬¬ä¸€ä¸ªä¸èƒ½å®Œæˆæ˜¯å› ä¸ºå®ƒåœ¨ç­‰å¾…ç¬¬äºŒä¸ªçš„å®Œæˆã€‚ä½†ç¬¬äºŒä¸ªä¹Ÿä¸èƒ½å®Œæˆï¼Œå› ä¸ºå®ƒåœ¨ç­‰å¾…ç¬¬ä¸€ä¸ªçš„å®Œæˆã€‚ Thread Safe çº¿ç¨‹å®‰å…¨çº¿ç¨‹å®‰å…¨çš„ä»£ç èƒ½åœ¨å¤šçº¿ç¨‹æˆ–å¹¶å‘ä»»åŠ¡ä¸­è¢«å®‰å…¨çš„è°ƒç”¨ï¼Œè€Œä¸ä¼šå¯¼è‡´ä»»ä½•é—®é¢˜ï¼ˆæ•°æ®æŸåï¼Œå´©æºƒï¼Œç­‰ï¼‰ã€‚çº¿ç¨‹ä¸å®‰å…¨çš„ä»£ç åœ¨æŸä¸ªæ—¶åˆ»åªèƒ½åœ¨ä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ä¸€ä¸ªçº¿ç¨‹å®‰å…¨ä»£ç çš„ä¾‹å­æ˜¯ NSDictionary ã€‚ä½ å¯ä»¥åœ¨åŒä¸€æ—¶é—´åœ¨å¤šä¸ªçº¿ç¨‹ä¸­ä½¿ç”¨å®ƒè€Œä¸ä¼šæœ‰é—®é¢˜ã€‚å¦ä¸€æ–¹é¢ï¼ŒNSMutableDictionary å°±ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåº”è¯¥ä¿è¯ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®å®ƒã€‚ Context Switch ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸€ä¸ªä¸Šä¸‹æ–‡åˆ‡æ¢æŒ‡å½“ä½ åœ¨å•ä¸ªè¿›ç¨‹é‡Œåˆ‡æ¢æ‰§è¡Œä¸åŒçš„çº¿ç¨‹æ—¶å­˜å‚¨ä¸Žæ¢å¤æ‰§è¡ŒçŠ¶æ€çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹åœ¨ç¼–å†™å¤šä»»åŠ¡åº”ç”¨æ—¶å¾ˆæ™®éï¼Œä½†ä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„å¼€é”€ã€‚ Concurrency vs Parallelism å¹¶å‘ä¸Žå¹¶è¡Œå¹¶å‘å’Œå¹¶è¡Œé€šå¸¸è¢«ä¸€èµ·æåˆ°ï¼Œæ‰€ä»¥å€¼å¾—èŠ±äº›æ—¶é—´è§£é‡Šå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚ å¹¶å‘ä»£ç çš„ä¸åŒéƒ¨åˆ†å¯ä»¥â€œåŒæ­¥â€æ‰§è¡Œã€‚ç„¶è€Œï¼Œè¯¥æ€Žæ ·å‘ç”Ÿæˆ–æ˜¯å¦å‘ç”Ÿéƒ½å–å†³äºŽç³»ç»Ÿã€‚å¤šæ ¸è®¾å¤‡é€šè¿‡å¹¶è¡Œæ¥åŒæ—¶æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼›ç„¶è€Œï¼Œä¸ºäº†ä½¿å•æ ¸è®¾å¤‡ä¹Ÿèƒ½å®žçŽ°è¿™ä¸€ç‚¹ï¼Œå®ƒä»¬å¿…é¡»å…ˆè¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰§è¡Œä¸€ä¸ªä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œç„¶åŽè¿è¡Œå¦ä¸€ä¸ªçº¿ç¨‹æˆ–è¿›ç¨‹ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ°è¶³å¤Ÿå¿«ä»¥è‡´ç»™æˆ‘ä»¬å¹¶å‘æ‰§è¡Œåœ°é”™è§‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è™½ç„¶ä½ å¯ä»¥ç¼–å†™ä»£ç åœ¨ GCD ä¸‹å¹¶å‘æ‰§è¡Œï¼Œä½† GCD ä¼šå†³å®šæœ‰å¤šå°‘å¹¶è¡Œçš„éœ€æ±‚ã€‚å¹¶è¡Œ_è¦æ±‚å¹¶å‘ï¼Œä½†å¹¶å‘å¹¶ä¸èƒ½ä¿è¯_å¹¶è¡Œã€‚ æ›´æ·±å…¥çš„è§‚ç‚¹æ˜¯å¹¶å‘å®žé™…ä¸Šæ˜¯å…³äºŽ_æž„é€ _ã€‚å½“ä½ åœ¨è„‘æµ·ä¸­ç”¨ GCD ç¼–å†™ä»£ç ï¼Œä½ ç»„ç»‡ä½ çš„ä»£ç æ¥æš´éœ²èƒ½åŒæ—¶è¿è¡Œçš„å¤šä¸ªå·¥ä½œç‰‡æ®µï¼Œä»¥åŠä¸èƒ½åŒæ—¶è¿è¡Œçš„é‚£äº›ã€‚å¦‚æžœä½ æƒ³æ·±å…¥æ­¤ä¸»é¢˜ï¼Œçœ‹çœ‹ è¿™ä¸ªç”±Rob Pikeåšçš„ç²¾å½©çš„è®²åº§ ã€‚ Queues é˜Ÿåˆ—GCD æä¾›æœ‰ dispatch queues æ¥å¤„ç†ä»£ç å—ï¼Œè¿™äº›é˜Ÿåˆ—ç®¡ç†ä½ æä¾›ç»™ GCD çš„ä»»åŠ¡å¹¶ç”¨ FIFO é¡ºåºæ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚è¿™å°±ä¿è¯äº†ç¬¬ä¸€ä¸ªè¢«æ·»åŠ åˆ°é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ä¼šæ˜¯é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå¼€å§‹çš„ä»»åŠ¡ï¼Œè€Œç¬¬äºŒä¸ªè¢«æ·»åŠ çš„ä»»åŠ¡å°†ç¬¬äºŒä¸ªå¼€å§‹ï¼Œå¦‚æ­¤ç›´åˆ°é˜Ÿåˆ—çš„ç»ˆç‚¹ã€‚ æ‰€æœ‰çš„è°ƒåº¦é˜Ÿåˆ—ï¼ˆdispatch queuesï¼‰è‡ªèº«éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½ èƒ½ä»Žå¤šä¸ªçº¿ç¨‹å¹¶è¡Œçš„è®¿é—®å®ƒä»¬ã€‚å½“ä½ äº†è§£äº†è°ƒåº¦é˜Ÿåˆ—å¦‚ä½•ä¸ºä½ è‡ªå·±ä»£ç çš„ä¸åŒéƒ¨åˆ†æä¾›çº¿ç¨‹å®‰å…¨åŽï¼ŒGCDçš„ä¼˜ç‚¹å°±æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚å…³äºŽè¿™ä¸€ç‚¹çš„å…³é”®æ˜¯é€‰æ‹©æ­£ç¡®_ç±»åž‹çš„è°ƒåº¦é˜Ÿåˆ—å’Œæ­£ç¡®çš„è°ƒåº¦å‡½æ•°_æ¥æäº¤ä½ çš„å·¥ä½œã€‚ åœ¨æœ¬èŠ‚ä½ ä¼šçœ‹åˆ°ä¸¤ç§è°ƒåº¦é˜Ÿåˆ—ï¼Œéƒ½æ˜¯ç”± GCD æä¾›çš„ï¼Œç„¶åŽçœ‹ä¸€äº›æè¿°å¦‚ä½•ç”¨è°ƒåº¦å‡½æ•°æ·»åŠ å·¥ä½œåˆ°é˜Ÿåˆ—çš„ä¾‹å­ã€‚ Serial Queues ä¸²è¡Œé˜Ÿåˆ—ä¸²è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸€æ¬¡æ‰§è¡Œä¸€ä¸ªï¼Œæ¯ä¸ªä»»åŠ¡åªåœ¨å‰ä¸€ä¸ªä»»åŠ¡å®Œæˆæ—¶æ‰å¼€å§‹ã€‚è€Œä¸”ï¼Œä½ ä¸çŸ¥é“åœ¨ä¸€ä¸ª Block ç»“æŸå’Œä¸‹ä¸€ä¸ªå¼€å§‹ä¹‹é—´çš„æ—¶é—´é•¿åº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™äº›ä»»åŠ¡çš„æ‰§è¡Œæ—¶æœºå—åˆ° GCD çš„æŽ§åˆ¶ï¼›å”¯ä¸€èƒ½ç¡®ä¿çš„äº‹æƒ…æ˜¯ GCD ä¸€æ¬¡åªæ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸”æŒ‰ç…§æˆ‘ä»¬æ·»åŠ åˆ°é˜Ÿåˆ—çš„é¡ºåºæ¥æ‰§è¡Œã€‚ ç”±äºŽåœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ä¸ä¼šæœ‰ä¸¤ä¸ªä»»åŠ¡å¹¶å‘è¿è¡Œï¼Œå› æ­¤ä¸ä¼šå‡ºçŽ°åŒæ—¶è®¿é—®ä¸´ç•ŒåŒºçš„é£Žé™©ï¼›ç›¸å¯¹äºŽè¿™äº›ä»»åŠ¡æ¥è¯´ï¼Œè¿™å°±ä»Žç«žæ€æ¡ä»¶ä¸‹ä¿æŠ¤äº†ä¸´ç•ŒåŒºã€‚æ‰€ä»¥å¦‚æžœè®¿é—®ä¸´ç•ŒåŒºçš„å”¯ä¸€æ–¹å¼æ˜¯é€šè¿‡æäº¤åˆ°è°ƒåº¦é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆä½ å°±ä¸éœ€è¦æ‹…å¿ƒä¸´ç•ŒåŒºçš„å®‰å…¨é—®é¢˜äº†ã€‚ Concurrent Queues å¹¶å‘é˜Ÿåˆ—åœ¨å¹¶å‘é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡èƒ½å¾—åˆ°çš„ä¿è¯æ˜¯å®ƒä»¬ä¼šæŒ‰ç…§è¢«æ·»åŠ çš„é¡ºåºå¼€å§‹æ‰§è¡Œï¼Œä½†è¿™å°±æ˜¯å…¨éƒ¨çš„ä¿è¯äº†ã€‚ä»»åŠ¡å¯èƒ½ä»¥ä»»æ„é¡ºåºå®Œæˆï¼Œä½ ä¸ä¼šçŸ¥é“ä½•æ—¶å¼€å§‹è¿è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…ä»»æ„æ—¶åˆ»æœ‰å¤šå°‘ Block åœ¨è¿è¡Œã€‚å†è¯´ä¸€éï¼Œè¿™å®Œå…¨å–å†³äºŽ GCD ã€‚ ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ä»»åŠ¡æ‰§è¡Œè®¡åˆ’ï¼ŒGCD ç®¡ç†ç€å››ä¸ªå¹¶å‘ä»»åŠ¡ï¼š æ³¨æ„ Block 1,2 å’Œ 3 éƒ½ç«‹é©¬å¼€å§‹è¿è¡Œï¼Œä¸€ä¸ªæŽ¥ä¸€ä¸ªã€‚åœ¨ Block 0 å¼€å§‹åŽï¼ŒBlock 1ç­‰å¾…äº†å¥½ä¸€ä¼šå„¿æ‰å¼€å§‹ã€‚åŒæ ·ï¼Œ Block 3 åœ¨ Block 2 ä¹‹åŽæ‰å¼€å§‹ï¼Œä½†å®ƒå…ˆäºŽ Block 2 å®Œæˆã€‚ ä½•æ—¶å¼€å§‹ä¸€ä¸ª Block å®Œå…¨å–å†³äºŽ GCD ã€‚å¦‚æžœä¸€ä¸ª Block çš„æ‰§è¡Œæ—¶é—´ä¸Žå¦ä¸€ä¸ªé‡å ï¼Œä¹Ÿæ˜¯ç”± GCD æ¥å†³å®šæ˜¯å¦å°†å…¶è¿è¡Œåœ¨å¦ä¸€ä¸ªä¸åŒçš„æ ¸å¿ƒä¸Šï¼Œå¦‚æžœé‚£ä¸ªæ ¸å¿ƒå¯ç”¨ï¼Œå¦åˆ™å°±ç”¨ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ–¹å¼æ¥æ‰§è¡Œä¸åŒçš„ Block ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œ GCD æä¾›ç»™ä½ è‡³å°‘äº”ä¸ªç‰¹å®šçš„é˜Ÿåˆ—ï¼Œå¯æ ¹æ®é˜Ÿåˆ—ç±»åž‹é€‰æ‹©ä½¿ç”¨ã€‚ Queue Types é˜Ÿåˆ—ç±»åž‹é¦–å…ˆï¼Œç³»ç»Ÿæä¾›ç»™ä½ ä¸€ä¸ªå«åš ä¸»é˜Ÿåˆ—ï¼ˆmain queueï¼‰ çš„ç‰¹æ®Šé˜Ÿåˆ—ã€‚å’Œå…¶å®ƒä¸²è¡Œé˜Ÿåˆ—ä¸€æ ·ï¼Œè¿™ä¸ªé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªã€‚ç„¶è€Œï¼Œå®ƒèƒ½ä¿è¯æ‰€æœ‰çš„ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œè€Œä¸»çº¿ç¨‹æ˜¯å”¯ä¸€å¯ç”¨äºŽæ›´æ–° UI çš„çº¿ç¨‹ã€‚è¿™ä¸ªé˜Ÿåˆ—å°±æ˜¯ç”¨äºŽå‘ç”Ÿæ¶ˆæ¯ç»™ UIView æˆ–å‘é€é€šçŸ¥çš„ã€‚ ç³»ç»ŸåŒæ—¶æä¾›ç»™ä½ å¥½å‡ ä¸ªå¹¶å‘é˜Ÿåˆ—ã€‚å®ƒä»¬å«åš å…¨å±€è°ƒåº¦é˜Ÿåˆ—ï¼ˆGlobal Dispatch Queuesï¼‰ ã€‚ç›®å‰çš„å››ä¸ªå…¨å±€é˜Ÿåˆ—æœ‰ç€ä¸åŒçš„ä¼˜å…ˆçº§ï¼šbackgroundã€lowã€default ä»¥åŠ highã€‚è¦çŸ¥é“ï¼ŒApple çš„ API ä¹Ÿä¼šä½¿ç”¨è¿™äº›é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä½ æ·»åŠ çš„ä»»ä½•ä»»åŠ¡éƒ½ä¸ä¼šæ˜¯è¿™äº›é˜Ÿåˆ—ä¸­å”¯ä¸€çš„ä»»åŠ¡ã€‚ æœ€åŽï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„ä¸²è¡Œé˜Ÿåˆ—æˆ–å¹¶å‘é˜Ÿåˆ—ã€‚è¿™å°±æ˜¯è¯´ï¼Œè‡³å°‘æœ‰_äº”ä¸ª_é˜Ÿåˆ—ä»»ä½ å¤„ç½®ï¼šä¸»é˜Ÿåˆ—ã€å››ä¸ªå…¨å±€è°ƒåº¦é˜Ÿåˆ—ï¼Œå†åŠ ä¸Šä»»ä½•ä½ è‡ªå·±åˆ›å»ºçš„é˜Ÿåˆ—ã€‚ ä»¥ä¸Šæ˜¯è°ƒåº¦é˜Ÿåˆ—çš„å¤§æ¡†æž¶ï¼ GCD çš„â€œè‰ºæœ¯â€å½’ç»“ä¸ºé€‰æ‹©åˆé€‚çš„é˜Ÿåˆ—æ¥è°ƒåº¦å‡½æ•°ä»¥æäº¤ä½ çš„å·¥ä½œã€‚ä½“éªŒè¿™ä¸€ç‚¹çš„æœ€å¥½æ–¹å¼æ˜¯èµ°ä¸€éä¸‹è¾¹çš„åˆ—å­ï¼Œæˆ‘ä»¬æ²¿é€”ä¼šæä¾›ä¸€äº›ä¸€èˆ¬æ€§çš„å»ºè®®ã€‚ å…¥é—¨æ—¢ç„¶æœ¬æ•™ç¨‹çš„ç›®æ ‡æ˜¯ä¼˜åŒ–ä¸”å®‰å…¨çš„ä½¿ç”¨ GCD è°ƒç”¨æ¥è‡ªä¸åŒçº¿ç¨‹çš„ä»£ç ï¼Œé‚£ä¹ˆä½ å°†ä»Žä¸€ä¸ªè¿‘ä¹Žå®Œæˆçš„å«åš GooglyPuff çš„é¡¹ç›®å…¥æ‰‹ã€‚ GooglyPuff æ˜¯ä¸€ä¸ªæ²¡æœ‰ä¼˜åŒ–ï¼Œçº¿ç¨‹ä¸å®‰å…¨çš„åº”ç”¨ï¼Œå®ƒä½¿ç”¨ Core Image çš„äººè„¸æ£€æµ‹ API æ¥è¦†ç›–ä¸€å¯¹æ›²æ£çƒçœ¼ç›åˆ°è¢«æ£€æµ‹åˆ°çš„äººè„¸ä¸Šã€‚å¯¹äºŽåŸºæœ¬çš„å›¾åƒï¼Œå¯ä»¥ä»Žç›¸æœºèƒ¶å·é€‰æ‹©ï¼Œæˆ–ç”¨é¢„è®¾å¥½çš„URLä»Žäº’è”ç½‘ä¸‹è½½ã€‚ ç‚¹å‡»æ­¤å¤„ä¸‹è½½é¡¹ç›® å®Œæˆé¡¹ç›®ä¸‹è½½ä¹‹åŽï¼Œå°†å…¶è§£åŽ‹åˆ°æŸä¸ªæ–¹ä¾¿çš„ç›®å½•ï¼Œå†ç”¨ Xcode æ‰“å¼€å®ƒå¹¶ç¼–è¯‘è¿è¡Œã€‚è¿™ä¸ªåº”ç”¨çœ‹èµ·æ¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ³¨æ„å½“ä½ é€‰æ‹© Le Internet é€‰é¡¹ä¸‹è½½å›¾ç‰‡æ—¶ï¼Œä¸€ä¸ª UIAlertView è¿‡æ—©åœ°å¼¹å‡ºã€‚ä½ å°†åœ¨æœ¬ç³»åˆ—æ•™ç¨‹åœ°ç¬¬äºŒéƒ¨åˆ†ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚ è¿™ä¸ªé¡¹ç›®ä¸­æœ‰å››ä¸ªæœ‰è¶£çš„ç±»ï¼š PhotoCollectionViewControllerï¼šå®ƒæ˜¯åº”ç”¨å¼€å§‹çš„ç¬¬ä¸€ä¸ªè§†å›¾æŽ§åˆ¶å™¨ã€‚å®ƒç”¨ç¼©ç•¥å›¾å±•ç¤ºæ‰€æœ‰é€‰å®šçš„ç…§ç‰‡ã€‚ PhotoDetailViewControllerï¼šå®ƒæ‰§è¡Œæ·»åŠ æ›²æ£çƒçœ¼ç›åˆ°å›¾åƒä¸Šçš„é€»è¾‘ï¼Œå¹¶ç”¨ä¸€ä¸ª UIScrollView æ¥æ˜¾ç¤ºç»“æžœå›¾ç‰‡ã€‚ Photoï¼šè¿™æ˜¯ä¸€ä¸ªç±»ç°‡ï¼Œå®ƒæ ¹æ®ä¸€ä¸ª NSURL çš„å®žä¾‹æˆ–ä¸€ä¸ª ALAsset çš„å®žä¾‹æ¥å®žä¾‹åŒ–ç…§ç‰‡ã€‚è¿™ä¸ªç±»æä¾›ä¸€ä¸ªå›¾åƒã€ç¼©ç•¥å›¾ä»¥åŠä»Ž URL ä¸‹è½½çš„çŠ¶æ€ã€‚ PhotoManagerï¼šå®ƒç®¡ç†æ‰€æœ‰ Photo çš„å®žä¾‹. ç”¨ dispatch_async å¤„ç†åŽå°ä»»åŠ¡å›žåˆ°åº”ç”¨å¹¶ä»Žä½ çš„ç›¸æœºèƒ¶å·æ·»åŠ ä¸€äº›ç…§ç‰‡æˆ–ä½¿ç”¨ Le Internet é€‰é¡¹ä¸‹è½½ä¸€äº›ã€‚ æ³¨æ„åœ¨æŒ‰ä¸‹ PhotoCollectionViewController ä¸­çš„ä¸€ä¸ª UICollectionViewCell åˆ°ç”Ÿæˆä¸€ä¸ªæ–°çš„ PhotoDetailViewController ä¹‹é—´èŠ±äº†å¤šä¹…æ—¶é—´ï¼›ä½ ä¼šæ³¨æ„åˆ°ä¸€ä¸ªæ˜Žæ˜¾çš„æ»žåŽï¼Œç‰¹åˆ«æ˜¯åœ¨æ¯”è¾ƒæ…¢çš„è®¾å¤‡ä¸ŠæŸ¥çœ‹å¾ˆå¤§çš„å›¾ã€‚ åœ¨é‡è½½ UIViewController çš„ viewDidLoad æ—¶å®¹æ˜“åŠ å…¥å¤ªå¤šæ‚ä¹±çš„å·¥ä½œï¼ˆtoo much clutterï¼‰ï¼Œè¿™é€šå¸¸ä¼šå¼•èµ·è§†å›¾æŽ§åˆ¶å™¨å‡ºçŽ°å‰æ›´é•¿çš„ç­‰å¾…ã€‚å¦‚æžœå¯èƒ½ï¼Œæœ€å¥½æ˜¯å¸ä¸‹ä¸€äº›å·¥ä½œæ”¾åˆ°åŽå°ï¼Œå¦‚æžœå®ƒä»¬ä¸æ˜¯ç»å¯¹å¿…é¡»è¦è¿è¡Œåœ¨åŠ è½½æ—¶é—´é‡Œã€‚ è¿™å¬èµ·æ¥åƒæ˜¯ dispatch_async èƒ½åšçš„äº‹æƒ…ï¼ æ‰“å¼€ PhotoDetailViewController å¹¶ç”¨ä¸‹é¢çš„å®žçŽ°æ›¿æ¢ viewDidLoad ï¼š 12345678910111213141516171819- (void)viewDidLoad&#123; [super viewDidLoad]; NSAssert(_image, @&quot;Image not set; required to use view controller&quot;); self.photoImageView.image = _image; //Resize if neccessary to ensure it&apos;s not pixelated if (_image.size.height &lt;= self.photoImageView.bounds.size.height &amp;&amp; _image.size.width &lt;= self.photoImageView.bounds.size.width) &#123; [self.photoImageView setContentMode:UIViewContentModeCenter]; &#125; dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123; // 1 UIImage *overlayImage = [self faceOverlayImageFromImage:_image]; dispatch_async(dispatch_get_main_queue(), ^&#123; // 2 [self fadeInNewImage:overlayImage]; // 3 &#125;); &#125;);&#125; ä¸‹é¢æ¥è¯´æ˜Žä¸Šé¢çš„æ–°ä»£ç æ‰€åšçš„äº‹ï¼š ä½ é¦–å…ˆå°†å·¥ä½œä»Žä¸»çº¿ç¨‹ç§»åˆ°å…¨å±€çº¿ç¨‹ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ª dispatch_async() ï¼ŒBlock ä¼šè¢«å¼‚æ­¥åœ°æäº¤ï¼Œæ„å‘³ç€è°ƒç”¨çº¿ç¨‹åœ°æ‰§è¡Œå°†ä¼šç»§ç»­ã€‚è¿™å°±ä½¿å¾— viewDidLoad æ›´æ—©åœ°åœ¨ä¸»çº¿ç¨‹å®Œæˆï¼Œè®©åŠ è½½è¿‡ç¨‹æ„Ÿè§‰èµ·æ¥æ›´åŠ å¿«é€Ÿã€‚åŒæ—¶ï¼Œä¸€ä¸ªäººè„¸æ£€æµ‹è¿‡ç¨‹ä¼šå¯åŠ¨å¹¶å°†åœ¨ç¨åŽå®Œæˆã€‚ åœ¨è¿™é‡Œï¼Œäººè„¸æ£€æµ‹è¿‡ç¨‹å®Œæˆï¼Œå¹¶ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„å›¾åƒã€‚æ—¢ç„¶ä½ è¦ä½¿ç”¨æ­¤æ–°å›¾åƒæ›´æ–°ä½ çš„ UIImageView ï¼Œé‚£ä¹ˆä½ å°±æ·»åŠ ä¸€ä¸ªæ–°çš„ Block åˆ°ä¸»çº¿ç¨‹ã€‚è®°ä½â€”â€”ä½ å¿…é¡»æ€»æ˜¯åœ¨ä¸»çº¿ç¨‹è®¿é—® UIKit çš„ç±»ã€‚ æœ€åŽï¼Œä½ ç”¨ fadeInNewImage: æ›´æ–° UI ï¼Œå®ƒæ‰§è¡Œä¸€ä¸ªæ·¡å…¥è¿‡ç¨‹åˆ‡æ¢åˆ°æ–°çš„æ›²æ£çƒçœ¼ç›å›¾åƒã€‚ ç¼–è¯‘å¹¶è¿è¡Œä½ çš„åº”ç”¨ï¼›é€‰æ‹©ä¸€ä¸ªå›¾åƒç„¶åŽä½ ä¼šæ³¨æ„åˆ°è§†å›¾æŽ§åˆ¶å™¨åŠ è½½æ˜Žæ˜¾å˜å¿«ï¼Œæ›²æ£çƒçœ¼ç›ç¨å¾®åœ¨ä¹‹åŽå°±åŠ ä¸Šäº†ã€‚è¿™ç»™åº”ç”¨å¸¦æ¥äº†ä¸é”™çš„æ•ˆæžœï¼Œå’Œä¹‹å‰çš„æ˜¾ç¤ºå·®åˆ«å·¨å¤§ã€‚ è¿›ä¸€æ­¥ï¼Œå¦‚æžœä½ è¯•ç€åŠ è½½ä¸€ä¸ªè¶…å¤§çš„å›¾åƒï¼Œåº”ç”¨ä¸ä¼šåœ¨åŠ è½½è§†å›¾æŽ§åˆ¶å™¨ä¸Šâ€œæŒ‚ä½â€ï¼Œè¿™å°±ä½¿å¾—åº”ç”¨å…·æœ‰å¾ˆå¥½ä¼¸ç¼©æ€§ã€‚ æ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œ dispatch_async æ·»åŠ ä¸€ä¸ª Block åˆ°é˜Ÿåˆ—å°±ç«‹å³è¿”å›žäº†ã€‚ä»»åŠ¡ä¼šåœ¨ä¹‹åŽç”± GCD å†³å®šæ‰§è¡Œã€‚å½“ä½ éœ€è¦åœ¨åŽå°æ‰§è¡Œä¸€ä¸ªåŸºäºŽç½‘ç»œæˆ– CPU ç´§å¼ çš„ä»»åŠ¡æ—¶å°±ä½¿ç”¨ dispatch_async ï¼Œè¿™æ ·å°±ä¸ä¼šé˜»å¡žå½“å‰çº¿ç¨‹ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå…³äºŽåœ¨ dispatch_async ä¸Šå¦‚ä½•ä»¥åŠä½•æ—¶ä½¿ç”¨ä¸åŒçš„é˜Ÿåˆ—ç±»åž‹çš„å¿«é€ŸæŒ‡å¯¼ï¼š è‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ï¼šå½“ä½ æƒ³ä¸²è¡Œæ‰§è¡ŒåŽå°ä»»åŠ¡å¹¶è¿½è¸ªå®ƒæ—¶å°±æ˜¯ä¸€ä¸ªå¥½é€‰æ‹©ã€‚è¿™æ¶ˆé™¤äº†èµ„æºäº‰ç”¨ï¼Œå› ä¸ºä½ çŸ¥é“ä¸€æ¬¡åªæœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œã€‚æ³¨æ„è‹¥ä½ éœ€è¦æ¥è‡ªæŸä¸ªæ–¹æ³•çš„æ•°æ®ï¼Œä½ å¿…é¡»å†…è”å¦ä¸€ä¸ª Block æ¥æ‰¾å›žå®ƒæˆ–è€ƒè™‘ä½¿ç”¨ dispatch_syncã€‚ ä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰ï¼šè¿™æ˜¯åœ¨ä¸€ä¸ªå¹¶å‘é˜Ÿåˆ—ä¸Šå®Œæˆä»»åŠ¡åŽæ›´æ–° UI çš„å…±åŒé€‰æ‹©ã€‚è¦è¿™æ ·åšï¼Œä½ å°†åœ¨ä¸€ä¸ª Block å†…éƒ¨ç¼–å†™å¦ä¸€ä¸ª Block ã€‚ä»¥åŠï¼Œå¦‚æžœä½ åœ¨ä¸»é˜Ÿåˆ—è°ƒç”¨ dispatch_async åˆ°ä¸»é˜Ÿåˆ—ï¼Œä½ èƒ½ç¡®ä¿è¿™ä¸ªæ–°ä»»åŠ¡å°†åœ¨å½“å‰æ–¹æ³•å®ŒæˆåŽçš„æŸä¸ªæ—¶é—´æ‰§è¡Œã€‚ å¹¶å‘é˜Ÿåˆ—ï¼šè¿™æ˜¯åœ¨åŽå°æ‰§è¡Œéž UI å·¥ä½œçš„å…±åŒé€‰æ‹©ã€‚ ä½¿ç”¨ dispatch_after å»¶åŽå·¥ä½œç¨å¾®è€ƒè™‘ä¸€ä¸‹åº”ç”¨çš„ UX ã€‚æ˜¯å¦ç”¨æˆ·ç¬¬ä¸€æ¬¡æ‰“å¼€åº”ç”¨æ—¶ä¼šå›°æƒ‘äºŽä¸çŸ¥é“åšä»€ä¹ˆï¼Ÿä½ æ˜¯è¿™æ ·å—ï¼Ÿ :] å¦‚æžœç”¨æˆ·çš„ PhotoManager é‡Œè¿˜æ²¡æœ‰ä»»ä½•ç…§ç‰‡ï¼Œé‚£ä¹ˆæ˜¾ç¤ºä¸€ä¸ªæç¤ºä¼šæ˜¯ä¸ªå¥½ä¸»æ„ï¼ç„¶è€Œï¼Œä½ åŒæ ·è¦è€ƒè™‘ç”¨æˆ·çš„çœ¼ç›ä¼šå¦‚ä½•åœ¨ä¸»å±å¹•ä¸Šæµè§ˆï¼šå¦‚æžœä½ å¤ªå¿«çš„æ˜¾ç¤ºä¸€ä¸ªæç¤ºï¼Œä»–ä»¬çš„çœ¼ç›è¿˜å¾˜å¾Šåœ¨è§†å›¾çš„å…¶å®ƒéƒ¨åˆ†ä¸Šï¼Œä»–ä»¬å¾ˆå¯èƒ½ä¼šé”™è¿‡å®ƒã€‚ æ˜¾ç¤ºæç¤ºä¹‹å‰å»¶è¿Ÿä¸€ç§’é’Ÿå°±è¶³å¤Ÿæ•æ‰åˆ°ç”¨æˆ·çš„æ³¨æ„ï¼Œä»–ä»¬æ­¤æ—¶å·²ç»ç¬¬ä¸€æ¬¡çœ‹è¿‡äº†åº”ç”¨ã€‚ æ·»åŠ å¦‚ä¸‹ä»£ç åˆ°åˆ° PhotoCollectionViewController.m ä¸­ showOrHideNavPrompt çš„åºŸæ­¢å®žçŽ°é‡Œï¼š 12345678910111213- (void)showOrHideNavPrompt&#123; NSUInteger count = [[PhotoManager sharedManager] photos].count; double delayInSeconds = 1.0; dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC)); // 1 dispatch_after(popTime, dispatch_get_main_queue(), ^(void)&#123; // 2 if (!count) &#123; [self.navigationItem setPrompt:@&quot;Add photos with faces to Googlyify them!&quot;]; &#125; else &#123; [self.navigationItem setPrompt:nil]; &#125; &#125;);&#125; showOrHideNavPrompt åœ¨ viewDidLoad ä¸­æ‰§è¡Œï¼Œä»¥åŠ UICollectionView è¢«é‡æ–°åŠ è½½çš„ä»»ä½•æ—¶å€™ã€‚æŒ‰ç…§æ³¨é‡Šæ•°å­—é¡ºåºçœ‹çœ‹ï¼š ä½ å£°æ˜Žäº†ä¸€ä¸ªå˜é‡æŒ‡å®šè¦å»¶è¿Ÿçš„æ—¶é•¿ã€‚ ç„¶åŽç­‰å¾… delayInSeconds ç»™å®šçš„æ—¶é•¿ï¼Œå†å¼‚æ­¥åœ°æ·»åŠ ä¸€ä¸ª Block åˆ°ä¸»çº¿ç¨‹ã€‚ ç¼–è¯‘å¹¶è¿è¡Œåº”ç”¨ã€‚åº”è¯¥æœ‰ä¸€ä¸ªè½»å¾®åœ°å»¶è¿Ÿï¼Œè¿™æœ‰åŠ©äºŽæŠ“ä½ç”¨æˆ·çš„æ³¨æ„åŠ›å¹¶å±•ç¤ºæ‰€è¦åšçš„äº‹æƒ…ã€‚ dispatch_after å·¥ä½œèµ·æ¥å°±åƒä¸€ä¸ªå»¶è¿Ÿç‰ˆçš„ dispatch_async ã€‚ä½ ä¾ç„¶ä¸èƒ½æŽ§åˆ¶å®žé™…çš„æ‰§è¡Œæ—¶é—´ï¼Œä¸”ä¸€æ—¦ dispatch_after è¿”å›žä¹Ÿå°±ä¸èƒ½å†å–æ¶ˆå®ƒã€‚ ä¸çŸ¥é“ä½•æ—¶é€‚åˆä½¿ç”¨ dispatch_after ï¼Ÿ è‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ï¼šåœ¨ä¸€ä¸ªè‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ä¸Šä½¿ç”¨ dispatch_after è¦å°å¿ƒã€‚ä½ æœ€å¥½åšæŒä½¿ç”¨ä¸»é˜Ÿåˆ—ã€‚ ä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰ï¼šæ˜¯ä½¿ç”¨ dispatch_after çš„å¥½é€‰æ‹©ï¼›Xcode æä¾›äº†ä¸€ä¸ªä¸é”™çš„è‡ªåŠ¨å®Œæˆæ¨¡ç‰ˆã€‚ å¹¶å‘é˜Ÿåˆ—ï¼šåœ¨å¹¶å‘é˜Ÿåˆ—ä¸Šä½¿ç”¨ dispatch_after ä¹Ÿè¦å°å¿ƒï¼›ä½ ä¼šè¿™æ ·åšå°±æ¯”è¾ƒç½•è§ã€‚è¿˜æ˜¯åœ¨ä¸»é˜Ÿåˆ—åšè¿™äº›æ“ä½œå§ã€‚ è®©ä½ çš„å•ä¾‹çº¿ç¨‹å®‰å…¨å•ä¾‹ï¼Œä¸è®ºå–œæ¬¢è¿˜æ˜¯è®¨åŽŒï¼Œå®ƒä»¬åœ¨ iOS ä¸Šçš„æµè¡Œæƒ…å†µå°±åƒç½‘ä¸Šçš„çŒ«ã€‚ :] ä¸€ä¸ªå¸¸è§çš„æ‹…å¿§æ˜¯å®ƒä»¬å¸¸å¸¸ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™ä¸ªæ‹…å¿§ååˆ†åˆç†ï¼ŒåŸºäºŽå®ƒä»¬çš„ç”¨é€”ï¼šå•ä¾‹å¸¸å¸¸è¢«å¤šä¸ªæŽ§åˆ¶å™¨åŒæ—¶è®¿é—®ã€‚ å•ä¾‹çš„çº¿ç¨‹æ‹…å¿§èŒƒå›´ä»Žåˆå§‹åŒ–å¼€å§‹ï¼Œåˆ°ä¿¡æ¯çš„è¯»å’Œå†™ã€‚PhotoManager ç±»è¢«å®žçŽ°ä¸ºå•ä¾‹â€”â€”å®ƒåœ¨ç›®å‰çš„çŠ¶æ€ä¸‹å°±ä¼šè¢«è¿™äº›é—®é¢˜æ‰€å›°æ‰°ã€‚è¦çœ‹çœ‹äº‹æƒ…å¦‚ä½•å¾ˆå¿«åœ°å¤±åŽ»æŽ§åˆ¶ï¼Œä½ å°†åœ¨å•ä¾‹å®žä¾‹ä¸Šåˆ›å»ºä¸€ä¸ªæŽ§åˆ¶å¥½çš„ç«žæ€æ¡ä»¶ã€‚ å¯¼èˆªåˆ° PhotoManager.m å¹¶æ‰¾åˆ° sharedManager ï¼›å®ƒçœ‹èµ·æ¥å¦‚ä¸‹ï¼š 123456789+ (instancetype)sharedManager &#123; static PhotoManager *sharedPhotoManager = nil; if (!sharedPhotoManager) &#123; sharedPhotoManager = [[PhotoManager alloc] init]; sharedPhotoManager-&gt;_photosArray = [NSMutableArray array]; &#125; return sharedPhotoManager;&#125; å½“å‰çŠ¶æ€ä¸‹ï¼Œä»£ç ç›¸å½“ç®€å•ï¼›ä½ åˆ›å»ºäº†ä¸€ä¸ªå•ä¾‹å¹¶åˆå§‹åŒ–ä¸€ä¸ªå«åš photosArray çš„ NSMutableArray å±žæ€§ã€‚ ç„¶è€Œï¼Œif æ¡ä»¶åˆ†æ”¯ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›å¦‚æžœä½ å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæœ‰ä¸€ä¸ªå¯èƒ½æ€§æ˜¯åœ¨æŸä¸ªçº¿ç¨‹ï¼ˆå°±å«å®ƒçº¿ç¨‹Aï¼‰ä¸Šè¿›å…¥ if è¯­å¥å—å¹¶å¯èƒ½åœ¨ sharedPhotoManager è¢«åˆ†é…å†…å­˜å‰å‘ç”Ÿä¸€ä¸ªä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ç„¶åŽå¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆçº¿ç¨‹Bï¼‰å¯èƒ½è¿›å…¥ if ï¼Œåˆ†é…å•ä¾‹å®žä¾‹çš„å†…å­˜ï¼Œç„¶åŽé€€å‡ºã€‚ å½“ç³»ç»Ÿä¸Šä¸‹æ–‡åˆ‡æ¢å›žçº¿ç¨‹Aï¼Œä½ ä¼šåˆ†é…å¦å¤–ä¸€ä¸ªå•ä¾‹å®žä¾‹çš„å†…å­˜ï¼Œç„¶åŽé€€å‡ºã€‚åœ¨é‚£ä¸ªæ—¶é—´ç‚¹ï¼Œä½ æœ‰äº†ä¸¤ä¸ªå•ä¾‹çš„å®žä¾‹â€”â€”å¾ˆæ˜Žæ˜¾è¿™ä¸æ˜¯ä½ æƒ³è¦çš„ï¼ˆè¯‘è€…æ³¨ï¼šè¿™è¿˜èƒ½å«å•ä¾‹å—ï¼Ÿï¼‰ï¼ è¦å¼ºåˆ¶è¿™ä¸ªï¼ˆç«žæ€ï¼‰æ¡ä»¶å‘ç”Ÿï¼Œæ›¿æ¢ PhotoManager.m ä¸­çš„ sharedManager ä¸ºä¸‹é¢çš„å®žçŽ°ï¼š 123456789101112+ (instancetype)sharedManager &#123; static PhotoManager *sharedPhotoManager = nil; if (!sharedPhotoManager) &#123; [NSThread sleepForTimeInterval:2]; sharedPhotoManager = [[PhotoManager alloc] init]; NSLog(@&quot;Singleton has memory address at: %@&quot;, sharedPhotoManager); [NSThread sleepForTimeInterval:2]; sharedPhotoManager-&gt;_photosArray = [NSMutableArray array]; &#125; return sharedPhotoManager;&#125; ä¸Šé¢çš„ä»£ç ä¸­ä½ ç”¨ NSThread çš„ sleepForTimeInterval: ç±»æ–¹æ³•æ¥å¼ºåˆ¶å‘ç”Ÿä¸€ä¸ªä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ æ‰“å¼€ AppDelegate.m å¹¶æ·»åŠ å¦‚ä¸‹ä»£ç åˆ° application:didFinishLaunchingWithOptions: çš„æœ€å¼€å§‹å¤„ï¼š 1234567dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123; [PhotoManager sharedManager];&#125;); dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123; [PhotoManager sharedManager];&#125;); è¿™é‡Œåˆ›å»ºäº†å¤šä¸ªå¼‚æ­¥å¹¶å‘è°ƒç”¨æ¥å®žä¾‹åŒ–å•ä¾‹ï¼Œç„¶åŽå¼•å‘ä¸Šé¢æè¿°çš„ç«žæ€æ¡ä»¶ã€‚ ç¼–è¯‘å¹¶è¿è¡Œé¡¹ç›®ï¼›æŸ¥çœ‹æŽ§åˆ¶å°è¾“å‡ºï¼Œä½ ä¼šçœ‹åˆ°å¤šä¸ªå•ä¾‹è¢«å®žä¾‹åŒ–ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æ³¨æ„åˆ°è¿™é‡Œæœ‰å¥½å‡ è¡Œæ˜¾ç¤ºç€ä¸åŒåœ°å€çš„å•ä¾‹å®žä¾‹ã€‚è¿™æ˜Žæ˜¾è¿èƒŒäº†å•ä¾‹çš„ç›®çš„ï¼Œå¯¹å§ï¼Ÿ:] è¿™ä¸ªè¾“å‡ºå‘ä½ å±•ç¤ºäº†ä¸´ç•ŒåŒºè¢«æ‰§è¡Œå¤šæ¬¡ï¼Œè€Œå®ƒåªåº”è¯¥æ‰§è¡Œä¸€æ¬¡ã€‚çŽ°åœ¨ï¼Œå›ºç„¶æ˜¯ä½ è‡ªå·±å¼ºåˆ¶è¿™æ ·çš„çŠ¶å†µå‘ç”Ÿï¼Œä½†ä½ å¯ä»¥æƒ³åƒä¸€ä¸‹è¿™ä¸ªçŠ¶å†µä¼šæ€Žæ ·åœ¨æ— æ„é—´å‘ç”Ÿã€‚ æ³¨æ„ï¼šåŸºäºŽå…¶å®ƒä½ æ— æ³•æŽ§åˆ¶çš„ç³»ç»Ÿäº‹ä»¶ï¼ŒNSLog çš„æ•°é‡æœ‰æ—¶ä¼šæ˜¾ç¤ºå¤šä¸ªã€‚çº¿ç¨‹é—®é¢˜æžå…¶éš¾ä»¥è°ƒè¯•ï¼Œå› ä¸ºå®ƒä»¬å¾€å¾€éš¾ä»¥é‡çŽ°ã€‚ è¦çº æ­£è¿™ä¸ªçŠ¶å†µï¼Œå®žä¾‹åŒ–ä»£ç åº”è¯¥åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶é˜»å¡žå…¶å®ƒå®žä¾‹åœ¨ if æ¡ä»¶çš„ä¸´ç•ŒåŒºè¿è¡Œã€‚è¿™åˆšå¥½å°±æ˜¯ dispatch_once èƒ½åšçš„äº‹ã€‚ åœ¨å•ä¾‹åˆå§‹åŒ–æ–¹æ³•ä¸­ç”¨ dispatch_once å–ä»£ if æ¡ä»¶åˆ¤æ–­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213+ (instancetype)sharedManager&#123; static PhotoManager *sharedPhotoManager = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; [NSThread sleepForTimeInterval:2]; sharedPhotoManager = [[PhotoManager alloc] init]; NSLog(@&quot;Singleton has memory address at: %@&quot;, sharedPhotoManager); [NSThread sleepForTimeInterval:2]; sharedPhotoManager-&gt;_photosArray = [NSMutableArray array]; &#125;); return sharedPhotoManager;&#125; ç¼–è¯‘å¹¶è¿è¡Œä½ çš„åº”ç”¨ï¼›æŸ¥çœ‹æŽ§åˆ¶å°è¾“å‡ºï¼Œä½ ä¼šçœ‹åˆ°æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå•ä¾‹çš„å®žä¾‹â€”â€”è¿™å°±æ˜¯ä½ å¯¹å•ä¾‹çš„æœŸæœ›ï¼:] çŽ°åœ¨ä½ å·²ç»æ˜Žç™½äº†é˜²æ­¢ç«žæ€æ¡ä»¶çš„é‡è¦æ€§ï¼Œä»Ž AppDelegate.m ä¸­ç§»é™¤ dispatch_async è¯­å¥ï¼Œå¹¶ç”¨ä¸‹é¢çš„å®žçŽ°æ›¿æ¢ PhotoManager å•ä¾‹çš„åˆå§‹åŒ–ï¼š 12345678910+ (instancetype)sharedManager&#123; static PhotoManager *sharedPhotoManager = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; sharedPhotoManager = [[PhotoManager alloc] init]; sharedPhotoManager-&gt;_photosArray = [NSMutableArray array]; &#125;); return sharedPhotoManager;&#125; dispatch_once() ä»¥çº¿ç¨‹å®‰å…¨çš„æ–¹å¼æ‰§è¡Œä¸”ä»…æ‰§è¡Œå…¶ä»£ç å—ä¸€æ¬¡ã€‚è¯•å›¾è®¿é—®ä¸´ç•ŒåŒºï¼ˆå³ä¼ é€’ç»™ dispatch_once çš„ä»£ç ï¼‰çš„ä¸åŒçš„çº¿ç¨‹ä¼šåœ¨ä¸´ç•ŒåŒºå·²æœ‰ä¸€ä¸ªçº¿ç¨‹çš„æƒ…å†µä¸‹è¢«é˜»å¡žï¼Œç›´åˆ°ä¸´ç•ŒåŒºå®Œæˆä¸ºæ­¢ã€‚ éœ€è¦è®°ä½çš„æ˜¯ï¼Œè¿™åªæ˜¯è®©è®¿é—®å…±äº«å®žä¾‹çº¿ç¨‹å®‰å…¨ã€‚å®ƒç»å¯¹æ²¡æœ‰è®©ç±»æœ¬èº«çº¿ç¨‹å®‰å…¨ã€‚ç±»ä¸­å¯èƒ½è¿˜æœ‰å…¶å®ƒç«žæ€æ¡ä»¶ï¼Œä¾‹å¦‚ä»»ä½•æ“çºµå†…éƒ¨æ•°æ®çš„æƒ…å†µã€‚è¿™äº›éœ€è¦ç”¨å…¶å®ƒæ–¹å¼æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¾‹å¦‚åŒæ­¥è®¿é—®æ•°æ®ï¼Œä½ å°†åœ¨ä¸‹é¢å‡ ä¸ªå°èŠ‚çœ‹åˆ°ã€‚ å¤„ç†è¯»è€…ä¸Žå†™è€…é—®é¢˜çº¿ç¨‹å®‰å…¨å®žä¾‹ä¸æ˜¯å¤„ç†å•ä¾‹æ—¶çš„å”¯ä¸€é—®é¢˜ã€‚å¦‚æžœå•ä¾‹å±žæ€§è¡¨ç¤ºä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦è€ƒè™‘æ˜¯å¦é‚£ä¸ªå¯¹è±¡è‡ªèº«çº¿ç¨‹å®‰å…¨ã€‚ å¦‚æžœé—®é¢˜ä¸­çš„è¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ª Foundation å®¹å™¨ç±»ï¼Œé‚£ä¹ˆç­”æ¡ˆæ˜¯â€”â€”â€œå¾ˆå¯èƒ½ä¸å®‰å…¨â€ï¼Apple ç»´æŠ¤ä¸€ä¸ªæœ‰ç”¨ä¸”æœ‰äº›å¿ƒå¯’çš„åˆ—è¡¨ï¼Œä¼—å¤šçš„ Foundation ç±»éƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ NSMutableArrayï¼Œå·²ç”¨äºŽä½ çš„å•ä¾‹ï¼Œæ­£åœ¨é‚£ä¸ªåˆ—è¡¨é‡Œä¼‘æ¯ã€‚ è™½ç„¶è®¸å¤šçº¿ç¨‹å¯ä»¥åŒæ—¶è¯»å– NSMutableArray çš„ä¸€ä¸ªå®žä¾‹è€Œä¸ä¼šäº§ç”Ÿé—®é¢˜ï¼Œä½†å½“ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨è¯»å–æ—¶è®©å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹æ•°ç»„å°±æ˜¯ä¸å®‰å…¨çš„ã€‚ä½ çš„å•ä¾‹åœ¨ç›®å‰çš„çŠ¶å†µä¸‹ä¸èƒ½é¢„é˜²è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚ è¦åˆ†æžè¿™ä¸ªé—®é¢˜ï¼Œçœ‹çœ‹ PhotoManager.m ä¸­çš„ addPhoto:ï¼Œè½¬è½½å¦‚ä¸‹ï¼š 123456789- (void)addPhoto:(Photo *)photo&#123; if (photo) &#123; [_photosArray addObject:photo]; dispatch_async(dispatch_get_main_queue(), ^&#123; [self postContentAddedNotification]; &#125;); &#125;&#125; è¿™æ˜¯ä¸€ä¸ªå†™æ–¹æ³•ï¼Œå®ƒä¿®æ”¹ä¸€ä¸ªç§æœ‰å¯å˜æ•°ç»„å¯¹è±¡ã€‚ çŽ°åœ¨çœ‹çœ‹ photos ï¼Œè½¬è½½å¦‚ä¸‹ï¼š 1234- (NSArray *)photos&#123; return [NSArray arrayWithArray:_photosArray];&#125; è¿™æ˜¯æ‰€è°“çš„è¯»æ–¹æ³•ï¼Œå®ƒè¯»å–å¯å˜æ•°ç»„ã€‚å®ƒä¸ºè°ƒç”¨è€…ç”Ÿæˆä¸€ä¸ªä¸å¯å˜çš„æ‹·è´ï¼Œé˜²æ­¢è°ƒç”¨è€…ä¸å½“åœ°æ”¹å˜æ•°ç»„ï¼Œä½†è¿™ä¸èƒ½æä¾›ä»»ä½•ä¿æŠ¤æ¥å¯¹æŠ—å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨è¯»æ–¹æ³• photos çš„åŒæ—¶å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨å†™æ–¹æ³• addPhoto: ã€‚ è¿™å°±æ˜¯è½¯ä»¶å¼€å‘ä¸­ç»å…¸çš„è¯»è€…å†™è€…é—®é¢˜ã€‚GCD é€šè¿‡ç”¨ dispatch barriers åˆ›å»ºä¸€ä¸ªè¯»è€…å†™è€…é” æä¾›äº†ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚ Dispatch barriers æ˜¯ä¸€ç»„å‡½æ•°ï¼Œåœ¨å¹¶å‘é˜Ÿåˆ—ä¸Šå·¥ä½œæ—¶æ‰®æ¼”ä¸€ä¸ªä¸²è¡Œå¼çš„ç“¶é¢ˆã€‚ä½¿ç”¨ GCD çš„éšœç¢ï¼ˆbarrierï¼‰API ç¡®ä¿æäº¤çš„ Block åœ¨é‚£ä¸ªç‰¹å®šæ—¶é—´ä¸Šæ˜¯æŒ‡å®šé˜Ÿåˆ—ä¸Šå”¯ä¸€è¢«æ‰§è¡Œçš„æ¡ç›®ã€‚è¿™å°±æ„å‘³ç€æ‰€æœ‰çš„å…ˆäºŽè°ƒåº¦éšœç¢æäº¤åˆ°é˜Ÿåˆ—çš„æ¡ç›®å¿…èƒ½åœ¨è¿™ä¸ª Block æ‰§è¡Œå‰å®Œæˆã€‚ å½“è¿™ä¸ª Block çš„æ—¶æœºåˆ°è¾¾ï¼Œè°ƒåº¦éšœç¢æ‰§è¡Œè¿™ä¸ª Block å¹¶ç¡®ä¿åœ¨é‚£ä¸ªæ—¶é—´é‡Œé˜Ÿåˆ—ä¸ä¼šæ‰§è¡Œä»»ä½•å…¶å®ƒ Block ã€‚ä¸€æ—¦å®Œæˆï¼Œé˜Ÿåˆ—å°±è¿”å›žåˆ°å®ƒé»˜è®¤çš„å®žçŽ°çŠ¶æ€ã€‚ GCD æä¾›äº†åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§éšœç¢å‡½æ•°ã€‚ ä¸‹å›¾æ˜¾ç¤ºäº†éšœç¢å‡½æ•°å¯¹å¤šä¸ªå¼‚æ­¥é˜Ÿåˆ—çš„å½±å“ï¼š æ³¨æ„åˆ°æ­£å¸¸éƒ¨åˆ†çš„æ“ä½œå°±å¦‚åŒä¸€ä¸ªæ­£å¸¸çš„å¹¶å‘é˜Ÿåˆ—ã€‚ä½†å½“éšœç¢æ‰§è¡Œæ—¶ï¼Œå®ƒæœ¬è´¨ä¸Šå°±å¦‚åŒä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ã€‚ä¹Ÿå°±æ˜¯ï¼Œéšœç¢æ˜¯å”¯ä¸€åœ¨æ‰§è¡Œçš„äº‹ç‰©ã€‚åœ¨éšœç¢å®ŒæˆåŽï¼Œé˜Ÿåˆ—å›žåˆ°ä¸€ä¸ªæ­£å¸¸å¹¶å‘é˜Ÿåˆ—çš„æ ·å­ã€‚ ä¸‹é¢æ˜¯ä½ ä½•æ—¶ä¼šâ€”â€”å’Œä¸ä¼šâ€”â€”ä½¿ç”¨éšœç¢å‡½æ•°çš„æƒ…å†µï¼š è‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ï¼šä¸€ä¸ªå¾ˆåçš„é€‰æ‹©ï¼›éšœç¢ä¸ä¼šæœ‰ä»»ä½•å¸®åŠ©ï¼Œå› ä¸ºä¸ç®¡æ€Žæ ·ï¼Œä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ä¸€æ¬¡éƒ½åªæ‰§è¡Œä¸€ä¸ªæ“ä½œã€‚ å…¨å±€å¹¶å‘é˜Ÿåˆ—ï¼šè¦å°å¿ƒï¼›è¿™å¯èƒ½ä¸æ˜¯æœ€å¥½çš„ä¸»æ„ï¼Œå› ä¸ºå…¶å®ƒç³»ç»Ÿå¯èƒ½åœ¨ä½¿ç”¨é˜Ÿåˆ—è€Œä¸”ä½ ä¸èƒ½åž„æ–­å®ƒä»¬åªä¸ºä½ è‡ªå·±çš„ç›®çš„ã€‚ è‡ªå®šä¹‰å¹¶å‘é˜Ÿåˆ—ï¼šè¿™å¯¹äºŽåŽŸå­æˆ–ä¸´ç•ŒåŒºä»£ç æ¥è¯´æ˜¯æžä½³çš„é€‰æ‹©ã€‚ä»»ä½•ä½ åœ¨è®¾ç½®æˆ–å®žä¾‹åŒ–çš„éœ€è¦çº¿ç¨‹å®‰å…¨çš„äº‹ç‰©éƒ½æ˜¯ä½¿ç”¨éšœç¢çš„æœ€ä½³å€™é€‰ã€‚ ç”±äºŽä¸Šé¢å”¯ä¸€åƒæ ·çš„é€‰æ‹©æ˜¯è‡ªå®šä¹‰å¹¶å‘é˜Ÿåˆ—ï¼Œä½ å°†åˆ›å»ºä¸€ä¸ªä½ è‡ªå·±çš„é˜Ÿåˆ—åŽ»å¤„ç†ä½ çš„éšœç¢å‡½æ•°å¹¶åˆ†å¼€è¯»å’Œå†™å‡½æ•°ã€‚ä¸”è¿™ä¸ªå¹¶å‘é˜Ÿåˆ—å°†å…è®¸å¤šä¸ªå¤šæ“ä½œåŒæ—¶è¿›è¡Œã€‚ æ‰“å¼€ PhotoManager.mï¼Œæ·»åŠ å¦‚ä¸‹ç§æœ‰å±žæ€§åˆ°ç±»æ‰©å±•ä¸­ï¼š 1234@interface PhotoManager ()@property (nonatomic,strong,readonly) NSMutableArray *photosArray;@property (nonatomic, strong) dispatch_queue_t concurrentPhotoQueue; ///&lt; Add this@end æ‰¾åˆ° addPhoto: å¹¶ç”¨ä¸‹é¢çš„å®žçŽ°æ›¿æ¢å®ƒï¼š 1234567891011- (void)addPhoto:(Photo *)photo&#123; if (photo) &#123; // 1 dispatch_barrier_async(self.concurrentPhotoQueue, ^&#123; // 2 [_photosArray addObject:photo]; // 3 dispatch_async(dispatch_get_main_queue(), ^&#123; // 4 [self postContentAddedNotification]; &#125;); &#125;); &#125;&#125; ä½ æ–°å†™çš„å‡½æ•°æ˜¯è¿™æ ·å·¥ä½œçš„ï¼š åœ¨æ‰§è¡Œä¸‹é¢æ‰€æœ‰çš„å·¥ä½œå‰æ£€æŸ¥æ˜¯å¦æœ‰åˆæ³•çš„ç›¸ç‰‡ã€‚ æ·»åŠ å†™æ“ä½œåˆ°ä½ çš„è‡ªå®šä¹‰é˜Ÿåˆ—ã€‚å½“ä¸´ç•ŒåŒºåœ¨ç¨åŽæ‰§è¡Œæ—¶ï¼Œè¿™å°†æ˜¯ä½ é˜Ÿåˆ—ä¸­å”¯ä¸€æ‰§è¡Œçš„æ¡ç›®ã€‚ è¿™æ˜¯æ·»åŠ å¯¹è±¡åˆ°æ•°ç»„çš„å®žé™…ä»£ç ã€‚ç”±äºŽå®ƒæ˜¯ä¸€ä¸ªéšœç¢ Block ï¼Œè¿™ä¸ª Block æ°¸è¿œä¸ä¼šåŒæ—¶å’Œå…¶å®ƒ Block ä¸€èµ·åœ¨ concurrentPhotoQueue ä¸­æ‰§è¡Œã€‚ æœ€åŽä½ å‘é€ä¸€ä¸ªé€šçŸ¥è¯´æ˜Žå®Œæˆäº†æ·»åŠ å›¾ç‰‡ã€‚è¿™ä¸ªé€šçŸ¥å°†åœ¨ä¸»çº¿ç¨‹è¢«å‘é€å› ä¸ºå®ƒå°†ä¼šåšä¸€äº› UI å·¥ä½œï¼Œæ‰€ä»¥åœ¨æ­¤ä¸ºäº†é€šçŸ¥ï¼Œä½ å¼‚æ­¥åœ°è°ƒåº¦å¦ä¸€ä¸ªä»»åŠ¡åˆ°ä¸»çº¿ç¨‹ã€‚ è¿™å°±å¤„ç†äº†å†™æ“ä½œï¼Œä½†ä½ è¿˜éœ€è¦å®žçŽ° photos è¯»æ–¹æ³•å¹¶å®žä¾‹åŒ– concurrentPhotoQueue ã€‚ åœ¨å†™è€…æ‰“æ‰°çš„æƒ…å†µä¸‹ï¼Œè¦ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œä½ éœ€è¦åœ¨ concurrentPhotoQueue é˜Ÿåˆ—ä¸Šæ‰§è¡Œè¯»æ“ä½œã€‚æ—¢ç„¶ä½ éœ€è¦ä»Žå‡½æ•°è¿”å›žï¼Œä½ å°±ä¸èƒ½å¼‚æ­¥è°ƒåº¦åˆ°é˜Ÿåˆ—ï¼Œå› ä¸ºé‚£æ ·åœ¨è¯»è€…å‡½æ•°è¿”å›žä¹‹å‰ä¸ä¸€å®šè¿è¡Œã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œdispatch_sync å°±æ˜¯ä¸€ä¸ªç»å¥½çš„å€™é€‰ã€‚ dispatch_sync() åŒæ­¥åœ°æäº¤å·¥ä½œå¹¶åœ¨è¿”å›žå‰ç­‰å¾…å®ƒå®Œæˆã€‚ä½¿ç”¨ dispatch_sync è·Ÿè¸ªä½ çš„è°ƒåº¦éšœç¢å·¥ä½œï¼Œæˆ–è€…å½“ä½ éœ€è¦ç­‰å¾…æ“ä½œå®ŒæˆåŽæ‰èƒ½ä½¿ç”¨ Block å¤„ç†è¿‡çš„æ•°æ®ã€‚å¦‚æžœä½ ä½¿ç”¨ç¬¬äºŒç§æƒ…å†µåšäº‹ï¼Œä½ å°†ä¸æ—¶çœ‹åˆ°ä¸€ä¸ª __block å˜é‡å†™åœ¨ dispatch_sync èŒƒå›´ä¹‹å¤–ï¼Œä»¥ä¾¿è¿”å›žæ—¶åœ¨ dispatch_sync ä½¿ç”¨å¤„ç†è¿‡çš„å¯¹è±¡ã€‚ ä½†ä½ éœ€è¦å¾ˆå°å¿ƒã€‚æƒ³åƒå¦‚æžœä½ è°ƒç”¨ dispatch_sync å¹¶æ”¾åœ¨ä½ å·²è¿è¡Œç€çš„å½“å‰é˜Ÿåˆ—ã€‚è¿™ä¼šå¯¼è‡´æ­»é”ï¼Œå› ä¸ºè°ƒç”¨ä¼šä¸€ç›´ç­‰å¾…ç›´åˆ° Block å®Œæˆï¼Œä½† Block ä¸èƒ½å®Œæˆï¼ˆå®ƒç”šè‡³ä¸ä¼šå¼€å§‹ï¼ï¼‰ï¼Œç›´åˆ°å½“å‰å·²ç»å­˜åœ¨çš„ä»»åŠ¡å®Œæˆï¼Œè€Œå½“å‰ä»»åŠ¡æ— æ³•å®Œæˆï¼è¿™å°†è¿«ä½¿ä½ è‡ªè§‰äºŽä½ æ­£ä»Žå“ªä¸ªé˜Ÿåˆ—è°ƒç”¨â€”â€”ä»¥åŠä½ æ­£åœ¨ä¼ é€’è¿›å…¥å“ªä¸ªé˜Ÿåˆ—ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå¿«é€Ÿæ€»è§ˆï¼Œå…³äºŽåœ¨ä½•æ—¶ä»¥åŠä½•å¤„ä½¿ç”¨ dispatch_sync ï¼š è‡ªå®šä¹‰ä¸²è¡Œé˜Ÿåˆ—ï¼šåœ¨è¿™ä¸ªçŠ¶å†µä¸‹è¦éžå¸¸å°å¿ƒï¼å¦‚æžœä½ æ­£è¿è¡Œåœ¨ä¸€ä¸ªé˜Ÿåˆ—å¹¶è°ƒç”¨ dispatch_sync æ”¾åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ï¼Œé‚£ä½ å°±ç™¾åˆ†ç™¾åœ°åˆ›å»ºäº†ä¸€ä¸ªæ­»é”ã€‚ ä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰ï¼šåŒä¸Šé¢çš„ç†ç”±ä¸€æ ·ï¼Œå¿…é¡»éžå¸¸å°å¿ƒï¼è¿™ä¸ªçŠ¶å†µåŒæ ·æœ‰æ½œåœ¨çš„å¯¼è‡´æ­»é”çš„æƒ…å†µã€‚ å¹¶å‘é˜Ÿåˆ—ï¼šè¿™æ‰æ˜¯åšåŒæ­¥å·¥ä½œçš„å¥½é€‰æ‹©ï¼Œä¸è®ºæ˜¯é€šè¿‡è°ƒåº¦éšœç¢ï¼Œæˆ–è€…éœ€è¦ç­‰å¾…ä¸€ä¸ªä»»åŠ¡å®Œæˆæ‰èƒ½æ‰§è¡Œè¿›ä¸€æ­¥å¤„ç†çš„æƒ…å†µã€‚ ç»§ç»­åœ¨ PhotoManager.m ä¸Šå·¥ä½œï¼Œç”¨ä¸‹é¢çš„å®žçŽ°æ›¿æ¢ photos ï¼š 12345678- (NSArray *)photos&#123; __block NSArray *array; // 1 dispatch_sync(self.concurrentPhotoQueue, ^&#123; // 2 array = [NSArray arrayWithArray:_photosArray]; // 3 &#125;); return array;&#125; è¿™å°±æ˜¯ä½ çš„è¯»å‡½æ•°ã€‚æŒ‰é¡ºåºçœ‹çœ‹ç¼–è¿‡å·çš„æ³¨é‡Šï¼Œæœ‰è¿™äº›ï¼š __block å…³é”®å­—å…è®¸å¯¹è±¡åœ¨ Block å†…å¯å˜ã€‚æ²¡æœ‰å®ƒï¼Œarray åœ¨ Block å†…éƒ¨å°±åªæ˜¯åªè¯»çš„ï¼Œä½ çš„ä»£ç ç”šè‡³ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚ åœ¨ concurrentPhotoQueue ä¸ŠåŒæ­¥è°ƒåº¦æ¥æ‰§è¡Œè¯»æ“ä½œã€‚ å°†ç›¸ç‰‡æ•°ç»„å­˜å‚¨åœ¨ array å†…å¹¶è¿”å›žå®ƒã€‚ æœ€åŽï¼Œä½ éœ€è¦å®žä¾‹åŒ–ä½ çš„ concurrentPhotoQueue å±žæ€§ã€‚ä¿®æ”¹ sharedManager ä»¥ä¾¿åƒä¸‹é¢è¿™æ ·åˆå§‹åŒ–é˜Ÿåˆ—ï¼š 123456789101112131415+ (instancetype)sharedManager&#123; static PhotoManager *sharedPhotoManager = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; sharedPhotoManager = [[PhotoManager alloc] init]; sharedPhotoManager-&gt;_photosArray = [NSMutableArray array]; // ADD THIS: sharedPhotoManager-&gt;_concurrentPhotoQueue = dispatch_queue_create(&quot;com.selander.GooglyPuff.photoQueue&quot;, DISPATCH_QUEUE_CONCURRENT); &#125;); return sharedPhotoManager;&#125; è¿™é‡Œä½¿ç”¨ dispatch_queue_create åˆå§‹åŒ– concurrentPhotoQueue ä¸ºä¸€ä¸ªå¹¶å‘é˜Ÿåˆ—ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åå‘DNSæ ·å¼å‘½åæƒ¯ä¾‹ï¼›ç¡®ä¿å®ƒæ˜¯æè¿°æ€§çš„ï¼Œå°†æœ‰åŠ©äºŽè°ƒè¯•ã€‚ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä½ çš„é˜Ÿåˆ—æ˜¯ä¸²è¡Œè¿˜æ˜¯å¹¶å‘ã€‚ æ³¨æ„ï¼šå½“ä½ åœ¨ç½‘ä¸Šæœç´¢ä¾‹å­æ—¶ï¼Œä½ ä¼šç»å¸¸çœ‹äººä»¬ä¼ é€’ 0 æˆ–è€… NULL ç»™ dispatch_queue_create çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™æ˜¯ä¸€ä¸ªåˆ›å»ºä¸²è¡Œé˜Ÿåˆ—çš„è¿‡æ—¶æ–¹å¼ï¼›æ˜Žç¡®ä½ çš„å‚æ•°æ€»æ˜¯æ›´å¥½ã€‚ æ­å–œâ€”â€”ä½ çš„ PhotoManager å•ä¾‹çŽ°åœ¨æ˜¯çº¿ç¨‹å®‰å…¨çš„äº†ã€‚ä¸è®ºä½ åœ¨ä½•å¤„æˆ–æ€Žæ ·è¯»æˆ–å†™ä½ çš„ç…§ç‰‡ï¼Œä½ éƒ½æœ‰è¿™æ ·çš„è‡ªä¿¡ï¼Œå³å®ƒå°†ä»¥å®‰å…¨çš„æ–¹å¼å®Œæˆï¼Œä¸ä¼šå‡ºçŽ°ä»»ä½•æƒŠå“ã€‚ A Visual Review of Queueing é˜Ÿåˆ—çš„è§†è§‰å›žé¡¾ä¾ç„¶æ²¡æœ‰ 100% åœ°æŽŒæ¡ GCD çš„è¦é¢†ï¼Ÿç¡®ä¿ä½ å¯ä»¥ä½¿ç”¨ GCD å‡½æ•°è½»æ¾åœ°åˆ›å»ºç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨æ–­ç‚¹å’Œ NSLog è¯­å¥ä¿è¯è‡ªå·±æ˜Žç™½å½“ä¸‹å‘ç”Ÿçš„æƒ…å†µã€‚ æˆ‘åœ¨ä¸‹é¢æä¾›äº†ä¸¤ä¸ª GIFåŠ¨ç”»æ¥å¸®åŠ©ä½ å·©å›ºå¯¹ dispatch_async å’Œ dispatch_sync çš„ç†è§£ã€‚åŒ…å«åœ¨æ¯ä¸ª GIF ä¸­çš„ä»£ç å¯ä»¥æä¾›è§†è§‰è¾…åŠ©ï¼›ä»”ç»†æ³¨æ„ GIF å·¦è¾¹æ˜¾ç¤ºä»£ç æ–­ç‚¹çš„æ¯ä¸€æ­¥ï¼Œä»¥åŠå³è¾¹ç›¸å…³é˜Ÿåˆ—çš„çŠ¶æ€ã€‚ dispatch_sync å›žé¡¾123456789101112- (void)viewDidLoad&#123; [super viewDidLoad]; dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123; NSLog(@&quot;First Log&quot;); &#125;); NSLog(@&quot;Second Log&quot;);&#125; ä¸‹é¢æ˜¯å›¾ä¸­å‡ ä¸ªæ­¥éª¤çš„è¯´æ˜Žï¼š ä¸»é˜Ÿåˆ—ä¸€è·¯æŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡â€”â€”æŽ¥ç€æ˜¯ä¸€ä¸ªå®žä¾‹åŒ– UIViewController çš„ä»»åŠ¡ï¼Œå…¶ä¸­åŒ…å«äº† viewDidLoad ã€‚ viewDidLoad åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸»çº¿ç¨‹ç›®å‰åœ¨ viewDidLoad å†…ï¼Œæ­£è¦åˆ°è¾¾ dispatch_sync ã€‚ dispatch_sync Block è¢«æ·»åŠ åˆ°ä¸€ä¸ªå…¨å±€é˜Ÿåˆ—ä¸­ï¼Œå°†åœ¨ç¨åŽæ‰§è¡Œã€‚è¿›ç¨‹å°†åœ¨ä¸»çº¿ç¨‹æŒ‚èµ·ç›´åˆ°è¯¥ Block å®Œæˆã€‚åŒæ—¶ï¼Œå…¨å±€é˜Ÿåˆ—å¹¶å‘å¤„ç†ä»»åŠ¡ï¼›è¦è®°å¾— Block åœ¨å…¨å±€é˜Ÿåˆ—ä¸­å°†æŒ‰ç…§ FIFO é¡ºåºå‡ºåˆ—ï¼Œä½†å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚ å…¨å±€é˜Ÿåˆ—å¤„ç† dispatch_sync Block åŠ å…¥ä¹‹å‰å·²ç»å‡ºçŽ°åœ¨é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚ ç»ˆäºŽï¼Œè½®åˆ° dispatch_sync Block ã€‚ è¿™ä¸ª Block å®Œæˆï¼Œå› æ­¤ä¸»çº¿ç¨‹ä¸Šçš„ä»»åŠ¡å¯ä»¥æ¢å¤ã€‚ viewDidLoad æ–¹æ³•å®Œæˆï¼Œä¸»é˜Ÿåˆ—ç»§ç»­å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚ dispatch_sync æ·»åŠ ä»»åŠ¡åˆ°ä¸€ä¸ªé˜Ÿåˆ—å¹¶ç­‰å¾…ç›´åˆ°ä»»åŠ¡å®Œæˆã€‚dispatch_async åšç±»ä¼¼çš„äº‹æƒ…ï¼Œä½†ä¸åŒä¹‹å¤„æ˜¯å®ƒä¸ä¼šç­‰å¾…ä»»åŠ¡çš„å®Œæˆï¼Œè€Œæ˜¯ç«‹å³ç»§ç»­â€œè°ƒç”¨çº¿ç¨‹â€çš„å…¶å®ƒä»»åŠ¡ã€‚ dispatch_async å›žé¡¾123456789101112- (void)viewDidLoad&#123; [super viewDidLoad]; dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123; NSLog(@&quot;First Log&quot;); &#125;); NSLog(@&quot;Second Log&quot;);&#125; ä¸»é˜Ÿåˆ—ä¸€è·¯æŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡â€”â€”æŽ¥ç€æ˜¯ä¸€ä¸ªå®žä¾‹åŒ– UIViewController çš„ä»»åŠ¡ï¼Œå…¶ä¸­åŒ…å«äº† viewDidLoad ã€‚ viewDidLoad åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸»çº¿ç¨‹ç›®å‰åœ¨ viewDidLoad å†…ï¼Œæ­£è¦åˆ°è¾¾ dispatch_async ã€‚ dispatch_async Block è¢«æ·»åŠ åˆ°ä¸€ä¸ªå…¨å±€é˜Ÿåˆ—ä¸­ï¼Œå°†åœ¨ç¨åŽæ‰§è¡Œã€‚ viewDidLoad åœ¨æ·»åŠ  dispatch_async åˆ°å…¨å±€é˜Ÿåˆ—åŽç»§ç»­è¿›è¡Œï¼Œä¸»çº¿ç¨‹æŠŠæ³¨æ„åŠ›è½¬å‘å‰©ä¸‹çš„ä»»åŠ¡ã€‚åŒæ—¶ï¼Œå…¨å±€é˜Ÿåˆ—å¹¶å‘åœ°å¤„ç†å®ƒæœªå®Œæˆåœ°ä»»åŠ¡ã€‚è®°ä½ Block åœ¨å…¨å±€é˜Ÿåˆ—ä¸­å°†æŒ‰ç…§ FIFO é¡ºåºå‡ºåˆ—ï¼Œä½†å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚ æ·»åŠ åˆ° dispatch_async çš„ä»£ç å—å¼€å§‹æ‰§è¡Œã€‚ dispatch_async Block å®Œæˆï¼Œä¸¤ä¸ª NSLog è¯­å¥å°†å®ƒä»¬çš„è¾“å‡ºæ”¾åœ¨æŽ§åˆ¶å°ä¸Šã€‚ åœ¨è¿™ä¸ªç‰¹å®šçš„å®žä¾‹ä¸­ï¼Œç¬¬äºŒä¸ª NSLog è¯­å¥æ‰§è¡Œï¼Œè·Ÿç€æ˜¯ç¬¬ä¸€ä¸ª NSLog è¯­å¥ã€‚å¹¶ä¸æ€»æ˜¯è¿™æ ·â€”â€”ç€å–å†³äºŽç»™å®šæ—¶åˆ»ç¡¬ä»¶æ­£åœ¨åšçš„äº‹æƒ…ï¼Œè€Œä¸”ä½ æ— æ³•æŽ§åˆ¶æˆ–çŸ¥æ™“å“ªä¸ªè¯­å¥ä¼šå…ˆæ‰§è¡Œã€‚â€œç¬¬ä¸€ä¸ªâ€ NSLog åœ¨æŸäº›è°ƒç”¨æƒ…å†µä¸‹ä¼šç¬¬ä¸€ä¸ªæ‰§è¡Œã€‚ ä¸‹ä¸€æ­¥æ€Žä¹ˆèµ°ï¼Ÿåœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•è®©ä½ çš„ä»£ç çº¿ç¨‹å®‰å…¨ï¼Œä»¥åŠåœ¨æ‰§è¡Œ CPU å¯†é›†åž‹ä»»åŠ¡æ—¶å¦‚ä½•ä¿æŒä¸»çº¿ç¨‹çš„å“åº”æ€§ã€‚ ä½ å¯ä»¥ä¸‹è½½ GooglyPuff é¡¹ç›®ï¼Œå®ƒåŒ…å«äº†ç›®å‰æ‰€æœ‰æœ¬æ•™ç¨‹ä¸­ç¼–å†™çš„å®žçŽ°ã€‚åœ¨æœ¬æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œä½ å°†ç»§ç»­æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚ å¦‚æžœä½ è®¡åˆ’ä¼˜åŒ–ä½ è‡ªå·±çš„åº”ç”¨ï¼Œé‚£ä½ åº”è¯¥ç”¨ Instruments ä¸­çš„ Time Profile æ¨¡ç‰ˆåˆ†æžä½ çš„å·¥ä½œã€‚å¯¹è¿™ä¸ªå·¥å…·çš„ä½¿ç”¨è¶…å‡ºäº†æœ¬æ•™ç¨‹çš„èŒƒå›´ï¼Œä½ å¯ä»¥çœ‹çœ‹ å¦‚ä½•ä½¿ç”¨Instruments æ¥å¾—åˆ°ä¸€ä¸ªå¾ˆå¥½çš„æ¦‚è¿°ã€‚ åŒæ—¶è¯·ç¡®ä¿åœ¨çœŸå®žè®¾å¤‡ä¸Šåˆ†æžï¼Œè€Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šæµ‹è¯•ä¼šå¯¹ç¨‹åºé€Ÿåº¦äº§ç”Ÿéžå¸¸ä¸å‡†ç¡®çš„å°è±¡ã€‚ åœ¨æ•™ç¨‹çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œä½ å°†æ›´åŠ æ·±å…¥åˆ° GCD çš„ API ä¸­ï¼Œåšä¸€äº›æ›´ Cool çš„ä¸œè¥¿ã€‚ å¦‚æžœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–è¯„è®ºï¼Œå¯è‡ªç”±åœ°åŠ å…¥ä¸‹æ–¹çš„è®¨è®ºï¼ æ–‡ç« è½¬è‡ª https://github.com/nixzhu/dev-blog]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSçŠ¶æ€æ æ“ä½œ]]></title>
    <url>%2F2017%2F08%2F03%2F2017%2FiOS%E7%8A%B6%E6%80%81%E6%A0%8F%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[éšè—åŠæ˜¾ç¤ºé—®é¢˜ åœ¨iOSå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šæ“ä½œçŠ¶æ€æ ï¼Œæœ€å¤šåœ¨å¯åŠ¨å›¾éšè—çŠ¶æ€æ ï¼Œå…¶ä»–å…¨éƒ¨æ˜¯æ˜¾ç¤ºçŠ¶æ€ï¼Œä½†æœ‰å°‘æ•°Appå¯èƒ½ä¼šæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¦‚ï¼šé˜…è¯»ç±»Appã€‚ä¸‹é¢æ¥è®²ä¸€è®²iOSçŠ¶æ€æ çš„ä¸€äº›æ“ä½œé—®é¢˜ æ–¹æ¡ˆæ€»ç»“ åœ¨Info.plist åŠ  Status bar is initially hidden åœ¨Info.plist åŠ  View controller-based status bar appearance ä½¿ç”¨ä»£ç å…¨å±€è®¾ç½® 1@property(readwrite, nonatomic,getter=isStatusBarHidden) BOOL statusBarHidden NS_DEPRECATED_IOS(2_0, 9_0, "Use -[UIViewController prefersStatusBarHidden]") __TVOS_PROHIBITED; ä½¿ç”¨ä»£ç å•ç‹¬æŽ§åˆ¶å™¨è®¾ç½® 1(BOOL)prefersStatusBarHidden NS_AVAILABLE_IOS(7_0) __TVOS_PROHIBITED; // Defaults to NO æ„Ÿè§‰å„ç§æ–¹æ³•ç‰¹åˆ«ä¹±ï¼Œæœ‰ä¸€äº›å¯èƒ½æ˜¯åŽ†å²åŽŸå› ï¼Œå¦‚ï¼šUIApplication å…¨å±€è®¾ç½®çš„æ–¹æ³•åœ¨iOS 9åŽå·²ç»ä¸æŽ¨èä½¿ç”¨ã€‚ æ“ä½œæ–¹å¼ è¿™é‡Œæš‚æŠŠä»£ç å…¨å±€è®¾ç½®çš„æ–¹å¼å¿½ç•¥ä¸è®¡ã€‚ å¯åŠ¨ç•Œé¢çš„çŠ¶æ€æ éšè—åŠæ˜¾ç¤ºï¼ˆæ²¡æœ‰æ·»åŠ é»˜è®¤æ˜¯ æ˜¾ç¤ºï¼‰Status bar is initially hidden YESéšè— NOæ˜¾ç¤º Appç•Œé¢çŠ¶æ€æ éšè—åŠæ˜¾ç¤ºï¼ˆæ²¡æœ‰æ·»åŠ é»˜è®¤æ˜¯æ˜¾ç¤ºï¼‰View controller-based status bar appearance çš„è®¾ç½®å¿…é¡»åœ¨ Status bar is initially hidden ä¸ºYESYESæ˜¾ç¤º NOéšè— åœ¨å½“ä¸ªç•Œé¢å¯¹çŠ¶æ€æ éšè—åŠæ˜¾ç¤ºï¼ˆæ²¡æœ‰æ·»åŠ é»˜è®¤æ˜¯ æ˜¾ç¤ºï¼‰é‡å†™æ­¤æ–¹æ³•ï¼Œè¿”å›ž YESéšè— NOæ˜¾ç¤º 123- (BOOL)prefersStatusBarHidden &#123;return YES;&#125; å¿…é¡»ä¿è¯View controller-based status bar appearance ç½®ä¸ºYESçš„æƒ…å†µä¸‹ æƒ…å†µåˆ†ç±»å’ŒDemoå¯åŠ¨ç•Œé¢æ˜¾ç¤ºçŠ¶æ€æ  + å…¨éƒ¨ç•Œé¢æ˜¾ç¤ºçŠ¶æ€æ  ä¸åšä»»ä½•æ“ä½œï¼Œé»˜è®¤å³å¯ Demo å¯åŠ¨ç•Œé¢æ˜¾ç¤ºçŠ¶æ€æ  + å…¨éƒ¨ç•Œé¢éšè—çŠ¶æ€æ  åœ¨Info.plist åŠ  View controller-based status bar appearance è®¾YES å…¨éƒ¨æŽ§åˆ¶å™¨é‡å†™prefersStatusBarHidden è¿”å›žYES Demo) å¯åŠ¨ç•Œé¢æ˜¾ç¤ºçŠ¶æ€æ  + ç•Œé¢è‡ªå®šä¹‰çŠ¶æ€æ çš„æ˜¾ç¤ºå’Œéšè— åœ¨Info.plist åŠ  View controller-based status bar appearance è®¾YES åœ¨éœ€è¦éšè—çš„æŽ§åˆ¶å™¨é‡å†™prefersStatusBarHidden è¿”å›žYES åœ¨éœ€è¦æ˜¾ç¤ºçš„æŽ§åˆ¶å™¨é‡å†™prefersStatusBarHidden è¿”å›žNOï¼ˆæˆ–è€…ä¸é‡å†™ï¼‰Demo å¯åŠ¨ç•Œé¢éšè—çŠ¶æ€æ  + å…¨éƒ¨ç•Œé¢æ˜¾ç¤ºçŠ¶æ€æ  åœ¨Info.plist åŠ  Status bar is initially hidden è®¾YES Demo å¯åŠ¨ç•Œé¢éšè—çŠ¶æ€æ  + å…¨éƒ¨ç•Œé¢éšè—çŠ¶æ€æ  åœ¨Info.plist åŠ  Status bar is initially hidden è®¾YES åœ¨Info.plist åŠ  View controller-based status bar appearance è®¾ NODemo å¯åŠ¨ç•Œé¢éšè—çŠ¶æ€æ  + ç•Œé¢è‡ªå®šä¹‰çŠ¶æ€æ çš„æ˜¾ç¤ºå’Œéšè— åœ¨Info.plist åŠ  Status bar is initially hidden è®¾YES åœ¨Info.plist åŠ  View controller-based status bar appearance è®¾YESï¼ˆæˆ–è€…ä¸åŠ ï¼‰ åœ¨éœ€è¦éšè—çš„æŽ§åˆ¶å™¨é‡å†™prefersStatusBarHidden è¿”å›žYES åœ¨éœ€è¦æ˜¾ç¤ºçš„æŽ§åˆ¶å™¨é‡å†™prefersStatusBarHidden è¿”å›žNOï¼ˆæˆ–è€…ä¸é‡å†™ï¼‰Demo é¢œè‰²é—®é¢˜ æ­£åœ¨å®Œå–„ä¸­â€¦]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS UICollectionView Cellæ‹–æ‹½é‡æŽ’çš„å®žçŽ°]]></title>
    <url>%2F2017%2F07%2F17%2F2017%2FiOS-UICollectionView-Cell%E6%8B%96%E6%8B%BD%E9%87%8D%E6%8E%92%E7%9A%84%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ æœ€è¿‘å…¬å¸å‡†å¤‡åšä¸€ä¸ªç±»ä¼¼æ”¯ä»˜å®UICollectionViewCellæ‹–æ‹½é‡æŽ’çš„åŠŸèƒ½ï¼ŒUICollectionViewCellçš„ä»»æ„æ‹–æ‹½æŽ’åˆ—ï¼Œæ”¯ä»˜å®æœ€æ–°çš„ç‰ˆæœ¬å·²åŽ»æŽ‰äº†ä»»æ„æ‹–æ‹½åŠŸèƒ½ï¼Œè€Œåªæ˜¯å¯¹å¸¸ç”¨åŠŸèƒ½è¿›è¡Œæ‹–æ‹½é‡æŽ’ï¼Œæ²¡æœ‰å‡ºçŽ°è¶…å‡ºå±å¹•çš„æƒ…å†µã€‚ä¸ªäººæ„Ÿè§‰åº”è¯¥æ›´å¥½ï¼Œæ¯•ç«Ÿå¤ªå¤šåŠŸèƒ½åŽ»æ‹–æ‹½é‡æŽ’å¯¹ç”¨æˆ·æ¥è¯´æ˜¯ä¸€ä¸ªç‰¹åˆ«å¤§çš„å·¥ä½œé‡ï¼Œåªéœ€æŠŠå¸¸ç”¨åŠŸèƒ½æå³å¯ã€‚ç›¸åº”çš„åŠŸèƒ½ç‚¹è¿˜æ˜¯åœ¨å¯¹åº”çš„åˆ†ç»„é‡Œï¼Œè‡³äºŽæˆ‘ä»¬çš„éœ€æ±‚æš‚æ—¶ä¸æ€Žä¹ˆæ¸…æ¥šï¼Œä½¿ç”¨è¿˜æ˜¯ç ”ç©¶ä¸‹ä»»æ„æ‹–æ‹½å§ã€‚ æœªæ¥è®¡åˆ’ [ ] DemoåŠæ–‡æ¡£å®Œå–„ã€‚ [ ] æ”¯ä»˜å®æ‹–æ‹½æ•ˆæžœå®žçŽ°ã€‚ [x] ä»Šæ—¥å¤´æ¡é¢‘é“æ‹–æ‹½é‡æŽ’æ•ˆæžœå®žçŽ°ã€‚ [ ] çœ‹èæ‹–æ‹½é‡æŽ’æ•ˆæžœå®žçŽ°åŠä¼˜åŒ–ã€‚ps:çœ‹èçš„æ‹–æ‹½é‡æŽ’å‘çŽ°ä¸€ä¸ªbugï¼Œå“ˆå“ˆã€‚ æ•ˆæžœå›¾æ•ˆæžœ1 æ•ˆæžœ2 æ•ˆæžœ3 æ•ˆæžœ4 åŸºæœ¬å®žçŽ°äº†å¤´æ¡çš„é¢‘é“é‡æŽ’åŠŸèƒ½ï¼Œé¢å¤–å¢žåŠ äº†å½“æ‹–æ‹½åˆ°è¾¹æ²¿æ—¶è‡ªåŠ¨æ»šåŠ¨çš„åŠŸèƒ½ã€‚ è§†é¢‘æ¼”ç¤ºåœ¨çº¿è§†é¢‘æ¼”ç¤º é¡»çŸ¥ BMDragCellCollectionView åŸºäºŽ Xcode 8.2.1 , iOS 6+ ARCï¼Œè¯·ä½¿ç”¨æœ€æ–°æ­£å¼ç‰ˆæ¥ç¼–è¯‘BMDragCellCollectionView,æ—§ç‰ˆæœ¬çš„Xcodeæœ‰æ•ˆï¼Œä½†ä¸ä¿è¯ä¼šå‡ºçŽ°ä¸€äº›å…¼å®¹æ€§é—®é¢˜ã€‚ å¼€æºä¸æ˜“ï¼Œæ¥ä¸ªstaré¼“åŠ±ä¸‹å§ Demoè¿è¡Œ è€æä¸è¦è¯´ä¸ä¼š Cocoapods cd BMDragCellCollectionView/BMDragCellCollectionViewDemo pod install open BMDragCellCollectionViewDemo.xcworkspace é›†æˆCocoaPods æŽ¨èä½¿ç”¨ CocoaPods å®‰è£…ã€‚ åœ¨ Podfile ä¸­æ·»åŠ  pod &#39;BMDragCellCollectionView&#39;, &#39;1.0.3&#39; æ‰§è¡Œ pod install æˆ– pod update ä½¿ç”¨çš„åœ°æ–¹å¯¼å…¥ &quot;BMDragCellCollectionView.h&quot; å¦‚æžœæ— æ³•æ‰¾åˆ° BMDragCellCollectionViewå¯ç”¨ pod setupæˆ– rm ~/Library/Caches/CocoaPods/search_index.json åœ¨ pod search BMDragCellCollectionView æ‰‹åŠ¨å®‰è£… é€šè¿‡ Clone æˆ–è€… download ä¸‹è½½BMDragCellCollectionView æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰å†…å®¹ã€‚ å°† BMDragCellCollectionView å†…çš„æºæ–‡ä»¶æ·»åŠ (æ‹–æ”¾)åˆ°ä½ çš„å·¥ç¨‹ã€‚ å¯¼å…¥ &quot;BMDragCellCollectionView.h&quot; åŸºæœ¬ä½¿ç”¨ åœ¨éœ€è¦ä½¿ç”¨é•¿æŒ‰æ‹–æ‹½UICollectionViewçš„åœ°æ–¹ä½¿ç”¨BMDragCellCollectionViewä»£æ›¿ï¼Œç”¨æ³•å’ŒUICollectionViewä¸€æ ·ã€‚ 12345UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];BMDragCellCollectionView *collectionView = [[BMDragCellCollectionView alloc] initWithFrame:CGRectMake(0, 0, WIDTH, HEIGHT) collectionViewLayout:layout];collectionView.delegate = self;collectionView.dataSource = self;[self.view addSubview:collectionView]; å®žçŽ° BMDragCollectionViewDataSourceåè®®çš„å¦‚ä¸‹æ–¹æ³• æ­¤åè®®ç”¨äºŽåœ¨äº¤æ¢æ—¶èŽ·å–æ•°æ®æºï¼Œå†…éƒ¨åšæ•°æ®æºæ“ä½œã€‚ 123- (NSArray *)dataSourceWithDragCellCollectionView:(BMDragCellCollectionView *)dragCellCollectionView &#123; return self.dataSource;&#125; å®žçŽ° BMDragCellCollectionViewDelegateåè®®çš„å¦‚ä¸‹æ–¹æ³• æ­¤åè®®ç”¨äºŽåœ¨åœ¨å†…éƒ¨å¤„ç†å¥½æ•°æ®æºæ—¶é€šçŸ¥ä½¿ç”¨è€…æ›´æ–°æ•°æ®æºã€‚ 123- (void)dragCellCollectionView:(BMDragCellCollectionView *)dragCellCollectionView newDataArrayAfterMove:(NSArray *)newDataArray &#123; self.dataSource = [newDataArray mutableCopy];&#125; BMDragCellCollectionViewå±žæ€§åŠæ–¹æ³•è¯´æ˜Ž é•¿æŒ‰è§¦å‘æ—¶é—´ï¼Œé»˜è®¤æ˜¯0.5ç§’ï¼Œå»ºè®®æ ¹æ®å®žé™…æƒ…å†µè®¾å€¼ 1@property (nonatomic, assign) NSTimeInterval minimumPressDuration; æ˜¯å¦å¯ä»¥æ‹–æ‹½ é»˜è®¤ä¸ºYES 1@property (nonatomic, assign, getter=isCanDrag) BOOL canDrag; é•¿æŒ‰æ‹–æ‹½æ—¶Cellç¼©æ”¾æ¯”ä¾‹ é»˜è®¤æ˜¯ï¼š1.2 1@property (nonatomic, assign) CGFloat dragZoomScale; æ‹–æ‹½çš„Cellåœ¨æ‹–æ‹½ç§»åŠ¨æ—¶çš„é€æ˜Žåº¦ é»˜è®¤æ˜¯ï¼š 1.0 1@property (assign, nonatomic) CGFloat dragCellAlpha; ä»£ç†æ–¹æ³• å½“ä¸€ä¸ªCellå°†è¦å¼€å§‹æ‹–æ‹½æ—¶è°ƒç”¨è¯¢é—®æ˜¯å¦å¯ä»¥æ‹–æ‹½ï¼Œ YES: å¯ä»¥ï¼Œ NO: ä¸å¯ä»¥ï¼Œé»˜è®¤æ˜¯YES 1- (BOOL)dragCellCollectionViewShouldBeginMove:(BMDragCellCollectionView *)dragCellCollectionView indexPath:(NSIndexPath *)indexPath; å½“å°†è¦äº¤æ¢æ—¶ï¼Œè¯¢é—®æ˜¯å¦å¯ä»¥äº¤æ¢æ—¶è°ƒç”¨è¯¢é—®æ˜¯å¦å¯ä»¥äº¤æ¢ï¼Œ YES: å¯ä»¥ï¼Œ NO: ä¸å¯ä»¥ï¼Œé»˜è®¤æ˜¯YES 1- (BOOL)dragCellCollectionViewShouldBeginExchange:(BMDragCellCollectionView *)dragCellCollectionView sourceIndexPath:(NSIndexPath *)sourceIndexPath toIndexPath:(NSIndexPath *)destinationIndexPath; å®Œæˆé‡æŽ’æ—¶ï¼Œé‡æŽ’æˆæˆåŠŸæ—¶ 1- (void)dragCellCollectionViewDidEndDrag:(BMDragCellCollectionView *)dragCellCollectionView; ä¸‹é¢çš„ä¸‰ä¸ªæ–¹æ³•åœ¨æ‰‹åŠ¿æ‹–æ‹½å˜åŒ–æ—¶è°ƒç”¨ï¼Œå¼€å§‹æ‹–æ‹½ æ­£åœ¨æ‹–æ‹½ ç»“æŸæ‹–æ‹½ï¼Œ 12345- (void)dragCellCollectionView:(BMDragCellCollectionView *)dragCellCollectionView beganDragAtPoint:(CGPoint)point indexPath:(NSIndexPath *)indexPath;- (void)dragCellCollectionView:(BMDragCellCollectionView *)dragCellCollectionView changedDragAtPoint:(CGPoint)point indexPath:(NSIndexPath *)indexPath;- (void)dragCellCollectionView:(BMDragCellCollectionView *)dragCellCollectionView endedDragAtPoint:(CGPoint)point indexPath:(NSIndexPath *)indexPath; å…¶ä»–ç›¸å…³ç”¨æ³•ï¼Œè¯¦è§ä»£ç  cocoapodsåœ¨çº¿æ–‡æ¡£ æœŸå¾… å¦‚æžœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°BUGï¼Œå¸Œæœ›æ‚¨èƒ½Issuesæˆ‘ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¯•ä¸šä¸¤å¹´çš„ä¸€ç‚¹æ„Ÿæ‚Ÿå’Œæˆé•¿]]></title>
    <url>%2F2017%2F07%2F13%2F2017%2F%E6%AF%95%E4%B8%9A%E4%B8%A4%E5%B9%B4%E7%9A%84%E4%B8%80%E7%82%B9%E6%84%9F%E6%82%9F%E5%92%8C%E6%88%90%E9%95%BF%2F</url>
    <content type="text"><![CDATA[è‡ª15å¹´è¸å‡ºæ ¡é—¨ä»¥æ¥ï¼Œç»åŽ†äº†è®¸è®¸å¤šå¤šï¼Œå·²æ”¶èŽ·äº†è®¸è®¸å¤šå¤šï¼Œå·²æƒ³äº†è®¸è®¸å¤šå¤šã€‚ æ•™è‚²çš„é‡è¦æ€§ å­¦åŽ† å­¦åŽ†æ˜¯å—æ•²é—¨ç –ï¼Œè¿˜æ˜¯æŒºé‡è¦çš„ï¼Œä¸è¯´æ¸…åŽåŒ—å¤§ï¼Œèƒ½ä¸Š985ã€211å°±å°½é‡å§ã€‚ðŸ˜­ åç§‘ å°½é‡ä¸è¦åç§‘æŠŠï¼Œå‘µå‘µï¼Œæˆ‘ä¹Ÿä¸æƒ³å•Šï¼Œä¸è¦è®¤ä¸ºä½ æŸä¸€ç§‘å¾ˆåŽ‰å®³ï¼Œé‚£å¯èƒ½åªæ˜¯è¡¨è±¡ï¼Œå¯ä»¥åŽ»å„ç§å¥¥èµ›ä¸Šçœ‹çœ‹å°±çŸ¥é“ã€‚å¦‚æžœåœ¨è¿™é‡Œä¹Ÿå¾ˆç‰›ï¼Œé‚£ä¹ˆä½ è‚¯å®šä¸åç§‘ðŸ˜€ï¼Œè¯´å¤šäº†å¤šå°‘æ³ªã€‚ è‹±è¯­ è°å«ç¾Žå›½è¿™ä¹ˆå¼ºå¤§å‘¢ï¼Œæ²¡åŠžæ³•ï¼Œèƒ½å­¦å°±å­¦å§ã€‚èµ·ç æ¯”æ±‰è¯­å¥½å­¦å§ï¼Œé«˜è€ƒè‹±è¯­30åˆ†çš„ç»éªŒå‘Šè¯‰ä½ ã€‚ðŸ˜­ å·¥ä½œå…¬å¸é€‰æ‹© ä¸ç­¾åˆåŒçš„å…¬å¸ï¼Œåƒä¸‡ä¸è¦åŽ»ï¼Œè¿™å¥½åƒçš„åºŸè¯ã€‚ä½†åšä¸»æ›¾ç»å°±ç»åŽ†è¿‡ï¼Œé‚£å«ä¸€ä¸ªé…¸çˆ½ï¼Œä½ æ‡‚çš„ã€‚ å­¦ä¹  æ²¡äº‹å¤šæ£é¼“ï¼Œæ‰¾æ‰¾ä¹å­ä¹ŸæŒºå¥½çš„ã€‚ ç”Ÿæ´»å¥¶çˆ¸è·¯è¿‡ 2017-01 å·²å‡çº§ä¸ºå¥¶çˆ¸ã€‚ðŸ˜è€å©†ä¸€ä¸ªäººå¸¦å®å®è¾›è‹¦äº†ã€‚ðŸ’ª]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OCä¸ŽJavaScriptäº¤äº’]]></title>
    <url>%2F2017%2F06%2F03%2F2017%2FOC%E4%B8%8EJavaScript%E4%BA%A4%E4%BA%92%2F</url>
    <content type="text"><![CDATA[ç®€å•ä»‹ç» åœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œå¯èƒ½éƒ½ä¼šä½¿ç”¨ä¸€ä¸‹UIWebViewæˆ–è€…WKWebviewæœ‰æ—¶å€™éœ€è¦ä¸€äº›ç®€å•çš„äº¤äº’ï¼Œå¦‚ï¼šWebæƒ³è°ƒç”¨ç›¸æœºæ‰«æäºŒç»´ç ï¼Œæ‰«ææˆåŠŸåŽAPPç«¯éœ€ç»™Webç«¯åšä¸€å®šçš„åé¦ˆã€‚ä¸‹é¢ä»¥UIWebViewä¸ºä¾‹ç®€å•æ¨¡æ‹Ÿä¸€ä¸ªåœºæ™¯ï¼ŒWebç«¯éœ€è¦è°ƒèµ·APPç«¯æ‰«æï¼ŒåŒæ—¶æ‰«æåˆ°å†…å®¹åŽAPPç«¯æŠŠæ‰«æçš„ç»“æžœåé¦ˆç»™Webç«¯ OC è°ƒç”¨ Web çš„æ–¹æ³•ï¼Œå®žé™…æ˜¯ä½¿ç”¨UIWebViewçš„å¦‚ä¸‹æ–¹æ³• 1- (nullable NSString *)stringByEvaluatingJavaScriptFromString:(NSString *)script; æ­¤æ–¹æ³•ç»™Webä¼ é€’ä¸€æ®µéœ€è¦æ‰§è¡Œçš„JavaScriptä»£ç ï¼Œè€Œä¸”æ˜¯åŒæ­¥æ‰§è¡Œï¼Œå»ºè®®ä¸è¦ç›´æŽ¥ä½¿ç”¨[ ]è°ƒç”¨ 1[self.webView stringByEvaluatingJavaScriptFromString:javaScriptParameter]; è€Œæ˜¯ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³• 1- (void)performSelectorOnMainThread:(SEL)aSelector withObject:(nullable id)arg waitUntilDone:(BOOL)wait; Webç«¯Webç«¯ä»£ç 123456789101112131415161718192021222324252627&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head lang="en"&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;&lt;/title&gt; &lt;style&gt; body&#123; margin-top: 50px; &#125; &lt;/style&gt; &lt;title&gt;æµ‹è¯•ç½‘é¡µ&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;a href="idhong://liangdahong?method=scan&amp;callMethod=openCamera"&gt;æ‰«æäºŒç»´ç åšç½‘é¡µè·³è½¬&lt;/a&gt; &lt;p&gt;&lt;/p&gt; &lt;a href="idhong://liangdahong?method=scan&amp;callMethod=codingSearch"&gt;æ‰«æäºŒç»´ç codingSearchæœç´¢&lt;/a&gt; &lt;script type="text/javascript"&gt; function openCamera(str)&#123; alert("Web æç¤º \n æ‰«ææˆåŠŸï¼ˆ" + str + ")å‡†å¤‡è·³è½¬ç•Œé¢"); window.location.href = str; &#125; function codingSearch(str)&#123; window.location.href = "http://www.coding.so/s?kw=" + str; &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; æˆ‘ä»¬å¯ä»¥æŠ½å¥–ä¸€ä¸ªhtmlæ–‡ä»¶ä¿å­˜å¦‚ä¸Šh5ä»£ç ,æ”¾å…¥demoä¸­ã€‚ APPç«¯ æˆ‘ä»¬åˆ›å»ºdemoï¼Œä½¿ç”¨UIWebViewä»·å€¼åˆšæ‰çš„htmlæ–‡ä»¶ å®žçŽ°å¦‚ä¸‹åè®® 1234- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType;- (void)webViewDidStartLoad:(UIWebView *) webView;- (void)webViewDidFinishLoad:(UIWebView *) webView;- (void)webView:(UIWebView *)webView didFailLoadWithError:(NSError *)error; æˆ‘ä»¬ä¸»è¦æ˜¯å¦‚ä¸‹æ–¹æ³•é‡Œé¢æ“ä½œ 1- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType; åŠ è½½æˆåŠŸä»¥åŽç•Œé¢æ˜¾ç¤ºå¦‚ä¸‹ï¼š å½“ç‚¹å‡» æ‰«æäºŒç»´ç codingSearchæœç´¢æ—¶ä¼šè°ƒç”¨ä¸‹é¢çš„æ–¹æ³• 1- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType; åŒæ—¶å¯ä»¥åœ¨æ–¹æ³•é‡Œé¢åšç›¸å…³çš„æ“ä½œï¼Œå¦‚æžœæ˜¯æŒ‡å®šçš„æ“ä½œå°±è°ƒèµ·ç›¸å…³åŠŸèƒ½ï¼Œå¦‚ï¼šè°ƒèµ·æ‰«æç­‰ã€‚å½“æ‰«ææˆåŠŸä»¥åŽä½¿ç”¨ 1- (nullable NSString *)stringByEvaluatingJavaScriptFromString:(NSString *)script; åé¦ˆç»™Webç«¯ï¼Œå½“ç„¶è¿™é‡Œçš„æ–¹æ³•åç­‰åè®®éœ€è¦ä¸¤ç«¯å•†é‡ç¡®å®šå¥½å³å¯ã€‚ æŽ¨èä½¿ç”¨WebViewJavascriptBridge APPå†…åŠ è½½H5 è§£æžURLä¸­çš„æ•°æ®ä¿¡æ¯ 12345678910111213141516171819202122232425262728293031323334353637// &lt;a href=&quot;idhong://liangdahong?method=scan&amp;callMethod=openCamera&quot;&gt;æ‰«æäºŒç»´ç åšç½‘é¡µè·³è½¬&lt;/a&gt;- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType &#123; // èŽ·å–URL NSURL *url = [request URL]; // url.scheme èŽ·å–åè®® // url.host ä¸»æœºåœ°å€ // url.query å‚æ•° // 1 åˆ¤æ–­æ˜¯å¦ä¸ºè‡ªå®šä¹‰çš„åè®® idhong://liangdahong?method=scan&amp;callMethod=openCamera if ([url.scheme isEqualToString:@&quot;idhong&quot;] &amp;&amp; [url.host isEqualToString:@&quot;liangdahong&quot;]) &#123; // 2 èŽ·å–å‚æ•° NSMutableDictionary *mutableDictionary = [@&#123;&#125; mutableCopy]; [[url.query componentsSeparatedByString:@&quot;&amp;&quot;] enumerateObjectsUsingBlock:^(NSString * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123; NSArray *arr = [obj componentsSeparatedByString:@&quot;=&quot;]; if (arr.count == 2) &#123; mutableDictionary[arr[0]] = arr[1]; &#125; &#125;]; // 3 èŽ·å–JSè°ƒç”¨OCçš„æ–¹æ³•çš„æ–¹æ³•å NSString *method = mutableDictionary[@&quot;method&quot;]; // 4 èŽ·å–OCå›žè°ƒçš„JSçš„æ–¹æ³•çš„æ–¹æ³•å NSString *callMethod = mutableDictionary[@&quot;callMethod&quot;]; // 5 è°ƒç”¨å®šä¹‰å¥½çš„åè®®å’Œç›¸å…³æ–¹æ³• // 6 å¦‚æžœæ˜¯è°ƒç”¨æ‰«æåŠŸèƒ½ if ([method isEqualToString:@&quot;scan&quot;]) &#123; BMScanVC *vc = [BMScanVC new]; vc.block = ^(NSString *scan) &#123; // 7 æž„å»ºOCå›žè°ƒåˆ°jsçš„ JavaScriptFromString NSString *javaScriptParameter = [NSString stringWithFormat:@&quot;%@(\&quot;%@\&quot;)&quot;, callMethod, scan]; // 8 å›žè°ƒJS [self.webView stringByEvaluatingJavaScriptFromString:javaScriptParameter]; &#125;; [self.navigationController pushViewController:vc animated:YES]; &#125; return NO; &#125; return YES;&#125; â€‹ OCå’ŒJavaScriptäº¤äº’æ—¶ä½¿ç”¨çš„JSå‡½æ•° ç»™å›¾ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶ 123456789101112131415161718192021// 1.JSfunction addImageCick()&#123; var objs = document.getElementsByTagName(&quot;img&quot;); for(var i=0;i&lt;objs.length;i++)&#123; objs[i].onclick=function() &#123; document.location=&quot;myweb:imageClick:&quot;+this.src; &#125;; &#125;; return objs.length;&#125;;// 2. ç‚¹å‡»äº‹ä»¶ã€åŒæ—¶ä¼ å›¾ç‰‡ç¼–å·function imageClick(i, url)&#123; alert(i + &quot;\n&quot; + url);&#125;function addImageCick()&#123; var imgs = document.getElementsByTagName(&quot;img&quot;); for (var i=0;i&lt;imgs.length;i++)&#123; imgs[i].setAttribute(&quot;onClick&quot;,&quot;imageClick(&quot;+i+&quot;, this.src)&quot;); &#125;&#125; èŽ·å–å›¾ç‰‡çš„size data 12345678910111213141516171819function getImageData(i)&#123; var imgs = document.getElementsByTagName(&quot;img&quot;); var img=imgs[i]; var canvas=document.createElement(&quot;canvas&quot;); var context=canvas.getContext(&quot;2d&quot;); canvas.width=img.width; canvas.height=img.height; context.drawImage(img,0,0,img.width,img.height); return canvas.toDataURL(&quot;image/png&quot;)&#125;function getImageRect(i)&#123; var imgs = document.getElementsByTagName(&quot;img&quot;); var rect; rect = imgs[i].getBoundingClientRect().left+&quot;::&quot;; rect = rect+imgs[i].getBoundingClientRect().top+&quot;::&quot;; rect = rect+imgs[i].width+&quot;::&quot;; rect = rect+imgs[i].height; return rect;&#125; èŽ·å–æ‰€æœ‰å›¾ç‰‡ 123456789function getAllImageUrl()&#123; var imgs = document.getElementsByTagName(&quot;img&quot;); var urlArray = []; for (var i=0;i&lt;imgs.length;i++)&#123; var src = imgs[i].src; urlArray.push(src); &#125; return urlArray.toString();&#125; æœ€åŽçš„è¯ å®Œæ•´çš„demoåœ¨è¿™é‡Œ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS ç³»ç»ŸæŽ§ä»¶çš„ä¸€äº›ç”¨æ³•]]></title>
    <url>%2F2017%2F05%2F11%2F2017%2FiOS-%E7%B3%BB%E7%BB%9F%E6%8E%A7%E4%BB%B6%E7%9A%84%E4%B8%80%E4%BA%9B%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[UIViewtransform å±žæ€§CGAffineTransformMake å˜æ¢åŽŸç†1@property(nonatomic) CGAffineTransform transform; // default is CGAffineTransformIdentity. animatable å½“æˆ‘ä»¬ä½¿ç”¨ CGAffineTransformMake æ–¹æ³•æ—¶å®žé™…æ˜¯åˆ›å»ºä¸€ä¸ªCGAffineTransformçš„ç»“æž„ä½“,æ­¤ç»“æž„ä½“å®šä¹‰å¦‚ä¸‹ï¼š 12345678struct CGAffineTransform &#123; CGFloat a, b, c, d; CGFloat tx, ty;&#125;;CG_EXTERN CGAffineTransform CGAffineTransformMake(CGFloat a, CGFloat b, CGFloat c, CGFloat d, CGFloat tx, CGFloat ty) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0); å…¶ä¸­a` b cd txtyå¯ä»¥ç»„æˆå¦‚ä¸‹3X3` çš„çŸ©é˜µï¼Œå¦‚ä¸‹ï¼š 123456B = [ ] a b 0 c d 0 tx ty 1 [ ] å½“ä½¿ç”¨ Transform å˜æ¢æ—¶å®žé™…æ˜¯æŠŠviewä¸Šæ‰€æœ‰çš„ç‚¹é€šè¿‡ çŸ©é˜µBè®¡ç®—å¾—æ–°çš„ç‚¹ã€‚å‡è®¾ viewä¸Šä¸€ç‚¹ 1A = [x y 1] A * B å¯ä»¥å¾—åˆ°å˜æ¢åŽçš„ç‚¹ 1A` = [(a*x+c*y+tx) (b*x+d*y+ty) (1) ] å…¶ä¸­çš„ çŸ©é˜µ * çŸ©é˜µ çš„è®¡ç®—å¯å‚è€ƒå¤§å­¦ çº¿æ€§ä»£æ•°ä½¿ç”¨ç»™ä¸åŒçš„å­—å€¼è‡ªç„¶å¯ä»¥è¾¾åˆ°ä¸åŒæ•ˆæžœ å…¶ä¸­Appleå°è£…äº†ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•,åŒ…æ‹¬ï¼š å¹³ç§»ï¼ˆTranslationï¼‰ ç¼©æ”¾ï¼ˆScaleï¼‰ æ—‹è½¬ï¼ˆRotationï¼‰ å‰ªåˆ‡ï¼ˆShearï¼‰ ç¿»è½¬ï¼ˆFlipï¼‰ å¹³ç§»ï¼ˆTranslation) ç”±ä¸Šé¢çš„è®¡ç®—å¯ä»¥å¾—åˆ° å½“ 1234a = 1c = 0b = 0d = 1 æ—¶ 1A` = [(x+tx) (y+ty) (1) ] ä½¿ç”¨CGAffineTransformMake(1, 0, 0, 1, tx, ty);å³å¯ã€‚ç³»ç»Ÿæä¾›äº†ç±»ä¼¼çš„æ–¹æ³• 12345/* Return a transform which translates by `(tx, ty)': t' = [ 1 0 0 1 tx ty ] */CG_EXTERN CGAffineTransform CGAffineTransformMakeTranslation(CGFloat tx, CGFloat ty) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0); ç”±Appleæ³¨é‡Šå¯ä»¥å‘çŽ°å‰é¢çš„åˆ†æžæ­£ç¡®,é‚£ä¹ˆå…¶ä»–çš„ç§ç±»å·²åŸºæœ¬ä¸€ä¸ªæ€è·¯ã€‚ å‚è€ƒ æ­¤å±žæ€§ä¸»è¦æ˜¯ç”¨æ¥æ“ä½œUIViewçš„å¹³ç§»ï¼Œæ—‹è½¬ï¼Œä¼¸ç¼©ã€‚ CGAffineTransformIdentity ï¼ˆé»˜è®¤ã€‚å½“æˆ‘ä»¬æƒ³æ¢å¤åŽŸå§‹çŠ¶æ€æ—¶å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ï¼‰ CGAffineTransformMakeRotation æ—‹è½¬ 123456789101112131415[UIView animateWithDuration:0.3 animations:^&#123; // 0 &lt; x &lt;= M_PI é¡ºæ—¶é’ˆæ—‹è½¬ // -M_PI &lt;= x &lt; 0 é€†æ—¶é’ˆæ—‹è½¬ // æ€»ç»“ï¼šæ€»æ˜¯ä»¥æœ€è¿‘ï¼Œå°½é‡é¡ºæ—¶é’ˆï¼Œæœ€å¤šæ—‹è½¬180Â°çš„æ–¹å¼åˆ°è¾¾ç›®çš„åœ° /* self.myView.transform = CGAffineTransformMakeRotation(M_PI); // é¡ºæ—¶é’ˆæ—‹è½¬ 180Â° self.myView.transform = CGAffineTransformMakeRotation(M_PI_2); // é¡ºæ—¶é’ˆæ—‹è½¬ 90Â° self.myView.transform = CGAffineTransformMakeRotation(M_PI_4); // é¡ºæ—¶é’ˆæ—‹è½¬ 45Â° self.myView.transform = CGAffineTransformMakeRotation(-M_PI); // é€†æ—¶é’ˆæ—‹è½¬ 180Â° self.myView.transform = CGAffineTransformMakeRotation(-M_PI_2); // é€†æ—¶é’ˆæ—‹è½¬ 90Â° self.myView.transform = CGAffineTransformMakeRotation(-M_PI_4); // é€†æ—¶é’ˆæ—‹è½¬ 45Â° */ self.myView.transform = CGAffineTransformMakeRotation(M_PI * 1.5); // é€†æ—¶é’ˆæ—‹è½¬ 90Â°&#125;]; æ¼”ç¤ºå¦‚ä¸‹ï¼š CGAffineTransformMakeScale ä¼¸ç¼© 123456[UIView animateWithDuration:0.3 animations:^&#123; // å®½é«˜ä¼¸ç¼©æ¯”ä¾‹ // å®½å˜ä¸º sx * width // é«˜å˜ä¸º sy * height self.myView.transform = CGAffineTransformMakeScale(0.6, 0.5); // å®½å˜ä¸º 0.6 * height é«˜å˜ä¸º 0.5 * height&#125;]; CGAffineTransformMakeTranslation å¹³ç§»æ“ä½œ 1234567[UIView animateWithDuration:0.3 animations:^&#123; // xyç§»åŠ¨è·ç¦» // xå˜ä¸º x + tx // yå˜ä¸º y + ty self.myView.transform = CGAffineTransformMakeTranslation(10, 10); &#125;];&#125;]; ç³»ç»ŸAPIè¯´æ˜Ž123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112/** ç»“æž„ä½“ B = [ ] a b 0 c d 0 tx ty 1 [ ] view ä¸Šæ‰€æœ‰ç‚¹ç»è¿‡ å˜æ¢ä¸º A`,å˜æ¢ä¸º * B A(X,Y,1) * B = A`([(a*x+c*y+tx),(b*x+d*y+ty),(1)) */struct CGAffineTransform &#123; CGFloat a, b, c, d; CGFloat tx, ty;&#125;;/* The identity transform: [ 1 0 0 1 0 0 ]. */// [(a*x+c*y+tx) (b*x+d*y+ty) (1) ] --&gt; [(x) (y) (1) ] è¿˜åŽŸåˆå§‹ä½ç½®// è¿˜åŽŸåˆå§‹çŠ¶æ€CG_EXTERN const CGAffineTransform CGAffineTransformIdentityCG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Return the transform [ a b c d tx ty ]. */// [(a*x+c*y+tx) (b*x+d*y+ty) (1) ] --&gt; [(a*x+c*y+tx) (b*x+d*y+ty) (1) ]// è‡ªå®šä¹‰å½¢å˜CG_EXTERN CGAffineTransform CGAffineTransformMake(CGFloat a, CGFloat b, CGFloat c, CGFloat d, CGFloat tx, CGFloat ty)CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Return a transform which translates by `(tx, ty)': t' = [ 1 0 0 1 tx ty ] */// [(a*x+c*y+tx) (b*x+d*y+ty) (1) ] --&gt; [(x+tx) (y+ty) (1) ] å¹³ç§»// å¹³ç§»CG_EXTERN CGAffineTransform CGAffineTransformMakeTranslation(CGFloat tx, CGFloat ty) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Return a transform which scales by `(sx, sy)': t' = [ sx 0 0 sy 0 0 ] */// [(a*x+c*y+tx) (b*x+d*y+ty) (1) ] --&gt; [(sx*x) (sy*y) (1) ]// ç¼©æ”¾CG_EXTERN CGAffineTransform CGAffineTransformMakeScale(CGFloat sx, CGFloat sy)CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Return a transform which rotates by `angle' radians: t' = [ cos(angle) sin(angle) -sin(angle) cos(angle) 0 0 ] */// æ—‹è½¬CG_EXTERN CGAffineTransform CGAffineTransformMakeRotation(CGFloat angle)CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Return true if `t' is the identity transform, false otherwise. */// æ˜¯å¦ä¸ºåˆå§‹å€¼CG_EXTERN bool CGAffineTransformIsIdentity(CGAffineTransform t)CG_AVAILABLE_STARTING(__MAC_10_4, __IPHONE_2_0);/* Translate `t' by `(tx, ty)' and return the result: t' = [ 1 0 0 1 tx ty ] * t */// åœ¨ t' çš„çŠ¶æ€ä¸‹å‘ç”Ÿä¸‹ä¸€æ¬¡å˜æ¢å¹³ç§»CG_EXTERN CGAffineTransform CGAffineTransformTranslate(CGAffineTransform t, CGFloat tx, CGFloat ty) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Scale `t' by `(sx, sy)' and return the result: t' = [ sx 0 0 sy 0 0 ] * t */// åœ¨ t' çš„çŠ¶æ€ä¸‹å‘ç”Ÿä¸‹ä¸€æ¬¡å˜æ¢ ç¼©æ”¾CG_EXTERN CGAffineTransform CGAffineTransformScale(CGAffineTransform t, CGFloat sx, CGFloat sy) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Rotate `t' by `angle' radians and return the result: t' = [ cos(angle) sin(angle) -sin(angle) cos(angle) 0 0 ] * t */// åœ¨ t' çš„çŠ¶æ€ä¸‹å‘ç”Ÿä¸‹ä¸€æ¬¡å˜æ¢ æ—‹è½¬CG_EXTERN CGAffineTransform CGAffineTransformRotate(CGAffineTransform t, CGFloat angle) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Invert `t' and return the result. If `t' has zero determinant, then `t' is returned unchanged. */// å¯¹t åå‘æ—‹è½¬CG_EXTERN CGAffineTransform CGAffineTransformInvert(CGAffineTransform t)CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Concatenate `t2' to `t1' and return the result: t' = t1 * t2 */// ç»„åˆ t1 t2CG_EXTERN CGAffineTransform CGAffineTransformConcat(CGAffineTransform t1, CGAffineTransform t2) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Return true if `t1' and `t2' are equal, false otherwise. */// åˆ¤æ–­æ˜¯å¦ç›¸åŒCG_EXTERN bool CGAffineTransformEqualToTransform(CGAffineTransform t1, CGAffineTransform t2) CG_AVAILABLE_STARTING(__MAC_10_4, __IPHONE_2_0);/* Transform `point' by `t' and return the result: p' = p * t where p = [ x y 1 ]. */// å¾—åˆ°æ–°çš„ä¸­å¿ƒCGPoint (æ²¡ç”¨è¿‡)CG_EXTERN CGPoint CGPointApplyAffineTransform(CGPoint point, CGAffineTransform t) CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Transform `size' by `t' and return the result: s' = s * t where s = [ width height 0 ]. */// å¾—åˆ°æ–°çš„size CGSize (æ²¡ç”¨è¿‡)CG_EXTERN CGSize CGSizeApplyAffineTransform(CGSize size, CGAffineTransform t)CG_AVAILABLE_STARTING(__MAC_10_0, __IPHONE_2_0);/* Transform `rect' by `t' and return the result. Since affine transforms do not preserve rectangles in general, this function returns the smallest rectangle which contains the transformed corner points of `rect'. If `t' consists solely of scales, flips and translations, then the returned rectangle coincides with the rectangle constructed from the four transformed corners. */// å¾—åˆ°æ–°çš„rect CGRect (æ²¡ç”¨è¿‡)CG_EXTERN CGRect CGRectApplyAffineTransform(CGRect rect, CGAffineTransform t)CG_AVAILABLE_STARTING(__MAC_10_4, __IPHONE_2_0); UIScrollViewUIScrollView123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126@property(nonatomic) CGPoint contentOffset; // default CGPointZero å½“å‰æ»šåŠ¨åˆ°çš„ä½ç½®@property(nonatomic) CGSize contentSize; // default CGSizeZero æ»šåŠ¨èŒƒå›´@property(nonatomic) UIEdgeInsets contentInset; // default UIEdgeInsetsZero. add additional scroll area around content é¢å¤–å¢žåŠ çš„æ»šåŠ¨èŒƒå›´@property(nullable,nonatomic,weak) id&lt;UIScrollViewDelegate&gt; delegate; // default nil. weak reference ä»£ç†// default NO. if YES, try to lock vertical or horizontal scrolling while dragging// æ–¹å‘é”å®šï¼ˆåœ¨ä¸€ä¸ªæ–¹å‘æ»šåŠ¨æ—¶ å¦ä¸€ä¸ªæ–¹å‘ä¸å…è®¸æ»šåŠ¨ï¼‰@property(nonatomic,getter=isDirectionalLockEnabled) BOOL directionalLockEnabled;// default YES. if YES, bounces past edge of content and back again å¼¹ç°§æ•ˆæžœ@property(nonatomic) BOOL bounces;// default NO. if YES and bounces is YES, even if content is smaller than bounds, allow drag vertically// åž‚ç›´æ–¹å‘çš„å¼¹ç°§æ•ˆæžœ@property(nonatomic) BOOL alwaysBounceVertical;// default NO. if YES and bounces is YES, even if content is smaller than bounds, allow drag horizontally// æ°´å¹³æ–¹å‘çš„å¼¹ç°§æ•ˆæžœ@property(nonatomic) BOOL alwaysBounceHorizontal;// default NO. if YES, stop on multiples of view bounds// å¯åŠ¨åˆ†é¡µ@property(nonatomic,getter=isPagingEnabled) BOOL pagingEnabled __TVOS_PROHIBITED;// default YES. turn off any dragging temporarily// æ˜¯å¦å¯ä»¥æ‹–åŠ¨@property(nonatomic,getter=isScrollEnabled) BOOL scrollEnabled;// default YES. show indicator while we are tracking. fades out after tracking// æ˜¯å¦æ˜¾ç¤ºæ°´å¹³æ»šåŠ¨æ¡@property(nonatomic) BOOL showsHorizontalScrollIndicator;// default YES. show indicator while we are tracking. fades out after tracking// æ˜¯å¦æ˜¾ç¤ºåž‚ç›´æ»šåŠ¨æ¡@property(nonatomic) BOOL showsVerticalScrollIndicator;// default is UIEdgeInsetsZero. adjust indicators inside of insets// è°ƒæ•´æ»šåŠ¨æ˜¾ç¤ºå™¨çš„è¾¹è·@property(nonatomic) UIEdgeInsets scrollIndicatorInsets;// default is UIScrollViewIndicatorStyleDefault// scrollView çš„æ ·å¼@property(nonatomic) UIScrollViewIndicatorStyle indicatorStyle;// UIKIT_EXTERN const CGFloat UIScrollViewDecelerationRateNormal NS_AVAILABLE_IOS(3_0);// UIKIT_EXTERN const CGFloat UIScrollViewDecelerationRateFast NS_AVAILABLE_IOS(3_0);// æ»šåŠ¨çš„é€Ÿåº¦@property(nonatomic) CGFloat decelerationRate NS_AVAILABLE_IOS(3_0);// tvos ä¸Šä½¿ç”¨@property(nonatomic) UIScrollViewIndexDisplayMode indexDisplayMode API_AVAILABLE(tvos(10.2));// è®¾ç½®æ»šåŠ¨çš„ä½ç½® æ˜¯å¦åŠ¨ç”»- (void)setContentOffset:(CGPoint)contentOffset animated:(BOOL)animated; // animate at constant velocity to new offset// æ»šåŠ¨åˆ°å…·ä½“ä½ç½®- (void)scrollRectToVisible:(CGRect)rect animated:(BOOL)animated; // scroll so rect is just visible (nearest edges). nothing if rect completely visible// è®©æ»šåŠ¨æ¡æ˜¾ç¤ºï¼ˆä½†åªä¼šæ˜¾ç¤ºä¸€æ®µæ—¶é—´ä¼šè‡ªåŠ¨éšè— å¯ä»¥ä½¿ç”¨åˆ†ç±»é‡å†™imageViewçš„ alpha æ–¹æ³•æ¥æŽ§åˆ¶ï¼Œå› ä¸ºscrollçš„æ»šåŠ¨æ¡æ˜¯ imageViewï¼‰- (void)flashScrollIndicators; // displays the scroll indicators for a short time. This should be done whenever you bring the scroll view to front./* Scrolling with no scroll bars is a bit complex. on touch down, we don't know if the user will want to scroll or track a subview like a control. on touch down, we start a timer and also look at any movement. if the time elapses without sufficient change in position, we start sending events to the hit view in the content subview. if the user then drags far enough, we switch back to dragging and cancel any tracking in the subview. the methods below are called by the scroll view and give subclasses override points to add in custom behaviour. you can remove the delay in delivery of touchesBegan:withEvent: to subviews by setting delaysContentTouches to NO. */// æ˜¯å¦æ­£åœ¨è·Ÿè¸ª@property(nonatomic,readonly,getter=isTracking) BOOL tracking; // returns YES if user has touched. may not yet have started dragging// æ˜¯å¦æ­£åœ¨æ‹–æ‹½@property(nonatomic,readonly,getter=isDragging) BOOL dragging; // returns YES if user has started scrolling. this may require some time and or distance to move to initiate dragging// æ˜¯å¦æ­£åœ¨å‡é€Ÿ@property(nonatomic,readonly,getter=isDecelerating) BOOL decelerating; // returns YES if user isn't dragging (touch up) but scroll view is still moving@property(nonatomic) BOOL delaysContentTouches; // default is YES. if NO, we immediately call -touchesShouldBegin:withEvent:inContentView:. this has no effect on presses@property(nonatomic) BOOL canCancelContentTouches; // default is YES. if NO, then once we start tracking, we don't try to drag if the touch moves. this has no effect on presses// override points for subclasses to control delivery of touch events to subviews of the scroll view// called before touches are delivered to a subview of the scroll view. if it returns NO the touches will not be delivered to the subview// this has no effect on presses// default returns YES- (BOOL)touchesShouldBegin:(NSSet&lt;UITouch *&gt; *)touches withEvent:(nullable UIEvent *)event inContentView:(UIView *)view;// called before scrolling begins if touches have already been delivered to a subview of the scroll view. if it returns NO the touches will continue to be delivered to the subview and scrolling will not occur// not called if canCancelContentTouches is NO. default returns YES if view isn't a UIControl// this has no effect on presses- (BOOL)touchesShouldCancelInContentView:(UIView *)view;/* the following properties and methods are for zooming. as the user tracks with two fingers, we adjust the offset and the scale of the content. When the gesture ends, you should update the content as necessary. Note that the gesture can end and a finger could still be down. While the gesture is in progress, we do not send any tracking calls to the subview. the delegate must implement both viewForZoomingInScrollView: and scrollViewDidEndZooming:withView:atScale: in order for zooming to work and the max/min zoom scale must be different note that we are not scaling the actual scroll view but the 'content view' returned by the delegate. the delegate must return a subview, not the scroll view itself, from viewForZoomingInScrollview: */@property(nonatomic) CGFloat minimumZoomScale; // default is 1.0@property(nonatomic) CGFloat maximumZoomScale; // default is 1.0. must be &gt; minimum zoom scale to enable zooming@property(nonatomic) CGFloat zoomScale NS_AVAILABLE_IOS(3_0); // default is 1.0- (void)setZoomScale:(CGFloat)scale animated:(BOOL)animated NS_AVAILABLE_IOS(3_0);- (void)zoomToRect:(CGRect)rect animated:(BOOL)animated NS_AVAILABLE_IOS(3_0);@property(nonatomic) BOOL bouncesZoom; // default is YES. if set, user can go past min/max zoom while gesturing and the zoom will animate to the min/max value at gesture end@property(nonatomic,readonly,getter=isZooming) BOOL zooming; // returns YES if user in zoom gesture@property(nonatomic,readonly,getter=isZoomBouncing) BOOL zoomBouncing; // returns YES if we are in the middle of zooming back to the min/max value// When the user taps the status bar, the scroll view beneath the touch which is closest to the status bar will be scrolled to top, but only if its `scrollsToTop` property is YES, its delegate does not return NO from `shouldScrollViewScrollToTop`, and it is not already at the top.// On iPhone, we execute this gesture only if there's one on-screen scroll view with `scrollsToTop` == YES. If more than one is found, none will be scrolled.@property(nonatomic) BOOL scrollsToTop __TVOS_PROHIBITED; // default is YES.// Use these accessors to configure the scroll view's built-in gesture recognizers.// Do not change the gestures' delegates or override the getters for these properties.// Change `panGestureRecognizer.allowedTouchTypes` to limit scrolling to a particular set of touch types.@property(nonatomic, readonly) UIPanGestureRecognizer *panGestureRecognizer NS_AVAILABLE_IOS(5_0);// `pinchGestureRecognizer` will return nil when zooming is disabled.@property(nullable, nonatomic, readonly) UIPinchGestureRecognizer *pinchGestureRecognizer NS_AVAILABLE_IOS(5_0);// `directionalPressGestureRecognizer` is disabled by default, but can be enabled to perform scrolling in response to up / down / left / right arrow button presses directly, instead of scrolling indirectly in response to focus updates.@property(nonatomic, readonly) UIGestureRecognizer *directionalPressGestureRecognizer UIKIT_AVAILABLE_TVOS_ONLY(9_0);@property(nonatomic) UIScrollViewKeyboardDismissMode keyboardDismissMode NS_AVAILABLE_IOS(7_0); // default is UIScrollViewKeyboardDismissModeNone@property (nonatomic, strong, nullable) UIRefreshControl *refreshControl NS_AVAILABLE_IOS(10_0) __TVOS_PROHIBITED; UIScrollViewDelegate å‚è€ƒhttp://www.jianshu.com/p/5391997cbdd2 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// æ­£åœ¨æ»šåŠ¨æ—¶ scrollViewDidScroll// any offset changes- (void)scrollViewDidScroll:(UIScrollView *)scrollView; // æ­£åœ¨ç¼©æ”¾æ—¶ scrollViewDidZoom// any zoom scale changes- (void)scrollViewDidZoom:(UIScrollView *)scrollView NS_AVAILABLE_IOS(3_2); // å°†è¦å¼€å§‹æ‹–æ‹½æ—¶ï¼ˆä¸€æ¬¡æœ‰æ•ˆæ‹–æ‹½ï¼‰æ‰‹åˆšæŽ¥è§¦åˆ°scrollæ—¶ scrollViewWillBeginDragging// called on start of dragging (may require some time and or distance to move)- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView;// called on finger up if the user dragged. velocity is in points/millisecond. // targetContentOffset may be changed to adjust where the scroll view comes to rest// å°±è¦ç»“æŸæ‹–æ‹½æ—¶ æ‰‹å°†è¦ç¦»å¼€scrollæ—¶ scrollViewWillEndDragging velocityå½“å‰çš„é€Ÿåº¦ // targetContentOffsetæ­¤æ¬¡æ»šåŠ¨ç»“æŸçš„ç›®æ ‡åè¿œ- (void)scrollViewWillEndDragging:(UIScrollView *)scrollView withVelocity:(CGPoint)velocity targetContentOffset:(inout CGPoint *)targetContentOffset NS_AVAILABLE_IOS(5_0);// called on finger up if the user dragged. decelerate is true if it will continue moving afterwards// å·²ç»ç»“æŸæ‹–æ‹½æ—¶ æ‰‹åˆšç¦»å¼€scrollæ—¶ scrollViewDidEndDragging decelerateæ˜¯å¦ä¼šç»§ç»­å‘å‰æ»šåŠ¨ä¸€æ®µè·ç¦»- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate;// called on finger up as we are moving// å°†è¦å¼€å§‹å‡é€Ÿæ—¶ æ‰‹åˆšç¦»å¼€æ—¶- (void)scrollViewWillBeginDecelerating:(UIScrollView *)scrollView; // called when scroll view grinds to a halt// å·²ç»ç»“æŸå‡é€Ÿæ—¶ åœä¸‹æ¥æ—¶- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView; // // called when setContentOffset/scrollRectVisible:animated: finishes. not called if not animating// å·²ç»æ»šåŠ¨æ»šåŠ¨ï¼ˆä½¿ç”¨ä»£ç è®¾ç½®çš„æ»šåŠ¨æ—¶ï¼‰- (void)scrollViewDidEndScrollingAnimation:(UIScrollView *)scrollView; // return a view that will be scaled. if delegate returns nil, nothing happens// è¿”å›žéœ€è¦ç¼©æ”¾çš„view- (nullable UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView; // called before the scroll view begins zooming its content// å°†è¦å¼€å§‹ç¼©æ”¾- (void)scrollViewWillBeginZooming:(UIScrollView *)scrollView withView:(nullable UIView *)view NS_AVAILABLE_IOS(3_2); // scale between minimum and maximum. called after any 'bounce' animations// å·²ç»“æŸç¼©æ”¾ viewç¼©æ”¾çš„view scaleç¼©æ”¾æ¯”ä¾‹- (void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(nullable UIView *)view atScale:(CGFloat)scale; // return a yes if you want to scroll to the top. if not defined, assumes YES// ç‚¹å‡»çŠ¶æ€æ æ—¶æ˜¯å¦å¯ä»¥è¿”å›žé¡¶éƒ¨- (BOOL)scrollViewShouldScrollToTop:(UIScrollView *)scrollView; // called when scrolling animation finished. may be called immediately if already at top// ç‚¹å‡»çŠ¶æ€æ åŽå›žåˆ°é¡¶éƒ¨ç»“æŸ- (void)scrollViewDidScrollToTop:(UIScrollView *)scrollView; iOSæ²™ç›’æ²™ç›’ç›®å½•NSString *homeDirectory = NSHomeDirectory(); home/Documents NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0] â‘ å­˜æ”¾å†…å®¹ æˆ‘ä»¬å¯ä»¥å°†åº”ç”¨ç¨‹åºçš„æ•°æ®æ–‡ä»¶ä¿å­˜åœ¨è¯¥ç›®å½•ä¸‹ã€‚ä¸è¿‡è¿™äº›æ•°æ®ç±»åž‹ä»…é™äºŽä¸å¯å†ç”Ÿçš„æ•°æ®ï¼Œå¯å†ç”Ÿçš„æ•°æ®æ–‡ä»¶åº”è¯¥å­˜æ”¾åœ¨Library/Cacheç›®å½•ä¸‹ã€‚ â‘¡ä¼šè¢«iTunesåŒæ­¥ home/Library/Caches NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES)[0] â‘ å­˜æ”¾å†…å®¹ä¸»è¦æ˜¯ç¼“å­˜æ–‡ä»¶ï¼Œç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­ç¼“å­˜éƒ½å¯ä»¥ä¿å­˜åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚å‰é¢è¯´è¿‡ï¼ŒDocumentsç›®å½•ç”¨äºŽä¿å­˜ä¸å¯å†ç”Ÿçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªç›®å½•å°±ç”¨äºŽä¿å­˜é‚£äº›å¯å†ç”Ÿçš„æ–‡ä»¶ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚çš„æ•°æ®ã€‚é‰´äºŽæ­¤ï¼Œåº”ç”¨ç¨‹åºé€šå¸¸è¿˜éœ€è¦è´Ÿè´£åˆ é™¤è¿™äº›æ–‡ä»¶,æ³¨æ„ï¼šå­˜å‚¨ä¸è¶³æ—¶ï¼Œç³»ç»Ÿä¼šæ¸…ç†æ­¤æ–‡ä»¶å¤¹ã€‚ â‘¡ä¸ä¼šè¢«iTunesåŒæ­¥ home/Library/Preferences [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory,NSUserDomainMask,YES)[0] stringByAppendingPathComponent:@&quot;Preferences&quot;]; â‘ å­˜æ”¾å†…å®¹åº”ç”¨ç¨‹åºçš„åå¥½è®¾ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬ä½¿ç”¨NSUserDefaultså†™çš„è®¾ç½®æ•°æ®éƒ½ä¼šä¿å­˜åˆ°è¯¥ç›®å½•ä¸‹çš„ä¸€ä¸ªplistæ–‡ä»¶ä¸­ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å†™é“plistä¸­ï¼ â‘¡ä¼šè¢«iTunesåŒæ­¥ home/tmp NSTemporaryDirectory(); å­˜å‚¨æ”¾ä¸´æ—¶æ–‡ä»¶ï¼Œé€€å‡ºAppåŽè‡ªåŠ¨åˆ é™¤ ï¼Œå¯ä»¥ä»»æ„æ“ä½œæ­¤æ–‡ä»¶å¤¹,ä¸ä¼šè¢«iTunesåŒæ­¥ home/MyApp.app [[NSBundle mainBundle] bundlePath] â‘ å­˜æ”¾å†…å®¹è¯¥ç›®å½•åŒ…å«äº†åº”ç”¨ç¨‹åºæœ¬èº«çš„æ•°æ®ï¼ŒåŒ…æ‹¬èµ„æºæ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶ç­‰ã€‚ç¨‹åºå¯åŠ¨ä»¥åŽï¼Œä¼šæ ¹æ®éœ€è¦ä»Žè¯¥ç›®å½•ä¸­åŠ¨æ€åŠ è½½ä»£ç æˆ–èµ„æºåˆ°å†…å­˜ï¼Œè¿™é‡Œç”¨åˆ°äº†lazy loadingçš„æ€æƒ³ã€‚ â‘¡æ•´ä¸ªç›®å½•æ˜¯åªè¯»çš„ä¸ºäº†é˜²æ­¢è¢«ç¯¡æ”¹ï¼Œåº”ç”¨åœ¨å®‰è£…çš„æ—¶å€™ä¼šå°†è¯¥ç›®å½•ç­¾åã€‚éžè¶Šç‹±æƒ…å†µä¸‹ï¼Œè¯¥ç›®å½•ä¸­å†…å®¹æ˜¯æ— æ³•æ›´æ”¹çš„ï¼›åœ¨è¶Šç‹±è®¾å¤‡ä¸Šå¦‚æžœæ›´æ”¹äº†ç›®å½•å†…å®¹ï¼Œå¯¹åº”çš„ç­¾åå°±ä¼šè¢«æ”¹å˜ï¼Œè¿™ç§æƒ…å†µä¸‹è‹¹æžœå®˜ç½‘æè¿°çš„åŽæžœæ˜¯åº”ç”¨ç¨‹åºå°†æ— æ³•å¯åŠ¨ï¼Œæˆ‘æ²¡å®žè·µè¿‡ã€‚ â‘¢ä¸ä¼šè¢«iTunesåŒæ­¥ appearance123456789101112131415// è®¾ç½® UINavigationBar ä¸Šçš„ item çš„é¢œè‰²ï¼ŒåŒ…æ‹¬ item å’Œ backItem[UINavigationBar appearance].tintColor= [UIColor redColor];// è®¾ç½® UINavigationBar çš„èƒŒæ™¯é¢œè‰²[UINavigationBar appearance].barTintColor = [UIColor blueColor]; // è®¾ç½® UINavigationBar ä¸Šçš„æ ‡é¢˜çš„å±žæ€§[UINavigationBar appearance].titleTextAttributes =@&#123;NSFontAttributeName: [UIFont boldSystemFontOfSize:40],NSForegroundColorAttributeName : [UIColor whiteColor],&#125;;// è®¾ç½® UITabBar ä¸Šçš„ item çš„é¢œè‰²[UITabBar appearance].tintColor = [UIColor redColor];// è®¾ç½® UITabBar çš„èƒŒæ™¯é¢œè‰²[UITabBar appearance].barTintColor = [UIColor blueColor]; AFN1234567891011121314151617AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; &#123; // è¯·æ±‚æ ¼å¼åŒ– manager.requestSerializer = [AFJSONRequestSerializer serializer];&#125;&#123; // å“åº” AFHTTPResponseSerializer *serializer=[AFHTTPResponseSerializer serializer]; serializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;, @&quot;application/json&quot;, @&quot;text/json&quot; , @&quot;text/javascript&quot;, @&quot;video/mp4&quot;, nil]; manager.responseSerializer = serializer;&#125; ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œ123456789101112131415161718192021- (void)loadImageFinished:(UIImage *)image&#123; UIImageWriteToSavedPhotosAlbum(image, self, @selector(image:didFinishSavingWithError:contextInfo:), (__bridge void *)self);&#125;- (void)image:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo:(void *)contextInfo&#123; [MEMEITUOKHUD dismiss]; if (error) &#123; UIAlertController *alertVC = [UIAlertController alertControllerWithTitle:@&quot;ä¿å­˜å¤±è´¥&quot; message:error.domain preferredStyle:UIAlertControllerStyleAlert]; [alertVC addAction:[UIAlertAction actionWithTitle:@&quot;OK&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123; &#125;]]; [self presentViewController:alertVC animated:YES completion:nil]; &#125; else &#123; UIAlertController *alertVC = [UIAlertController alertControllerWithTitle:@&quot;ä¿å­˜æˆåŠŸ&quot; message:nil preferredStyle:UIAlertControllerStyleAlert]; [alertVC addAction:[UIAlertAction actionWithTitle:@&quot;OK&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123; &#125;]]; [self presentViewController:alertVC animated:YES completion:nil]; &#125;&#125; æ˜¾ç¤ºæ¨¡å¼ UIViewContentMode1234567891011121314151617181920212223242526272829303132333435typedef NS_ENUM(NSInteger, UIViewContentMode) &#123; // å›¾ç‰‡å¼ºè¡Œå˜å½¢ç¼©æ”¾æ˜¾ç¤ºæ»¡ UIImageView ä¸ºæ­¢ UIViewContentModeScaleToFill, // å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾åˆ°å®Œå…¨æ˜¾ç¤ºåˆ°å†…éƒ¨ï¼Œè€Œä¸”ä¿è¯æœ€å°‘æœ‰ä¸€è¾¹å¡«æ»¡ UIImageView UIViewContentModeScaleAspectFit, // å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾åˆ° `è¾ƒçŸ­` ä¸€è¾¹ä¹Ÿå¡«æ»¡ UIImageView ä¸ºæ­¢ï¼Œå¤šä½™çš„è£å‰ªæŽ‰ UIViewContentModeScaleAspectFill, // è¿™ä¸ªä¸çŸ¥é“æ˜¯ä»€ä¹ˆé¬¼ // è°ƒç”¨ setNeedsDisplay æ–¹æ³•æ—¶,å°±ä¼šé‡æ–°æ¸²æŸ“å›¾ç‰‡ UIViewContentModeRedraw, // ä¸æ‹‰ä¼¸ï¼ˆåŽ‹ç¼©ï¼‰å›¾ç‰‡ï¼Œå–ç‰¹å®šä½ç½®ï¼Œè£å‰ªå›¾ç‰‡ï¼Œä¸å˜å½¢ UIViewContentModeCenter, //é¡¶éƒ¨ UIViewContentModeTop, //åº•éƒ¨ UIViewContentModeBottom, //å·¦è¾¹ UIViewContentModeLeft, //å³è¾¹ UIViewContentModeRight, //å·¦ä¸Š UIViewContentModeTopLeft, //å³ä¸Š UIViewContentModeTopRight, //å·¦ä¸‹ UIViewContentModeBottomLeft, //å³ä¸‹ UIViewContentModeBottomRight,&#125;; iOSå¼€å‘çš„ä¸€äº›å°ºå¯¸è§„èŒƒiPhoneå°ºå¯¸è§„æ ¼ iPhone4/4S 320x480iPhone5/5C/5S 320x568iPhone6/6S/7/8 375x667iPhone6P/6SP/7P/8P 414x736iPhone X 375x812 LaunchImage å¯åŠ¨å›¾ 640 x960 ã€750x1334 ã€640x1336 ã€ 1242 x2208 ã€1125 x2436 iOSç³»ç»Ÿæƒé™123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!-- ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œç›¸å†Œ --&gt; &lt;key&gt; NSPhotoLibraryAddUsageDescription &lt;/key&gt; &lt;string&gt;ä¸ºäº†æŠŠæ‚¨æ¶‚é¸¦å¥½çš„å›¾ç‰‡ä¿å­˜åˆ°ç›¸å†Œï¼Œéœ€è¦æ‚¨æä¾›æŽˆæƒ&lt;/string&gt; &lt;!-- èŽ·å–ç›¸å†Œçš„å›¾ç‰‡ --&gt; &lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®ç›¸å†Œ&lt;/string&gt; &lt;!-- ç›¸æœº --&gt; &lt;key&gt;NSCameraUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®ç›¸æœº&lt;/string&gt; &lt;!-- éº¦å…‹é£Ž --&gt; &lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®éº¦å…‹é£Ž&lt;/string&gt; &lt;!-- ä½ç½® --&gt; &lt;key&gt;NSLocationUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®ä½ç½®&lt;/string&gt; &lt;!-- åœ¨ä½¿ç”¨æœŸé—´è®¿é—®ä½ç½® --&gt; &lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½åœ¨ä½¿ç”¨æœŸé—´è®¿é—®ä½ç½®&lt;/string&gt; &lt;!-- å§‹ç»ˆè®¿é—®ä½ç½® --&gt; &lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½å§‹ç»ˆè®¿é—®ä½ç½®&lt;/string&gt; &lt;!-- æ—¥åŽ† --&gt; &lt;key&gt;NSCalendarsUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®æ—¥åŽ†&lt;/string&gt; &lt;!-- æé†’äº‹é¡¹ --&gt; &lt;key&gt;NSRemindersUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®æé†’äº‹é¡¹&lt;/string&gt; &lt;!-- è¿åŠ¨ä¸Žå¥èº« --&gt; &lt;key&gt;NSMotionUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®è¿åŠ¨ä¸Žå¥èº«&lt;/string&gt; &lt;!-- å¥åº·æ›´æ–° --&gt; &lt;key&gt;NSHealthUpdateUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®å¥åº·æ›´æ–° &lt;/string&gt; &lt;!-- å¥åº·åˆ†äº« --&gt; &lt;key&gt;NSHealthShareUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®å¥åº·åˆ†äº«&lt;/string&gt; &lt;!-- è“ç‰™ --&gt; &lt;key&gt;NSBluetoothPeripheralUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®è“ç‰™&lt;/string&gt; &lt;!-- åª’ä½“èµ„æ–™åº“ --&gt; &lt;key&gt;NSAppleMusicUsageDescription&lt;/key&gt; &lt;string&gt;Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½è®¿é—®åª’ä½“èµ„æ–™åº“&lt;/string&gt;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[BMScan åšå®¢è®²è§£]]></title>
    <url>%2F2017%2F05%2F09%2F2017%2FBMScan-%E5%8D%9A%E5%AE%A2%E8%AE%B2%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[BMScan å¯¹ç³»ç»Ÿæ‰«æåŠŸèƒ½çš„å°è£…ï¼Œé›†æˆäº†æ‰«æç›¸å…³ UI å’Œè‡ªå®šä¹‰è¯†åˆ«åŒºåŸŸç­‰åŠŸèƒ½ï¼Œæœ€ç®€å•çš„ä½¿ç”¨éœ€è¦ç»§æ‰¿äºŽ BMScanController æˆ–è€… BMScanDefaultCotrollerå³å¯ã€‚ Githubåœ°å€ æ•ˆæžœå›¾ ä½¿ç”¨è¯´æ˜Žåªéœ€è¦æ‰«æåŠŸèƒ½ åˆ›å»ºæ‰«ææŽ§åˆ¶å™¨ç»§æ‰¿äºŽ BMScanController é…ç½® BMScanDelegate ä»£ç† å½“æ‰«æåˆ°å†…å®¹æ—¶å›žä¼šè§¦å‘ä¸‹é¢çš„ä»£ç†æ–¹æ³• 1- (void)scanController:(BMScanController *)scanController captureWithValueString:(NSString *)valueString; å¦‚æžœæƒ³åœ¨å¼€å§‹æ‰«æå’Œç»“æŸæ‰«ææ—¶åšé¢å¤–çš„æ“ä½œå¯ä»¥é‡å†™ä¸‹é¢çš„æ–¹æ³•,éœ€è¦å…ˆè°ƒç”¨ super,å·²ç”¨NS_REQUIRES_SUPERä¿®é¥° 123456789/** å¼€å§‹æ‰«æ */- (void)startScanning NS_REQUIRES_SUPER;/** ç»“æŸæ‰«æ */- (void)closureScanning NS_REQUIRES_SUPER; è‡ªå®šä¹‰æ‰«æ UI å¦‚æžœéœ€è¦è‡ªå®šä¹‰æ‰«æUIï¼Œæ‰«æåŠ¨ç”»å¯ä»¥ç»§æ‰¿äºŽ BMScanDefaultCotrollerå¯è½»æ¾å®žçŽ°å¸¸è§åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥å®Œå…¨ç»§äºŽBMScanDelegateè‡ªè¡Œå®žçŽ° åˆ›å»ºæ‰«ææŽ§åˆ¶å™¨ç»§æ‰¿äºŽ BMScanDefaultCotroller é…ç½® BMScanDelegate å’Œ BMScanDefaultDataSource ä»£ç† å‚è€ƒä»£ç†ä¸­çš„æ–¹æ³•å®žçŽ°ç›¸å…³åŠŸèƒ½å³å¯ è‡ªå®šä¹‰é€æ˜Žæ‰«æåŒºåŸŸ12345678910111213141516171819202122232425262728293031/** æ‰«æåŒºåŸŸ X å€¼ @param scanController æ‰«ææŽ§åˆ¶å™¨ @return X å€¼ */- (CGFloat)areaXInscanController:(BMScanController *)scanController;/** æ‰«æåŒºåŸŸ Y å€¼ @param scanController æ‰«ææŽ§åˆ¶å™¨ @return Y å€¼ */- (CGFloat)areaYInscanController:(BMScanController *)scanController;/** æ‰«æåŒºåŸŸ Width å€¼ @param scanController æ‰«ææŽ§åˆ¶å™¨ @return Width å€¼ */- (CGFloat)areaWidthInscanController:(BMScanController *)scanController;/** æ‰«æåŒºåŸŸ Height å€¼ @param scanController æ‰«ææŽ§åˆ¶å™¨ @return Height å€¼ */ - (CGFloat)areaXHeightInscanController:(BMScanController *)scanController; æ ‡é¢˜è·æ‰«æåŒºåŸŸçš„è·ç¦»1234567/** æ ‡é¢˜è·æ‰«æåŒºåŸŸçš„è·ç¦» @param scanController æ‰«ææŽ§åˆ¶å™¨ @return è·ç¦» */- (CGFloat)areaTitleDistanceHeightInscanController:(BMScanController *)scanController; éžæ‰«æåŒºåŸŸçš„é¢œè‰²ï¼ˆåŠé€æ˜ŽåŒºåŸŸï¼‰1234567/** æ ‡é¢˜è·æ‰«æåŒºåŸŸçš„è·ç¦» @param scanController æ‰«ææŽ§åˆ¶å™¨ @return è·ç¦» */- (CGFloat)areaTitleDistanceHeightInscanController:(BMScanController *)scanController; 4ä¸ªæ‹è„šçš„é¢œè‰²1234567/** è„šé¢œè‰² @param scanController æ‰«ææŽ§åˆ¶å™¨ @return é¢œè‰²å€¼ */- (UIColor *)feetColorInscanController:(BMScanController *)scanController; 4ä¸ªæ‹è„šçš„é¢œè‰²åˆ†åˆ«è‡ªå®šä¹‰12345678910111213141516171819202122232425262728293031/** å·¦ä¸Šè„šé¢œè‰² @param scanController æ‰«ææŽ§åˆ¶å™¨ @return é¢œè‰²å€¼ */- (UIColor *)leftTopColorInscanController:(BMScanController *)scanController;/** å·¦ä¸‹è„šé¢œè‰² @param scanController æ‰«ææŽ§åˆ¶å™¨ @return é¢œè‰²å€¼ */- (UIColor *)leftBottonColorInscanController:(BMScanController *)scanController;/** å³ä¸Šè„šé¢œè‰² @param scanController æ‰«ææŽ§åˆ¶å™¨ @return é¢œè‰²å€¼ */- (UIColor *)rightTopInscanController:(BMScanController *)scanController;/** å³ä¸‹è„šé¢œè‰² @param scanController æ‰«ææŽ§åˆ¶å™¨ @return é¢œè‰²å€¼ */- (UIColor *)rightBottonInscanController:(BMScanController *)scanController; æ‰«æçº¿é¢œè‰²1234567/** æ‰«æçº¿æ¡é¢œè‰² @param scanController æ‰«ææŽ§åˆ¶å™¨ @return é¢œè‰²å€¼ */- (UIColor *)scanfLinInscanController:(BMScanController *)scanController; æ‰«ææ¡åŠ¨ç”» å¾…è¡¥å……æ›´å¤šæ ·å¼å’Œè‡ªå®šä¹‰æ ·å¼ 1234567/** æ‰«æçº¿æ¡åŠ¨ç”» @param scanController æ‰«ææŽ§åˆ¶å™¨ @return åŠ¨ç”»å€¼ */- (BMScanLinViewAnimation)scanLinViewAnimationInscanController:(BMScanController *)scanController; æ‰«æçº¿æ¡ç±»åž‹1234567/** æ‰«æçº¿æ¡ç±»åž‹ @param scanController æ‰«ææŽ§åˆ¶å™¨ @return æ‰«æçº¿æ¡ç±»åž‹ */- (BMScanLin)scanLinInscanController:(BMScanController *)scanController; å¯è¯†åˆ«åŒºåŸŸ å¯ä»¥ç»§äºŽBMScanDefaultCotrollerä¸éœ€è¦è€ƒè™‘ï¼Œå†…éƒ¨ä¼šæœ‰æ‰«æåŒºåŸŸæ¥ç¡®å®šå¯è¯†åˆ«åŒºåŸŸ,å¦‚æžœæœ‰ç‰¹æ®Šè¦æ±‚å¯å®žçŽ°BMScanDataSourceåè®®çš„å¦‚ä¸‹æ–¹æ³•å³å¯ 1234567/** è®¾ç½®å¯ä»¥è¯†åˆ«åŒºåŸŸ @param scanController æ‰«ææŽ§åˆ¶å™¨ @return å¯è¯†åˆ«åŒºåŸŸ */- (CGRect)rectOfInterestInScanController:(BMScanController *)scanController; æ–¹æ³•é¢„è§ˆ BMScanDelegate, cocoapodsæ–‡æ¡£ BMScanDataSource, cocoapodsæ–‡æ¡£ BMScanDefaultDataSource, cocoapodsæ–‡æ¡£]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[NSObject Runtime æ‚è´§é“º]]></title>
    <url>%2F2017%2F04%2F25%2F2017%2FNSObject-Runtime-%E6%9D%82%E8%B4%A7%E9%93%BA%2F</url>
    <content type="text"><![CDATA[Blog ä»‹ç» å…³è”Github 1.æ”¶é›†ä¸€äº›å…³äºŽRuntimeçš„Blog2.ä¸€äº›Runtimeå®žä¾‹ä»£ç åŒ…æ‹¬ä»‹ç» Runtime Blog å¾…è¡¥å…… Runtimeå®žä¾‹ä»£ç å¯¹è±¡ç»‘å®š12345678// å¯¹è±¡ç»‘å®šobjc_setAssociatedObject(&lt;#id object#&gt;, &lt;#const void *key#&gt;, &lt;#id value#&gt;, &lt;#objc_AssociationPolicy policy#&gt;) // èŽ·å–ç»‘å®šçš„å¯¹è±¡objc_getAssociatedObject(&lt;#id object#&gt;, &lt;#const void *key#&gt;) // åˆ é™¤å¯¹è±¡çš„æ‰€æœ‰ç»‘å®šï¼ˆå¯ä»¥ä½¿ç”¨ objc_setAssociatedObject ç»‘å®š nil æ¥è§£é™¤æŒ‡å®š key çš„ç»‘å®šï¼‰objc_removeAssociatedObjects(&lt;#id object#&gt;) èŽ·å–ç±»çš„å±žæ€§åˆ—è¡¨1234567891011unsigned int count = 0;// 1.èŽ·å–å±žæ€§åˆ—è¡¨objc_property_t *propertys = class_copyPropertyList(UIViewController.class, &amp;count); // 2.éåŽ†å±žæ€§while (count--) &#123; const char *propertyName = property_getName(propertys[count]); NSLog(@"å±žæ€§ ï¼š%@", [NSString stringWithUTF8String:propertyName]);&#125;// 3.é‡Šæ”¾ propertysfree(propertys); èŽ·å–ç±»çš„æˆå‘˜å˜é‡åˆ—è¡¨12345678910unsigned int count = 0;// 1.èŽ·å–æˆå‘˜å˜é‡åˆ—è¡¨Ivar *ivar = class_copyIvarList(UIViewController.class, &amp;count);// 2.éåŽ†æˆå‘˜å˜é‡åˆ—è¡¨while (count--) &#123; const char *ivarName = ivar_getName(ivar[count]); NSLog(@"æˆå‘˜å˜é‡ ï¼š%@", [NSString stringWithUTF8String:ivarName]);&#125;// é‡Šæ”¾ ivarfree(ivar); èŽ·å–ç±»çš„æ–¹æ³•åˆ—è¡¨12345678910unsigned int count = 0;// 1.èŽ·å–æ–¹æ³•åˆ—è¡¨Method *method = class_copyMethodList(UIViewController.class, &amp;count);// 2.éåŽ†æ–¹æ³•åˆ—è¡¨while (count--) &#123; SEL sel = method_getName(method[count]); NSLog(@"æ–¹æ³• ï¼š%@", NSStringFromSelector(sel));&#125;// é‡Šæ”¾ methodfree(method); èŽ·å–ç±»çš„åè®®åˆ—è¡¨12345678910unsigned int count = 0;// 1.èŽ·å–éµå®ˆçš„åˆ—è¡¨__unsafe_unretained Protocol **protocols = class_copyProtocolList(UIViewController.class, &amp;count);// 2.éåŽ†éµå®ˆçš„éµå®ˆåˆ—è¡¨while (count--) &#123; const char *protocolName = protocol_getName(protocols[count]); NSLog(@"åè®® ï¼š%@", [NSString stringWithUTF8String:protocolName]);&#125;// 3.é‡Šæ”¾ methodfree(protocols); äº¤æ¢ 2 ä¸ªæ–¹æ³•çš„è°ƒç”¨å‚è€ƒ1ï¼Œå‚è€ƒ2ï¼Œå‚è€ƒ3åœ¨å®žé™…ä½¿ç”¨æ—¶éœ€ä½¿ç”¨+ (void)load {} + dispatch_onceä¿è¯åªäº¤æ¢ä¸€æ¬¡ äº¤æ¢å®žä¾‹æ–¹æ³•123456789101112void swizzleInstanceMethod(Class class, SEL originalSelector, SEL swizzledSelector) &#123; // 1.èŽ·å–æ—§ Method Method originalMethod = class_getInstanceMethod(class, originalSelector); // 2.èŽ·å–æ–° Method Method swizzledMethod = class_getInstanceMethod(class, swizzledSelector); // 3.äº¤æ¢æ–¹æ³• if (class_addMethod(class, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod))) &#123; class_replaceMethod(class, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)); &#125; else &#123; method_exchangeImplementations(originalMethod, swizzledMethod); &#125;&#125; äº¤æ¢ç±»æ–¹æ³• å…¶å®žå¯ä»¥çœ‹ç€ä¸ºäº¤æ¢ç±»çš„å…ƒç±»çš„å®žä¾‹æ–¹æ³• 1234567891011121314void swizzleClassMethod(Class class, SEL originalSelector, SEL swizzledSelector) &#123; // 0.èŽ·å–classçš„å…ƒç±» Class metaClass = objc_getMetaClass(class_getName(class)); // 1.èŽ·å–æ—§ Method Method originalMethod = class_getInstanceMethod(metaClass, originalSelector); // 2.èŽ·å–æ–° Method Method swizzledMethod = class_getInstanceMethod(metaClass, swizzledSelector); // 3.äº¤æ¢æ–¹æ³• if (class_addMethod(metaClass, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod))) &#123; class_replaceMethod(metaClass, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)); &#125; else &#123; method_exchangeImplementations(originalMethod, swizzledMethod); &#125;&#125; ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡æ‰€å±žäºŽçš„ç±»åž‹ isa æŒ‡é’ˆ1object_setClass(self, BM_Class); åŠ¨æ€åˆ›å»ºç±»123456Class clas = NSClassFromString(@"BMClass");if (clas)return; // ç±»å·²å­˜åœ¨// 1.åˆ›å»ºç±» BMClassclas = objc_allocateClassPair(NSObject.class, "BMClass", 0);// 2.æ³¨å†Œç±» BMClassobjc_registerClassPair(clas); åŠ¨æ€æ·»åŠ æ–¹æ³• 123456789101112131415161718192021222324#import &lt;Foundation/Foundation.h&gt;#import &lt;objc/runtime.h&gt;@interface Person : NSObject- (void)eat;@end@implementation Person@endvoid eat(id self, SEL _cmd) &#123; NSLog(@"%@ %@", NSStringFromSelector(_cmd) ,self);&#125; // æ·»åŠ æ–¹æ³•çš„ typeså‚æ•° å¯ä»¥å‚è€ƒAppleå®˜æ–¹æ–‡æ¡£// æž„å»º Type Encodings (æ–¹æ³•å‚æ•°æ ¼å¼)Method clazzSetMethod = class_getInstanceMethod(Person.class, NSSelectorFromString(@"eat"));const char *settypes = method_getTypeEncoding(clazzSetMethod); // æ·»åŠ æ–¹æ³• class_addMethod(Person.class, NSSelectorFromString(@"eat"), (IMP) eat, settypes); æ·»åŠ å®žä¾‹æ–¹æ³• imp ä½¿ç”¨å‡½æ•°å¼ºè½¬ 12345 void addInstanceMethod(Class clas, SEL name, IMP imp) &#123; Method clazzSetMethod = class_getInstanceMethod(clas, name); const char *settypes = method_getTypeEncoding(clazzSetMethod); class_addMethod(clas, name, (IMP) imp, settypes);&#125; æ·»åŠ å®žç±»æ–¹æ³• imp ä½¿ç”¨å‡½æ•°å¼ºè½¬ 123456void addClassMethod(Class clas, SEL name, IMP imp) &#123; Class metaClass = objc_getMetaClass(class_getName(clas)); Method clazzSetMethod = class_getInstanceMethod(metaClass, name); const char *settypes = method_getTypeEncoding(clazzSetMethod); class_addMethod(metaClass, name, (IMP) imp, settypes);&#125; æ‰‹åŠ¨å®žçŽ°KVO å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªObjæ·»åŠ  KVOæ—¶ï¼Œ Appleä¼šåŠ¨æ€çš„ä¸ºæ­¤å¯¹è±¡çš„ Class æ·»åŠ ä¸€ä¸ªå­ç±»NSKVONotifying_Classï¼Œç„¶åŽæŠŠObjçš„isaæŒ‡å‘NSKVONotifying_Class(Objå·²æ˜¯NSKVONotifying_Classç±»åž‹çš„å¯¹è±¡)ï¼Œåœ¨ä¸ºNSKVONotifying_Classå¢žåŠ ç›‘æŽ§çš„å±žæ€§çš„setteræ–¹æ³•ï¼Œå½“ç›‘æŽ§çš„å±žæ€§æœ‰æ”¹å˜æ—¶(è§¦å‘ setter æ–¹æ³•æ—¶ï¼Œå¦‚æžœæ²¡æœ‰è§¦å‘setteræ¥ä¿®æ”¹å±žæ€§æ˜¯æ— æ³•ç›‘æŽ§çš„)ï¼Œå°±ä¼šè§¦å‘æ–°åŠ setterï¼Œä¾¿å®žçŽ°äº†KVOåŠŸèƒ½ã€‚ æ ¸å¿ƒæŠ€æœ¯åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±» ä¿®æ”¹å¯¹è±¡æ‰€å±žçš„ç±»åž‹ åŠ¨æ€æ·»åŠ æ–¹æ³• æ¶ˆæ¯è½¬å‘ ä»£ç å®žçŽ°KVO ä¸º NSObject å¢žåŠ ä¸€ä¸ªåˆ†ç±» BMKVO æ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š 123typedef void(^BMKVOChangedBlock)(id newValue, id oldCalue);- (BOOL)bm_addKVOWithKeyPath:(NSString *)keyPath changedBlock:(BMKVOChangedBlock)changedBlock; ä¸º .m æ–‡ä»¶å®žçŽ°å¦‚ä¸‹ï¼š 12345678// æž„å»ºä¸­é—´ç±»å BMKVO_åŽŸç±»åNSString *kvoClassName = [NSString stringWithFormat:@"BMKVO_%@", [NSString stringWithUTF8String:class_getName(self.class)]];// åˆ›å»ºä¸­é—´ç±»Class kvoClass = objc_allocateClassPair(self.class, kvoClassName.UTF8String, 0);// æž„å»º setter æ–¹æ³•åunichar c = [keyPath characterAtIndex:0];NSString *str = [keyPath stringByReplacingCharactersInRange:NSMakeRange(0, 1) withString:[NSString stringWithFormat:@"%c", c-32]];str = [NSString stringWithFormat:@"set%@:", str]; æ·»åŠ æ–¹æ³• 123456// æž„å»º Type Encodings (æ–¹æ³•å‚æ•°æ ¼å¼)Method clazzSetMethod = class_getInstanceMethod(self.class, NSSelectorFromString(str));const char *settypes = method_getTypeEncoding(clazzSetMethod); // æ·»åŠ æ–¹æ³• class_addMethod(kvoClass, NSSelectorFromString(str), (IMP)bm_setter, settypes); å…¶ä¸­ Type Encodings å‚è€ƒå®˜æ–¹æ–‡æ¡£ bm_setter è®²è§£ ä¸Šé¢çš„ bm_setteræ˜¯ä¸€ä¸ªå‡½æ•°å,å‡½æ•°å®žçŽ°å¦‚ä¸‹: 123static void bm_setter(id self, SEL _cmd, id newValue) &#123; // å½“ä¿®æ”¹äº†ç›‘æŽ§çš„å±žæ€§æ—¶,ä¼šè°ƒåˆ°æ­¤å‡½æ•°ï¼Œå¯åœ¨è¿™é‡Œé¢åšç›¸å…³çš„æ“ä½œ&#125; ä¸Šé¢åŸºæœ¬å®Œæˆäº† KVO çš„ç›‘æŽ§ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥æ£€æµ‹åˆ°å±žæ€§çš„ä¿®æ”¹ï¼Œä½†æ˜¯ç›®å‰æ˜¯æ— æ³•ä¿®æ”¹çš„ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬åœ¨ bm_setter å‡½æ•°é‡Œé¢åšç›‘æŽ§å›žè°ƒæ“ä½œï¼ŒåŒæ—¶ä¿®æ”¹å±žæ€§ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨ objc_msgSendSuper() æ¥å‘é€æ¶ˆæ¯ä¿®æ”¹å±žæ€§ã€‚å…·ä½“å®žçŽ°å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930static void bm_setter(id self, SEL _cmd, id newValue) &#123; NSString *str = NSStringFromSelector(_cmd); // 1. åŽ»æŽ‰set NSRange range = [str rangeOfString:@"set"]; NSString *subStr1 = [str substringFromIndex:range.location + range.length]; // 2. é¦–å­—æ¯è½¬æ¢æˆå¤§å†™ unichar c = [subStr1 characterAtIndex:0]; NSString *subStr2 = [subStr1 stringByReplacingCharactersInRange:NSMakeRange(0, 1) withString:[NSString stringWithFormat:@"%c", c+32]]; // 3. åŽ»æŽ‰æœ€åŽçš„: NSRange range2 = [subStr2 rangeOfString:@":"]; NSString *getter = [subStr2 substringToIndex:range2.location]; // 4. å–å‡ºæ—§å€¼ NSString *oldeValue = [self valueForKey:getter]; // 5. æž„å»º objc_super struct objc_super superClazz = &#123; .receiver = self, .super_class = class_getSuperclass(object_getClass(self)) &#125;; // 6. å‘é€æ¶ˆæ¯ï¼ˆç»™ self å‘é€ _cmd æ¶ˆæ¯ å‚æ•°ä¸º newValueï¼‰ ((void (*)(void *, SEL, id))objc_msgSendSuper)(&amp;superClazz, _cmd, newValue); // 7. å¤„ç†ç›‘æŽ§å›žè°ƒ&#125; æŠŠæŒ‡å®šå¯¹è±¡çš„NSStringå±žæ€§åˆå§‹åŒ–ä¸º @â€â€ æœ€è¿‘é‡åˆ°è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œé¡¹ç›®ä¸­åˆ›å»ºçš„ä¸€ä¸ªæ¨¡åž‹ï¼ŒæœåŠ¡å™¨è¿”å›žçš„æ•°æ®å¯èƒ½å¯¼è‡´æ¨¡åž‹ä¸­çš„å±žæ€§ä¸ºnilï¼Œä½†æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å¿…é¡»ä¿è¯æ‰€æœ‰çš„NSStringå±žæ€§å¦‚æžœæ˜¯nilå°±ä½¿ç”¨@â€â€ ä»£æ›¿ï¼Œæœ‰ä¸€ä¸ªå¸¸è§„çš„æ–¹æ³•å°±æ˜¯é‡å†™getteræ–¹æ³•åšnilåˆ¤æ–­ï¼Œä½†æ˜¯å¦‚æžœå±žæ€§è¾ƒéƒ½æ—¶è¾ƒéº»çƒ¦ï¼Œè€Œä¸”å¢žåŠ ä¸€ä¸ªå±žæ€§åˆéœ€è¦ä¿®æ”¹ä»£ç ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ç®€æ´çš„æ–¹æ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šæœ‰çš„ï¼Œå¯¹ï¼Œè‚¯å®šæ˜¯ä½¿ç”¨runtimeæ¥å®žçŽ°ã€‚ä¸‹é¢çš„çš„æ€è·¯æ˜¯åœ¨initæ–¹æ³•ä¸­æŠŠæ‰€æœ‰çš„NSStringå±žæ€§è®¾ç½®ä¸º@â€â€ã€‚ èŽ·å–åˆ°æ‰€æœ‰å±žæ€§ ä½¿ç”¨kvcå–å€¼æ¥ åˆ¤æ–­æ˜¯å¦ä¸ºnil å¦‚æžœæ˜¯nilåœ¨åˆ¤æ–­æ˜¯å¦ä¸ºNSStringç±»åž‹ å¦‚æžœæ˜¯NSStringå°±ä½¿ç”¨kvcè®¾ç½®ä¸º@â€â€ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@implementation BMModelstatic const char *getPropertyType(objc_property_t property) &#123; const char *attributes = property_getAttributes(property); char buffer[1 + strlen(attributes)]; strcpy(buffer, attributes); char *state = buffer, *attribute; while ((attribute = strsep(&amp;state, ",")) != NULL) &#123; // éžå¯¹è±¡ç±»åž‹ if (attribute[0] == 'T' &amp;&amp; attribute[1] != '@') &#123; // åˆ©ç”¨NSDataå¤åˆ¶ä¸€ä»½å­—ç¬¦ä¸² return (const char *) [[NSData dataWithBytes:(attribute + 1) length:strlen(attribute) - 1] bytes]; // çº¯idç±»åž‹ &#125; else if (attribute[0] == 'T' &amp;&amp; attribute[1] == '@' &amp;&amp; strlen(attribute) == 2) &#123; return "id"; // å¯¹è±¡ç±»åž‹ &#125; else if (attribute[0] == 'T' &amp;&amp; attribute[1] == '@') &#123; return (const char *) [[NSData dataWithBytes:(attribute + 3) length:strlen(attribute) - 4] bytes]; &#125; &#125; return "";&#125;- (instancetype)init &#123; if (self = [super init]) &#123; unsigned int count = 0; // 1.èŽ·å–å±žæ€§åˆ—è¡¨ objc_property_t *propertys = class_copyPropertyList(self.class, &amp;count); // 2.éåŽ†å±žæ€§ while (count--) &#123; // å–å±žæ€§ objc_property_t property = propertys[count]; // èŽ·å–å±žæ€§åç§° const char *propertyName = property_getName(property); // èŽ·å–å±žæ€§åç§° NSString *propertyNameStr = [NSString stringWithUTF8String:propertyName]; // èŽ·å–å±žæ€§ç±»åž‹ const char *propertyTypeName = getPropertyType(property); // ä½¿ç”¨kvcèŽ·å–å€¼ id propertyValue = [self valueForKey:propertyNameStr]; if (!propertyValue) &#123; // å¦‚æžœå€¼æ˜¯nil if (strncmp("NSString", propertyTypeName, strlen("NSString")) == 0) &#123; // å¦‚æžœå±žæ€§ç±»åž‹æ˜¯ NSString [self setValue:@"" forKey:propertyNameStr]; &#125; &#125; &#125; // 3.é‡Šæ”¾ propertys free(propertys); &#125; return self;&#125;@end åŸºäºŽä¸Šé¢çš„ä»£ç ï¼Œé‚£ä¹ˆå°±å¯ä»¥è‡ªå®šä¹‰å„ç§åœºæ™¯äº†å§ï¼Œå¯¹æ¨¡åž‹åšå„ç§è‡ªå®šä¹‰åˆå§‹åŒ–å°±ä¸åœ¨è¯ä¸‹äº†ã€‚ ä»¥ä¸Šä»£ç å‚è€ƒè‡ª:è¿™é‡Œ å‚è€ƒ https://developer.apple.com/reference/objectivec/objective_c_runtime å—å³°å­ Objective-Cè¿è¡Œæ—¶ http://www.liuchungui.com/blog/2016/03/14/runtimezhi-lei-yu-dui-xiang-zong-jie https://justinyan.me/post/1624 https://dayon.gitbooks.io/-ios/content/chapter8.html http://www.cnblogs.com/whyandinside/archive/2013/02/26/2933552.html http://blog.csdn.net/windyitian/article/details/19810875 https://ming1016.github.io/2015/04/01/objc-runtime/]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Xcode8 çš„ä¸€äº›é—®é¢˜å¤„ç†æ–¹å¼]]></title>
    <url>%2F2016%2F09%2F16%2F2016%2FXcode8-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Apple åœ¨ 2016å¹´09æœˆ14æ—¥ å‡Œæ™¨æŽ¨é€äº† Xcode8 å’Œ iOS10ï¼Œå½“æ›´æ–° Xcode8 ä»¥åŽä½¿ç”¨é‡åˆ°äº†ä¸€äº›å°é—®é¢˜ï¼Œä¸‹é¢å°±ç®€å•çš„è¯´ä¸€ä¸‹è‡ªå·±é‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠå¤„ç†æ–¹æ¡ˆ NSLog é—®é¢˜ ä½¿ç”¨ Xcode8 æ–°å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼Œè¿è¡Œæ—¶ä¼šæœ‰ä¸€äº›å¤šä½™çš„ log, å¦‚ä¸‹ï¼š 12016-09-16 16:09:56.726511 a[3930:443097] subsystem: com.apple.UIKit, category: HIDEventFiltered, enable_level: 0, persist_level: 0, default_ttl: 0, info_ttl: 0, debug_ttl: 0, generate_symptoms: 0, enable_oversize: 1, privacy_setting: 2, enable_private_data: 0 å¤„ç†æ–¹æ¡ˆä¸ºï¼š OS_ACTIVITY_MODE = disable å‚è€ƒäºŽstackoverflowçš„ç­”æ¡ˆ swiftä¸‹ NSLog çš„ä¸€äº›é…ç½® æ³¨é‡Šçš„é—®é¢˜ ä¸‹é¢å¼•ç”¨iOSå¼€å‘å¿…å¤‡æ³¨é‡Šæ’ä»¶ç»´æŠ¤è€… å–µç¥ž åœ¨ VVDocumenterä¸­æœ€æ–°æ›´æ–°çš„è¯ Xcode8 ä»¥åŽ Appleå‡ºäº†è‡ªå·±çš„æ³¨é‡Šå¿«æ·æ–¹å¼ï¼šâ€optionâ€ + â€œâŒ˜â€ + â€œ/â€œä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ Apple æŠŠæ’ä»¶å±è”½äº†ï¼Œå¤„ç†æ–¹æ¡ˆä¸ºï¼šå‘½ä»¤è¡Œæ‰§è¡Œ sudo /usr/libexec/xpccachectl ç„¶åŽé‡å¯ Xcodeå³å¯æ­£å¸¸ä½¿ç”¨ï¼Œå‚è€ƒäºŽæ­¤ ç³»ç»Ÿæƒé™é—®é¢˜ åœ¨ iOS10 ä»¥åŽå¦‚æžœæƒ³è®¿é—®ç”¨æˆ·ç›¸å…³æƒé™æ—¶å¿…é¡»åœ¨ info.plist æ·»åŠ ç›¸å…³çš„è®¿é—®è¯´æ˜Žï¼Œå’Œè®¿é—®åœ°ç†ä½ç½®ç±»ä¼¼ã€‚ NSBluetoothPeripheralUsageDescription è“ç‰™ NSCalendarsUsageDescription æ—¥åŽ† NSCameraUsageDescription ç›¸æœº NSPhotoLibraryUsageDescription ç›¸å†Œ NSContactsUsageDescription é€šè®¯å½• NSLocationAlwaysUsageDescription å§‹ç»ˆè®¿é—®ä½ç½® NSLocationWhenInUseUsageDescription åœ¨APPä½¿ç”¨æœŸé—´è®¿é—®ä½ç½® NSMicrophoneUsageDescription éº¦å…‹é£Ž xcode7.3 è°ƒè¯• iOS10 çœŸæœº èŽ·å– iOSåŒ… ç™¾åº¦äº‘ç›˜å¯†ç ï¼š49tn æŠŠåˆšæ‰çš„ä¸‹è½½çš„åŒ…æ‹·è´åˆ°ï¼š åº”ç”¨ç¨‹åº Xcode â€“&gt; æ˜¾ç¤ºåŒ…å†…å®¹ â€“&gt; Developer â€“&gt; Platformsâ€“iPhoneOS.platform -&gt; DeviceSupport é‡Œps: å¦‚æžœå®³æ€•å®‰å…¨é—®é¢˜ï¼Œæ˜¯å¦å¯ä»¥ç›´æŽ¥ åœ¨å‡çº§äº† Xcode8 çš„ç”µè„‘ä¸­èŽ·å–åˆ° ä¸Šé¢è·¯å¾„ä¸‹çš„ iOS åŒ… æ‹·è´åˆ°Xcode7.3 ç›¸åº”çš„ä½ç½®å³å¯ Xcode å‡çº§åŽçš„ä¸€äº›é—®é¢˜åœ¨å‡çº§XcodeåŽï¼Œæ‰§è¡Œ git ç›¸å…³å‘½ä»¤ï¼ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š xcrun: error: active developer path (â€œ/Applications/Xcode7.3.app/Contents/Developerâ€) does not exist, use sudo xcode-select --switch path/to/Xcode.app to specify the Xcode that you wish to use for command line developer tools (or see man xcode-select) è§£å†³æ–¹æ¡ˆï¼š 1ã€sudo xcode-select â€“switch â€œXcode æ‰€åœ¨ç›®å½•â€ 2ã€è¾“å…¥ç”µè„‘å¯†ç  å‡çº§ Xcode8 æ—¶ï¼Œcocoaposæ— æ³•ä½¿ç”¨æ‰§è¡Œ pod initæ— æ³•åˆ›å»ºbreadourne.xcworkspaceæ–‡ä»¶ æŸ¥æ‰¾èµ„æ–™å¾—:æ‰§è¡Œ sudo gem install -n /usr/local/bin cocoapods --pre åŽå¯æ­£å¸¸ä½¿ç”¨ å‚è€ƒè‡ªï¼šhttp://www.jianshu.com/p/af3afa16d3a5/comments/4413467]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Xcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objective-C ä¸Ž Swift æ–¹æ³•çš„ç±»æ¯”ç³»åˆ—ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2016%2F09%2F11%2F2016%2FObjective-C%E4%B8%8ESwift%E6%96%B9%E6%B3%95%E7%9A%84%E7%B1%BB%E6%AF%94%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å•ä¾‹Objective-C å†™æ³•1234567891011121314@interface IHUserManager : NSObject+ (instancetype)sharedInstance;@end@implementation IHUserManager+ (instancetype)sharedInstance &#123; static IHUserManager *sharedInstance = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; sharedInstance = [[self alloc] init]; &#125;); return sharedInstance;&#125;@end Swift å†™æ³• 1234import Foundationclass IHUserManager &#123; static let sharedInstance = IHUserManager()&#125; blockå’Œé—­åŒ…åœ¨å¯¹è±¡ç»‘å®šæ—¶çš„å‘åˆ†æž åœ¨ oc ä¸­ï¼Œä½¿ç”¨ runtime çš„å¯¹è±¡ç»‘å®šç›¸ä¿¡å¤§å®¶éƒ½ä½¿ç”¨è¿‡ï¼Œè€Œä¸”åœ¨ block ä¸Šçš„ä½¿ç”¨ä¹Ÿç»å¸¸çœ‹åˆ°ï¼Œåœ¨ oc ä¸­å¯ä»¥æŠŠ block ç›´æŽ¥ä½¿ç”¨ runtime é€šè¿‡ key å’Œå…¶ä»–çš„å¯¹è±¡ç»‘å®šèµ·æ¥ï¼Œä½†åœ¨ swift ä¸­é—­åŒ…ä¸æ˜¯ï¼šAnyObject ç±»åž‹ ä½¿ç”¨åœ¨è¿›è¡Œå¯¹è±¡ç»‘å®šæ—¶æ— æ³•è¿›è¡Œã€‚å‚è€ƒï¼š1.stackoverflow.comã€2.http://nshipster.cn éœ€è¦ä½¿ç”¨ï¼špublic func unsafeBitCast&lt;T, U&gt;(x: T, _: U.Type) -&gt; Uå‡½æ•° ä»£ç å®žçŽ° å¯¹ UIControl å¢žåŠ  Block å±žæ€§å’Œ Closure å±žæ€§ swift å…·ä½“çš„å®žçŽ°å¦‚ä¸‹ï¼š123456789101112131415161718192021typealias IHClosure = @convention(block)() -&gt; () extension UIControl &#123; private struct ClosureKey &#123; static var touchUpInsideKey = "touchUpInsideKey" &#125; func ih_addTouchUpInsideClosure(closure: IHClosure) &#123; let obj: AnyObject = unsafeBitCast(closure, AnyObject.self) objc_setAssociatedObject(self, &amp;ClosureKey.touchUpInsideKey, obj, .OBJC_ASSOCIATION_COPY_NONATOMIC) self.addTarget(self, action: #selector(UIControl._touchUpInside), forControlEvents: .TouchUpInside) &#125; @objc private func _touchUpInside() &#123; let obj: AnyObject = objc_getAssociatedObject(self, &amp;ClosureKey.touchUpInsideKey) let closure: IHClosure = unsafeBitCast(obj, IHClosure.self) closure() &#125;&#125; Objective-C å…·ä½“çš„å®žçŽ°å¦‚ä¸‹ï¼š1234567891011121314151617#import "UIControl+Block.h"#import &lt;objc/runtime.h&gt; const char kTouchUpInside = '\0'; @implementation UIControl (Block) - (void)ih_addTouchUpInsideWithBlock:(dispatch_block_t)block &#123; objc_setAssociatedObject(self, @selector(_touchControlEvents), block, OBJC_ASSOCIATION_COPY_NONATOMIC); [self addTarget:self action:@selector(_touchControlEvents) forControlEvents:UIControlEventTouchUpInside];&#125; - (void)_touchControlEvents &#123; dispatch_block_t block = objc_getAssociatedObject(self, _cmd); if (block) block();&#125;@end swift å’Œ oc ä¹‹ loadæ–¹æ³•ä¸åŒä»¥åŠå¤„ç†æ–¹æ¡ˆåˆ†æž åœ¨ oc å¼€å‘ä¸­ï¼ŒAPPç»Ÿè®¡æ—¶ï¼Œè‡ªç„¶ä¼šä½¿ç”¨åˆ° æ–¹æ³•çš„æ›¿æ¢,ä¸‹é¢æ–¹æ³• OBJC_EXPORT void method_exchangeImplementations(Method m1, Method m2) __OSX_AVAILABLE_STARTING(__MAC_10_5, __IPHONE_2_0); é€šå¸¸ä¼šä¸º vc æ·»åŠ ä¸€ä¸ª category åŒæ—¶åœ¨ + load æ–¹æ³•é‡Œé¢çš„å…¶åšç›¸åº”çš„å¤„ç†ã€‚ä½†åœ¨ swift ä¸­ç³»ç»Ÿä¸å…è®¸ä½¿ç”¨ + load æ–¹æ³•ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åŠžæ³•ä½¿ç”¨ï¼š+ initialize æ–¹æ³• ä»£ç å®žçŽ°oc å…·ä½“çš„å®žçŽ°å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132#import "UIViewController+Swizzle.h"#import &lt;objc/runtime.h&gt; @implementation UIViewController (Swizzle) + (void)load &#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; // èŽ·å–ç³»ç»Ÿçš„æ–¹æ³•çš„ æ–¹æ³•å¯¹è±¡ Method orignViewDidLoad = class_getInstanceMethod([UIViewController class], @selector(viewDidLoad)); // èŽ·å–å‡†å¤‡ç”¨æ¥æ›¿æ¢çš„ æ–¹æ³•å¯¹è±¡ Method replacingMethod = class_getInstanceMethod([UIViewController class], @selector(_viewDidLoad_Swizzling)); BOOL didAddMethod = class_addMethod([self class], @selector(viewDidLoad), method_getImplementation(replacingMethod), method_getTypeEncoding(replacingMethod)); if (didAddMethod) &#123; // æ›¿æ¢ä¸€ä¸‹æ–¹æ³•åœ°å€ class_replaceMethod([self class], @selector(_viewDidLoad_Swizzling), method_getImplementation(orignViewDidLoad), method_getTypeEncoding(orignViewDidLoad)); &#125;else&#123; // ç›´æŽ¥äº¤æ¢çš„è°ƒç”¨ method_exchangeImplementations(orignViewDidLoad, replacingMethod); &#125; &#125;);&#125; + (void)_viewDidLoad_Swizzling &#123; [self _viewDidLoad_Swizzling];&#125;@end swift å…·ä½“çš„å®žçŽ°å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132extension UIViewController &#123; public override class func initialize() &#123; struct Static &#123; static var token: dispatch_once_t = 0 &#125; if self !== UIViewController.self &#123; return &#125; dispatch_once(&amp;Static.token) &#123; let originalSelector = #selector(UIViewController.viewWillAppear(_:)) let swizzledSelector = #selector(UIViewController.nsh_viewWillAppear(_:)) let originalMethod = class_getInstanceMethod(self, originalSelector) let swizzledMethod = class_getInstanceMethod(self, swizzledSelector) let didAddMethod = class_addMethod(self, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)) if didAddMethod &#123; class_replaceMethod(self, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)) &#125; else &#123; method_exchangeImplementations(originalMethod, swizzledMethod); &#125; &#125; &#125; func nsh_viewWillAppear(animated: Bool) &#123; self.nsh_viewWillAppear(animated) &#125;&#125; swift å’Œ oc ä¹‹ Log å¤„ç† åœ¨ oc ä¸­ä¸º: NSLog åœ¨ swift ä¸­ä¸º: print æˆ‘ä»¬åœ¨å¹³å¸¸çš„å¼€å‘ä¸­è‚¯å®šä¼šå¯¹ oc çš„ NSLog åšä¸€ä¸ªç‰¹æ®Šå¤„ç†ï¼Œæ‰“å°æ›´å¤šçš„ä¿¡æ¯ï¼Œåœ¨ä¸Šçº¿ä»¥åŽå…³é—­æ—¥å¿—è¾“å‡ºï¼Œæœ€ç®€å•çš„å®žçŽ°æ–¹å¼å¦‚ä¸‹ï¼š 12345#ifdef DEBUG #define DLog(fmt, ...) NSLog((@"%s [Line %d] " fmt), __PRETTY_FUNCTION__, __LINE__, ##__VA_ARGS__);#else #define DLog(...)#endif ä½†æ˜¯åœ¨ swift ä¸­æ²¡æœ‰å®å®šä¹‰ï¼Œä½¿ç”¨ä¹Ÿæ²¡ ocä¸­çš„ DEBUG. ç®€å•çš„ä»£ç å¦‚ä¸‹ï¼š 12345func IHLog&lt;T&gt;(message: T , file: String = (#file as NSString).lastPathComponent, funcName: String = #function, linNUm: Int = #line) -&gt; () &#123; print("\(file) [\(funcName)] \(linNUm) : \(message)")&#125; æ·»åŠ çŽ¯å¢ƒæŽ§åˆ¶ï¼š ä¼˜åŒ–çš„ä»£ç å¦‚ä¸‹ï¼š 1234567 func IHLog&lt;T&gt;(message: T , file: String = (#file as NSString).lastPathComponent, funcName: String = #function, linNUm: Int = #line) -&gt; () &#123; #if IS_DEBUG print("\(file) [\(funcName)] \(linNUm) : \(message)") #endif&#125; PS: IS_DEBUG æ˜¯ä½ éšä¾¿å–çš„å“¦ åœ¨æ·»åŠ çš„åœ°æ–¹å¿…é¡»ä¸º: -D+åç§°ï¼Œè¿™é‡Œæˆ‘å–ä¸º IS_DEBUG å¤§åŠŸå‘Šæˆï¼Œrelease çŽ¯å¢ƒä¸‹ä¸ä¼šæœ‰ log ä¿¡æ¯äº†ã€O(âˆ©_âˆ©)Oå“ˆå“ˆ~ Githubæºç  äº¤æ¢2ä¸ªå€¼OCä½¿ç”¨çš„æ–¹æ³•å°±ä¸æè¿°äº†Swift ä½¿ç”¨å…ƒç»„123var obj1 = "1"var obj2 = "2"(obj1, obj2) = (obj2, obj1) GCDå»¶æ—¶å‡½æ•°1234func delay(_ delay:Double, closure:@escaping ()-&gt;()) &#123; let when = DispatchTime.now() + delay DispatchQueue.main.asyncAfter(deadline: when, execute: closure)&#125; 123delay(1) &#123; //...&#125; SEL123#selector(UIViewController.present(_:animated:completion:))let vc = UIViewController()#selector(vc.self.present(_:animated:completion:)) èŽ·å–ç±» class12self.classself.self æ˜¯å¦å±žäºŽä¸€ä¸ªç±»åž‹123456789// æ˜¯å¦å±žäºŽä¸€ä¸ªç±»åž‹if self is UIViewController &#123;&#125;let obj = NSObject()if obj is [String] &#123; print("c")&#125;if obj is [Any] &#123;&#125; copy mutableCopy123456// copy mutableCopyvar arr = [String]()let arr1 = (arr as NSArray).mutableCopy()let arr2 = (arr as NSArray).copy()arr = arr1 as! Array&lt;String&gt;arr = arr2 as! Array&lt;String&gt; for in123456789for i in 1...2 &#123;&#125;for i in 1..&lt;2 &#123;&#125;for obj in array&#123;&#125;for (i, obj) in (array?.enumerated())! &#123; array?[i] = (obj as! NSArray).mutableCopy() as! [Any]&#125; å±žæ€§ å‚è€ƒ1 å‚è€ƒ2 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192class Person: NSObject &#123; var name = ""&#125;class BMPerson: Person &#123; /// å­˜å‚¨å±žæ€§ var name1 = "" var name2: String = "" var name3: String? = "" var name4: String? /// æ‡’åŠ è½½ï¼Œswift lazy å’Œ ocæ‡’åŠ è½½ä¸åŒï¼Œswiftçš„æ‡’åŠ è½½æ°¸è¿œåªä¼šèµ°ä¸€æ¬¡ï¼Œä¸æ˜¯å’Œocä¸€æ ·åšéžnil åˆ¤æ–­ lazy var name6 = "c" lazy var name7: String = "c" lazy var view1: UIView = &#123; let view = UIView() view.frame = CGRect.init(x: 0, y: 0, width: 100, height: 100) view.backgroundColor = .red return view &#125;() /// è®¡ç®—å±žæ€§ï¼Œä¸ä¼šç”ŸæˆåŠŸæˆå‘˜å˜é‡ï¼Œç­‰äºŽocä¸­é‡å†™äº†set get æ–¹æ³• var name8: String? &#123; get &#123; print("get") return "" &#125; set &#123; print("set") &#125; &#125; /// é‡å†™set get æ–¹æ³• å¹¶ä¸”å¢žåŠ ç§æœ‰çš„æˆå‘˜å˜é‡ private var _name9: String? var name9: String? &#123; get &#123; print("get") return _name9 &#125; set &#123; print("set") _name9 = newValue &#125; &#125; var name10: String? &#123; willSet &#123; print("get") &#125; didSet &#123; print("set") &#125; &#125; var name11: String? &#123; willSet &#123; print("get") &#125; &#125; /// åˆå§‹åŒ–æ–¹æ³•å¯¹å±žæ€§çš„è®¾å®šï¼Œä»¥åŠåœ¨ willSet å’Œ didSet ä¸­å¯¹å±žæ€§çš„å†æ¬¡è®¾å®šéƒ½ä¸ä¼šå†æ¬¡è§¦å‘å±žæ€§è§‚å¯Ÿçš„è°ƒç”¨ï¼Œä¸€èˆ¬æ¥è¯´è¿™ä¼šæ˜¯ä½ æ‰€éœ€è¦çš„è¡Œä¸ºï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨èƒ½å¤Ÿã€‚ var name12: String? &#123; didSet &#123; print("set") var FA = false FA = arc4random() % 2 == 0 if FA &#123; print("NO") name12 = "CC" &#125; &#125; &#125; /// ç›‘æŽ§åˆ†ç±»ç»§æ‰¿çš„å±žæ€§å˜åŒ– override var name: String &#123; willSet &#123; print("åˆ†ç±»çš„å±žæ€§ å°†è¦ä¿®æ”¹") &#125; didSet &#123; print("åˆ†ç±»çš„å±žæ€§ å°†å·²ç»ä¿®æ”¹") &#125; &#125; /// åªè¯»å±žæ€§ private var _name8 : String? var name8: String? &#123; get &#123; return _name8 &#125; &#125;&#125; å‚è€ƒèµ„æ–™ http://nshipster.cn/swift-objc-runtime http://www.hmttommy.com/2015/12/11/AddCategoryProperty http://stackoverflow.com/questions/29106891/how-do-i-pass-in-a-void-block-to-objc-setassociatedobject-in-swift http://swifter.tips/singleton]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å„ç§èµ„æ–™æ”¶é›†åŒº]]></title>
    <url>%2F2016%2F09%2F10%2F2016%2F%E5%90%84%E7%A7%8D%E8%B5%84%E6%96%99%E6%94%B6%E9%9B%86%E5%8C%BA%2F</url>
    <content type="text"><![CDATA[ä¸€äº›å­¦ä¹ ç½‘ç«™ google.com google.com.hk github objc.io objc ä¸­å›½ NSHipster NSHipster ä¸­æ–‡ Stackoverflow oleb.net https://www.natashatherobot.com http://www.w3school.com.cn http://www.Raywenderlich.com http://tutsplus.com/ https://designcode.io/ http://subjc.com/ https://maniacdev.com/ é˜®ä¸€å³° å»–é›ªå³° å¤©æ‰ çŽ‹åž  ITç¤¾åŒº http://www.cnblogs.com/ http://www.csdn.net/ http://www.51cto.com http://www.cocoachina.com http://www.techcn.com.cn/ http://mobilehub.io/ ä¸€äº›æ”¶é›†èµ„æ–™çš„blog æ”¶è—çš„iOSæŠ€æœ¯ç½‘ç«™æ±‡æ€»(æŒç»­æ›´æ–°) iOSå­¦ä¹ èµ„æºæ±‡æ€»(å¼€æºé¡¹ç›®ã€ç¬¬ä¸‰æ–¹åº“ã€æŠ€æœ¯åšå®¢ç­‰ç­‰) GitHubä¸Šå²ä¸Šæœ€å…¨çš„iOSå¼€æºé¡¹ç›®åˆ†ç±»æ±‡æ€» GitHub ä¸Š iOS å¼€æºåº“ Top 100 http://www.jianshu.com/p/b7c4a787a597?utm_campaign=hugo&amp;utm_medium=reader_share&amp;utm_content=note&amp;utm_source=qq ä¸€ä¸ªæ”¶é›†äº† 502 æ¬¾å¼€æº iOS åº”ç”¨çš„å¼€æºé¡¹ç›® http://www.jianshu.com/p/e5353a1a752c iOSå¼€å‘å¸¸ç”¨ä¸‰æ–¹åº“ã€æ’ä»¶ã€çŸ¥ååšå®¢ç­‰ç­‰ å„ç§ä¼˜åŒ–UITableView è‡ªé€‚åº”Cellçš„ä¸¤ç§æ–¹å¼ sunnyxx ä¼˜åŒ–UITableViewCellé«˜åº¦è®¡ç®—çš„é‚£äº›äº‹ TableViewä¼˜åŒ–æŠ€å·§ ä¸ªäººåšå®¢ å”å·§çš„æŠ€æœ¯åšå®¢ Whyâ€™s blog - æ±ªæµ·çš„å®žéªŒå®¤ é˜¿æ¯›çš„è›‹ç–¼åœ° Tedâ€™s Homepage coding with objc &amp; swift Yuanåšå®¢ KooFrankâ€™s Blog åºžæµ·ç¤çš„ä¸ªäººç©ºé—´ çŒ«&middot;ä»æ³¢åˆ‡ Lex Tang ä»£ç æ‰‹å·¥è‰ºäºº Cocoabit webfrogs Chun Tips hello it works Lukeâ€™s Homepage å…‹ä¼Ÿçš„åšå®¢ Kevin Blog ç ´èˆ¹ä¹‹å®¶ Kenshin Cuiâ€™s Blog YIFEIYANGâ€“æ˜“é£žæ‰¬çš„åšå®¢ Vientaâ€™s Cell é˜¿å³°çš„æŠ€æœ¯çªçª Limboy æ— ç½‘ä¸å‰© çŽ‰ä»¤å¤©ä¸‹çš„Blog ç å†œäººç”Ÿ è¨€æ— ä¸å°½ é‡Œè„Šä¸²çš„å¼€å‘éšç¬” nixzhu on scriptogr.am txxâ€™s blog Nonomori æŠ€æœ¯å“¥çš„åšå®¢ å¿µèŒœçš„åšå®¢ Casa Taloyum è§å®¸å®‡ ä¸æŽèœ‚çªçš„ç†Š Travisâ€™ Blog äºšåº†çš„ Blog NSHipster åœŸåœŸå“¥çš„æŠ€æœ¯Blog Iâ€™m Allen Iâ€™m TualatriX DavidDay&rsquo;s Blog çŽ‹ä¸­å‘¨çš„æŠ€æœ¯åšå®¢ Nico åˆ˜å¤çš„æŠ€æœ¯åšå®¢ Xcode Dev sunnyxxçš„æŠ€æœ¯åšå®¢ answer_huang ç…²ä»”é¥­ ä¼šå†™ä»£ç çš„çŒª OneVâ€™s Den æ‘‡æ»šè¯—äºº Lancyâ€™s Blog Wonderffeeâ€™s Blog Shining IO ä¸ä¼šå¼€æœºçš„ç”·å­© è€è°­ç¬”è®° è…¾è®¯å¾®ä¿¡bangï¼ŒJSPatchå¼€å‘è€… ä¸€å94åŽiOSå¼€å‘è€… æ ‡å“¥çš„æŠ€æœ¯åšå®¢ å”å·§æ€»ç»“çš„40ä¸ªå›½äººiOSæŠ€æœ¯åšå®¢ ç™¾åº¦ç¨‹åºå‘˜ è®²äº†ä¸€äº›runtime http://oncenote.com/ Macå¸¸ç”¨å‘½ä»¤ åˆ˜å¤çš„æŠ€æœ¯åšå®¢-é˜¿é‡Œ Tian Wei Yu uiscrollviewä¸Žautolayoutçš„æ‰€æœ‰ http://www.jianshu.com/p/b7c4a787a597?utm_campaign=hugo&amp;utm_medium=reader_share&amp;utm_content=note&amp;utm_source=qq http://www.cocoachina.com/ios/20150701/12301.html YYCacheæºç åˆ†æž(ä¸€) http://blog.devtang.com/2015/11/02/mvc-and-mvvm/ è¾ƒå®Œæ•´çš„APP Github ä¸Šçš„ iOS å¼€æºé¡¹ç›® ä»‹ç» http://www.cnblogs.com/Piosa/archive/2013/02/26/2933905.html http://www.thinkandbuild.it/ http://robb.is/ http://commandshift.co.uk/ http://indieambitions.com/ http://nvie.com/ http://stuartkhall.com/ http://blog.ittybittyapps.com/ http://adoptioncurve.net/ å¼€æºé¡¹ç›® ä¸€æ¬¾å¤©æ°”é¢„æŠ¥çš„åº”ç”¨ï¼ˆå·²åœ¨AppStoreä¸Šçº¿) çŸ¥ä¹Ž GitHub ä¸Šæœ‰å“ªäº›å®Œæ•´çš„ iOS-App æºç å€¼å¾—å‚è€ƒ æºç åˆ†æž ç®€ä¹¦ iOSæºç è§£è¯» Draveness/analyze å¼ºåŠ›æŽ¨è iOS æºç è§£è¯» GitHub ä¸Šæœ‰å“ªäº›å®Œæ•´çš„ iOS-App æºç å€¼å¾—å‚è€ƒ http://www.jianshu.com/u/019503ab19f1 http://www.jianshu.com/p/b4bea1549a66 https://www.cnblogs.com/ludashi/p/5591572.html å›¢é˜Ÿåšå®¢ ç¾Žå›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿblog æ»´æ»´å›¢é˜Ÿblog å¾®ä¿¡è¯»ä¹¦å›¢é˜Ÿblog åŽ»å“ªå„¿å›¢é˜Ÿblog APPæž¶æž„æ–¹é¢ Casa Taloyum è®²äº†ä¸€äº›ç½‘ç»œå±‚æž¶æž„é—®é¢˜ åˆ˜å¤çš„æŠ€æœ¯åšå®¢ï¼Œè®²äº†ä¸€äº›ç½‘ç»œå±‚æž¶æž„é—®é¢˜ å…¶ä»– é¡¹ç›®å¤šä½™èµ„æºæ£€æµ‹å·¥å…· é¡¹ç›®ä»£ç è¡Œæ•°ç»Ÿè®¡ XcodeåŽ†å²ç‰ˆæœ¬ä¸‹è½½ Xcodedä»£ç å— iOS è°ƒè¯•åŒ… ç™¾åº¦äº‘ç›˜ å¯†ç ï¼š5v35 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport è‡ªåŠ¨æ‰“åŒ…æž„å»ºæ¡†æž¶ https://github.com/fastlane/fastlane ä¸€äº›ç½‘ç«™ çˆ±æƒ…å®ˆæœ›è€…_è‡´åŠ›äºŽåˆ†äº«æœ€ç²¾å½©çš„Macè½¯ä»¶ ç²¾å“MACåº”ç”¨åˆ†äº« Mac ä¸Šä¼˜ç§€çš„ iO Sè®¾å¤‡ AirPlay å±å¹•é•œåƒå·¥å…· è„šæœ¬ä¹‹å®¶ ç§‘å­¦ä¸Šç½‘ Ti 1 Ti 2 Ti 3 ç®—æ³•RSA RSAç®—æ³•åŽŸç†ï¼ˆä¸€ï¼‰ RSAç®—æ³•åŽŸç†ï¼ˆäºŒï¼‰ å‚è€ƒ http://www.jianshu.com/p/e5353a1a752c]]></content>
      <categories>
        <category>èµ„æ–™</category>
      </categories>
      <tags>
        <tag>èµ„æ–™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Runtimeä¸ºçŽ°æœ‰çš„ç±»æ·»åŠ Weakå±žæ€§]]></title>
    <url>%2F2016%2F08%2F10%2F2017%2F%E4%BD%BF%E7%94%A8Runtime%E4%B8%BA%E7%8E%B0%E6%9C%89%E7%9A%84%E7%B1%BB%E6%B7%BB%E5%8A%A0Weak%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ åœ¨ä¸ºçŽ°æœ‰çš„ç±»å¢žåŠ å±žæ€§æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆä¼šæƒ³åˆ°ä½¿ç”¨Runtimeçš„å¯¹è±¡ç»‘å®šæ¥å¤„ç†ï¼Œå¯¹è±¡ç»‘å®šä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„ä¼Žä¿©,ä½†æ˜¯è¿™é‡Œæƒ³å¢žåŠ çš„æ˜¯weakç±»åž‹çš„å±žæ€§ï¼ŒæŸ¥çœ‹Apple API åœ¨å¯¹è±¡ç»‘å®šæ—¶æ²¡æœ‰æä¾›æ­¤ç±»åž‹ï¼Œå¦‚æžœæœ‰ï¼Œé‚£å°±æ²¡æœ‰è¿™ç¯‡blogäº†ï¼Œé‚£ä¹ˆweakæœ‰ä»€ä¹ˆç‰¹æ®Šæ€§å‘¢ï¼Ÿæœ€ç®€å•çš„æ˜¯å¼•ç”¨è®¡æ•°ä¸ +1ï¼Œä¸å­˜åœ¨ç›¸äº’å¼•ç”¨ åœ¨å±žæ€§é‡Šæ”¾æ—¶ä¼šè‡ªåŠ¨ç½®nil é€‚ç”¨äºŽå¯¹è±¡ç­‰ã€‚ æ€è€ƒðŸ¤”ä¸Žå®žçŽ°æ–¹æ¡ˆ1æ–¹æ¡ˆæè¿° é‚£ä¹ˆæˆ‘ä»¬æ€Žä¹ˆå®žçŽ°ç±»ä¼¼çš„åŠŸèƒ½å‘¢ï¼Ÿå½“ç„¶æ˜¯ä»Žassignå‡ºæ‰‹ï¼Œå…¶ç‰¹æ€§æ˜¯å¼•ç”¨è®¡æ•°ä¸+1ï¼Œä¸å­˜åœ¨ç›¸äº’å¼•ç”¨ åœ¨å±žæ€§é‡Šæ”¾æ—¶ä¸ä¼šè‡ªåŠ¨ç½®nilç­‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨assignæ¥æ¨¡æ‹Ÿå®žçŽ°weakå±žæ€§ï¼Œåªéœ€è¦åœ¨å±žæ€§é‡Šæ”¾æ—¶è‡ªåŠ¨ç½®nilå³å¯ã€‚ æ–¹æ¡ˆå®žçŽ° ç®€å•å°è£…ä¸ºå¦‚ä¸‹çš„ä½¿ç”¨æ–¹å¼ 123- (void)bm_setWeekAssociatedObjectWithKey:(const void *)key value:(id)value OBJC_AVAILABLE(10.6, 3.1, 9.0, 1.0);- (id)bm_getWeakAssociatedObjectWithKey:(const void *)key OBJC_AVAILABLE(10.6, 3.1, 9.0, 1.0); å…·ä½“å®žçŽ°è¯·æŸ¥çœ‹Demo æ–¹æ¡ˆ2 ä½¿ç”¨NSPointerArrayå¤„ç† å‚è€ƒhttps://github.com/ChenYilong/iOSInterviewQuestions]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cocoapods çš„ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2016%2F08%2F06%2F2016%2FCocoapods-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰åšé¡¹ç›®æ—¶ï¼ŒåŸºæœ¬æ²¡æœ‰ä½¿ç”¨è¿‡ cocoapodsï¼Œå› ä¸ºå¬é“ä¸Šçš„äººè¯´ï¼Œä½¿ç”¨ cocoapods å¥½éº»çƒ¦ï¼Œæœ‰æ—¶å€™å‡ºçŽ°ä¸€ä¸‹å‘çš„äº‹æƒ…éƒ½ä¸çŸ¥é“æ€Žä¹ˆå¼„ï¼Œå¥½å‘çš„è¯´ï¼Œä½†æ˜¯ç”±äºŽé¡¹ç›®æ…¢æ…¢çš„è¿­ä»£ï¼Œå¯¼è‡´ä½¿ç”¨çš„ ç¬¬ä¸‰æ–¹è¶Šæ¥è¶Šå¤šï¼Œè€Œä¸”è¿˜ç‰µæ¶‰åˆ° ç¬¬ä¸‰æ–¹åº“çš„ç‰ˆæœ¬é—®é¢˜ï¼Œçž¬é—´æ„Ÿè§‰å¥½éº»çƒ¦ï¼Œè¿˜æ˜¯çŽ©çŽ© cocoapods å§ï¼Œæœ¬æ–‡ä¸»è¦è®²è¿° cocoapodsçš„ä½¿ç”¨ ä»¥åˆå§‹åŒ–é¡¹ç›®çš„ä¸€äº›æ³¨æ„ç‚¹ã€‚ å‰æåœ¨å·²ç»å®‰è£…å¥½ cocoapods çš„æƒ…å†µä¸‹ ä½¿ç”¨ Cocoapodsåˆæ­¥ä½¿ç”¨pod1ã€ä½¿ç”¨ Xcode åˆ›å»ºä¸€ä¸ªåä¸ºï¼š myCocoapods çš„é¡¹ç›® 2ã€åˆ›å»º .gitignore æ–‡ä»¶ touch .gitignoreï¼Œé…ç½®å¥½æˆ‘ä»¬å¹³å¸¸éœ€è¦å¿½ç•¥çš„ç›¸å…³æ–‡ä»¶ï¼Œæ‰“å¼€ Pods/ å¯ä»¥å‚è€ƒgithubå®˜æ–¹ä¹‹gitignore 3ã€cd åˆ°åˆšæ‰çš„é¡¹ç›® 4ã€pod init å¦‚æžœæ˜¯å‡çº§ Xcode8 åŽï¼Œå¯èƒ½æ‰§è¡Œ pod init åŽæ²¡æœ‰ä»»ä½•ååº”æˆ–è€…å…¶ä»–é”™è¯¯æŸ¥æ‰¾èµ„æ–™å¾—:æ‰§è¡Œ sudo gem install -n /usr/local/bin cocoapods --preåŽå¯æ­£å¸¸ä½¿ç”¨å‚è€ƒè‡ª 5ã€pod update 6ã€åœ¨ Podfile ä¸­æ·»åŠ ç›¸åº”çš„ç¬¬ä¸‰æ–¹ æœ€ç®€å•çš„ç‰ˆæœ¬é€‰æ‹©:å‚è€ƒ 1234567891011121314151617181920# å–æœ€æ–°ç‰ˆæœ¬pod 'MJRefresh',# å–3.1.12pod 'MJRefresh', â€˜3.1.12'# [3.1.12 ...]pod 'MJRefresh', â€˜&gt;=3.1.12'# (3.1.12 ...]pod 'MJRefresh', â€˜&gt;3.1.12'# [0.0.0 3.1.12]pod 'MJRefresh', â€˜&lt;=3.1.12'# [0.0.0 3.1.12)pod 'MJRefresh', â€˜&lt;3.1.12'# [3.1.12 3.2.0)pod 'MJRefresh', â€˜~&gt;3.1.12' 7ã€ åœ¨ pod update æˆ–è€… pod update --verbose --no-repo-update 8ã€æŠŠé¡¹ç›® push åˆ°ä»“åº“ 9ã€é¡¹ç›®çš„åˆå§‹åŒ–åŸºæœ¬OKï¼Œå¦ä¸€ä¸ªå¼€å‘åˆ°æ¥ä»¥åŽç›´æŽ¥åŽ» git ä»“åº“ clone é¡¹ç›®ä¸‹æ¥ 10ã€ç„¶åŽ pod update æˆ–è€… pod update --verbose --no-repo-update ä¸€ä¸‹å³å¯æ­£å¸¸ä½¿ç”¨äº† 11ã€é¡¹ç›®ç»“æž„å¦‚ä¸‹ï¼š Demoé“¾æŽ¥ podçš„ä¸€äº›å‘½ä»¤åˆ—å‡ºæ‰€æœ‰æœ¬åœ°å·²ç»ç¼“å­˜çš„ç¬¬ä¸‰æ–¹åº“1pod cache list è¾“å‡ºå¦‚ä¸‹ 1234567iCarousel:- Version: 1.8.2Type: ReleaseSpec: /Users/vivi/Library/Caches/CocoaPods/Pods/Specs/Release/iCarousel/1.8.podspec.jsonPod: /Users/vivi/Library/Caches/CocoaPods/Pods/Release/iCarousel/1.8.2-67c8alibextobjc:... æ¸…é™¤æŒ‡å®šç¼“å­˜1pod cache clean libName æ¸…é™¤å…¨éƒ¨ç¼“å­˜1pod cache clean all è®©è‡ªå·±çš„ä»£ç ä½¿ç”¨ cocoapods ç®¡ç†1ã€åœ¨githubåˆ›å»ºé¡¹ç›® 2ã€åˆå§‹åŒ–å¥½é¡¹ç›® 3ã€clone é¡¹ç›®ä¸‹æ¥ 4ã€åˆ°é¡¹ç›®rootç›®å½•ä¸‹ï¼Œ åˆ›å»º spec æ–‡ä»¶cd é¡¹ç›®pod spec create åç§° 5ã€ç¼–è¾‘ spec æ–‡ä»¶ ï¼ˆMJRefreshçš„specæ–‡ä»¶æ˜¯è¿™æ ·å†™çš„ï¼Œé‡Œé¢å…·ä½“çš„å«ä¹‰ä»¥åŽè¡¥å……ï¼Œæˆ–è€… è‡ªè¡ŒGoogleï¼‰ 12345678910111213Pod::Spec.new do |s|s.name = 'MJRefresh's.version = '3.1.12's.summary = 'An easy way to use pull-to-refresh's.homepage = 'https://github.com/CoderMJLee/MJRefresh's.license = 'MIT's.authors = &#123;'MJ Lee' =&gt; '199109106@qq.com'&#125;s.platform = :ios, '6.0's.source = &#123;:git =&gt; 'https://github.com/CoderMJLee/MJRefresh.git', :tag =&gt; s.version&#125;s.source_files = 'MJRefresh/**/*.&#123;h,m&#125;'s.resource = 'MJRefresh/MJRefresh.bundle's.requires_arc = trueend 6ã€æ–°å»º tag ä¸”æäº¤é¡¹ç›® git add . git commit -m &#39;0.01&#39; git tag 0.0.1 git push --tags git push origin master 7ã€éªŒè¯ä¸€ä¸‹ podspec æ–‡ä»¶ pod lib lint 8ã€å¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡æäº¤éœ€éªŒè¯ä¸€ä¸‹,ä¸æ˜¯ç¬¬ä¸€æ¬¡å¯ä»¥ä¸ç”¨æ­¤æ­¥ pod trunk register ios@idhong.com &#39;idhong&#39; --description=â€˜ä¸€äº›æè¿°â€™ æ­¤æ—¶éœ€è¦ç™»å½•é‚®ç®±éªŒè¯ä¸€ä¸‹èº«ä»½ï¼Œçœ‹æç¤ºå³å¯ 9ã€æäº¤ç»™ cocoapods ç®¡ç† pod trunk push IHExtension.podspec --allow-warnings 10ã€å¦‚æžœæˆåŠŸï¼Œå¯èƒ½éœ€è¦ç­‰å‡ åˆ†é’Ÿæ‰å¯ä»¥ search åˆ°ä½ çš„ lib, å¯åŽ»cocoapodsæŸ¥çœ‹ 11ã€æäº¤å¥½äº†ä»¥åŽå¦‚æžœè¿˜æ˜¯æ— æ³•æœç´¢åˆ°è‡ªå·±çš„é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³• åˆ é™¤æœç´¢ç›®å½• rm ~/Library/Caches/CocoaPods/search_index.json pod searchæˆ–è€…pod repo update 12ã€å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†pod search XXX 13ã€å¦‚æžœæƒ³å¤šäººç»´æŠ¤ä¸€ä¸ªåº“ï¼ˆéœ€å…ˆè®©æŒ‡å®šçš„é‚®ç®±æ³¨å†Œï¼‰ pod trunk add-owner IHExtension xxx@xxx.com 14ã€æŸ¥çœ‹è‡ªå·±çš„ä¿¡æ¯ pod trunk me Demoé“¾æŽ¥ å…¬å¸å…¬å…±æ¨¡å—ä½¿ç”¨ cocoapods ç®¡ç†pod çš„é…ç½®æ–‡ä»¶æ”¾åœ¨cocoapodså®˜ç½‘ é…ç½®é‡Œçš„æŒ‡å‘githubä¸Šé¢çš„æ–¹å¼ pod çš„é…ç½®æ–‡ä»¶æ”¾åœ¨cocoapodså®˜ç½‘ é…ç½®é‡Œçš„æŒ‡å‘å†…ç½‘å¤–é¢å¯ä»¥æœåˆ°åˆ°ï¼Œä½†æ˜¯æ— æ³•ä¸‹è½½ï¼Œéœ€è¦æ‰“tag 1ã€å¦‚æžœå…¬å¸çš„é¡¹ç›®è¾ƒå¤šï¼Œé‚£ä¹ˆè®¸å¤šå…¬å…±æ¨¡å—ï¼Œä¸€äº›å·¥å…·ç±»å¦‚æžœä½¿ç”¨ pod ç®¡ç†èµ·æ¥å°±æ›´åŠ æ–¹ä¾¿äº†ã€‚ 2ã€ä¸€ä¸ªæ–¹æ³•çš„åªéœ€è¦æŠŠä¸Šé¢é…ç½®æ–‡ä»¶ï¼›s.homepage s.source æŒ‡å‘è‡ªå·±çš„å†…ç½‘å°±ðŸ‘Œ,è™½ç„¶æŠŠ pod çš„é…ç½®æ–‡ä»¶push åˆ°äº†cocoapods å®˜ç½‘ï¼Œä½†æ˜¯åˆ«äººå…¶å®žæ— æ³•æŸ¥çœ‹å…¶ä¸­çš„ä»»ä½•å†…å®¹ã€‚ ä½¿ç”¨å’Œé…ç½®éƒ½æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¤–é¢çš„äººä¼šæœåˆ°ä½ çš„æ¨¡å—ï¼Œåªæ˜¯æ— æ³•ä¸‹è½½ é…ç½®æ–‡ä»¶ ä½¿ç”¨ç”µè„‘è·¯å¾„çš„æ–¹å¼ä½¿ç”¨è¿˜æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”ä¸éœ€è¦æ‰“ tagï¼Œæ¯”è¾ƒé€‚åˆå…¬å…±æ¨¡å—åœ¨å¼€å‘é˜¶æ®µï¼Œpushå°±å¯ä»¥äº† â€“ pod â€˜iOS-Echartsâ€™, :path =&gt; â€˜../iOS-Echartsâ€™è·¯å¾„ä¸º podspec åœ¨æœ¬ç”µè„‘çš„çš„è·¯å¾„ï¼Œå¯ä»¥æŠŠè‡ªå·±çš„ç§æœ‰ç¬¬ä¸‰æ–¹æ”¾åœ¨å†…ç½‘ä¸Šï¼Œç„¶åŽä¸‹è½½åˆ°æœ¬åœ°æ–¹çš„ä¸€å®šè·¯å¾„ï¼Œå¯ä»¥æ”¾åˆ° ~/ çš„è·¯å¾„é‚£ä¹ˆå…¨éƒ¨æˆå‘˜çš„ç”µè„‘éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œå¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œä½†æ˜¯ä¿è¯é…ç½®å®Œå…¨æ­£ç¡® ä½¿ç”¨ ç§æœ‰ repo ç®¡ç†é…ç½®æ–‡ä»¶çš„æ–¹å¼æ“ä½œæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦æ‰“ tagï¼Œé€‚åˆäºŽå…¬å…±æ¨¡å—å·²ç»æ¯”è¾ƒç¨³å®šçš„æƒ…å†µ æ€è·¯ä¸ºè‡ªå·±åˆ›å»ºç§æœ‰çš„spectæ¥ç®¡ç†å†…éƒ¨çš„ lib çš„é…ç½®æ–‡ä»¶ï¼Œå°±å’Œå…¶ä»–å…¬å…±ç¬¬ä¸‰æ–¹æ”¾åˆ° cocoapods å®˜ç½‘ä¸€æ · éœ€è¦åˆ›å»ºä¸€ä¸ªç§æœ‰çš„ç®¡ç† ç¬¬ä¸‰æ–¹çš„é…ç½®çš„ åº“ åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„åº“è®©ç§æœ‰ä»“åº“ç®¡ç† åˆ›å»ºå¥½ä¸Šé¢çš„2ä¸ªåº“ æ·»åŠ è¿›åŽ» pod repo add spectçš„åç§° spectçš„gitåœ°å€ éªŒè¯ä¸€ä¸‹ pod spec lint IHKit.podspec --sources=&#39;https://github.com/liangdahong/IHKit.git, https://github.com/CocoaPods/Specs.git&#39; --allow-warnings pushåˆ°è‡ªå·±çš„ç§æœ‰ä»“åº“è¿›è¡Œç®¡ç† pod repo push &#39;IHCocoapods&#39; IHKit.podspec --allow-warningspush æ—¶éœ€è¦åœ¨å…¨éƒ¨é…ç½®å¥½çš„æƒ…å†µä¸‹ï¼Œé…ç½®æ–‡ä»¶å¡«å†™å®Œæ•´ï¼Œtagé…ç½®ok å®ŒæˆåŽå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†åœ¨ Podfile å£°æ˜Žä¸€ä¸‹ 1234# å®˜æ–¹åº“source 'https://github.com/CocoaPods/Specs.git'# ç§æœ‰åº“ source 'https://github.com/liangdahong/IHCocoapods.git' æƒ³åˆ é™¤ä¸€ä¸ªåº“ï¼Œå¯ä»¥ç”¨ pod repo remove WTSpecs å¦‚æžœæƒ³åˆ é™¤ä¸€ä¸ªåº“çš„ä¸€ä¸ªç‰ˆæœ¬ å¯ä»¥ç›´æŽ¥åˆ°æ–‡ä»¶å¤¹ä¸‹åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶å¤¹ åœ¨ push åˆ° git å°±å¥½äº† å…¶ä»–äººä½¿ç”¨æ—¶ï¼Œpod repo add spectçš„åç§° spectçš„gitåœ°å€ æ·»åŠ åˆ°ç›®å½•ä¸‹ï¼Œä»¥åŽç”¨æ›´æ–°åªéœ€è¦cd ~/.cocoapods/repos åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ pull å°±OK å‚è€ƒ1 å‚è€ƒ2 å‚è€ƒ3 åˆ©ç”¨ appledoc ç”Ÿæˆ API æ–‡æ¡£ å…‹éš†é¡¹ç›® git clone https://github.com/tomaz/appledoc.git åˆ°ç›®å½•ä¸‹ cd appledoc å®‰è£… sudo sh install-appledoc.sh æŸ¥çœ‹ç‰ˆæœ¬æƒ…å†µ appledoc --version ç”Ÿæˆæ–‡æ¡£ appledoc --no-create-docset --output ç”Ÿæˆçš„æ–‡æ¡£ä¿å­˜çš„è·¯å¾„ --project-name &quot;ä½ çš„é¡¹ç›®åç§°&quot; --company-id &quot;com.idhong&quot; --project-company &quot;å…¬å¸åç§°&quot; éœ€è¦ç”Ÿæˆæ–‡æ¡£çš„é¡¹ç›® å‚è€ƒ1å‚è€ƒ2]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Cocoapods</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift å…ƒç»„ï¼ˆTuplesï¼‰]]></title>
    <url>%2F2016%2F07%2F31%2F2018%2FSwift-%E5%85%83%E7%BB%84%EF%BC%88Tuples%EF%BC%89%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºå…ƒç»„ åœ¨ Swift ä¸­åˆ›å»ºå…ƒç»„çš„æ–¹å¼å¾ˆç®€å•ï¼Œè¯­æ³•ç±»ä¼¼æ•°ç»„ï¼Œä½†éœ€è¦æŠŠæ–¹æ‹¬å·æ›¿æ¢ä¸ºåœ†æ‹¬å·ï¼š 0x001let firstHighScore = ("Mary", 9001) ä¸Žæ•°ç»„ä¸åŒçš„æ˜¯ï¼Œå…ƒç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»åž‹ã€‚ä¸Šé¢ä»£ç ä¸­ firstHighScore å…ƒç»„å°±åŒ…å«ä¸€ä¸ª String ç±»åž‹çš„å…ƒç´ å’Œä¸€ä¸ª Int ç±»åž‹çš„å…ƒç´ ã€‚ 0x01 å¦å¤–ï¼Œåœ¨åˆ›å»ºå…ƒç»„æ—¶ä½ è¿˜å¯ä»¥ç»™å…ƒç»„ä¸­çš„å…ƒç´ å‘½åï¼š 1let secondHighScore = (name: "James", score: 4096) è¿™æ ·å¯ä»¥è®©æˆ‘ä»¬åœ¨ä½¿ç”¨å…ƒç»„çš„æ—¶å€™æ˜Žç¡®çš„æŒ‡å®šæŸä¸ªå…ƒç´ ï¼Œéžå¸¸æœ‰ç”¨ã€‚åœ¨åŽé¢çš„æ–‡ç« ä¸­å¤§å®¶å¯ä»¥çœ‹åˆ°ç»™å…ƒç´ å‘½åçš„å¥½å¤„ã€‚ ä»¥ä¸Šå°±æ˜¯åˆ›å»ºå…ƒç»„çš„ä¸¤ç§æ–¹å¼ï¼Œéžå¸¸ç®€å•å’Œç®€æ´ã€‚ä½ ä¸éœ€è¦åƒåˆ›å»º struct ä¸€æ ·å†™å‡ºå®ƒçš„ç»“æž„å’Œå†…éƒ¨å±žæ€§ï¼Œä¹Ÿä¸éœ€è¦åƒåˆ›å»º class ä¸€æ ·è¦å†™åˆå§‹åŒ–æ–¹æ³•ã€‚ä½ åªéœ€è¦æŠŠä½ æƒ³ç”¨çš„ã€ä»»ä½•ç±»åž‹çš„å€¼æ”¾åœ¨åœ†æ‹¬å·å†…ï¼Œç”¨é€—å·éš”å¼€å³å¯ã€‚å¦‚æžœä½ æ„¿æ„ä½ è¿˜å¯ä»¥ç»™æ¯ä¸ªå…ƒç´ å‘½åï¼Œæé«˜å…ƒç»„ä½¿ç”¨æ•ˆçŽ‡ã€‚ ä»Žå…ƒç»„ä¸­è¯»å…ƒç´  ä»Žå…ƒç»„ä¸­è¯»å–å…ƒç´ æœ‰å‡ ç§æ–¹å¼ï¼Œä½†ä¸€èˆ¬æˆ‘ä»¬ä¼šé€‰æ‹©æœ€é€‚åˆå½“å‰åº”ç”¨åœºæ™¯çš„æ–¹å¼ï¼Œå¹¶ä¸”ç¡®ä¿é€‰æ‹©çš„æ–¹å¼æ˜¯åœ¨å½“å‰æƒ…å†µä¸‹æœ€ç®€å•çš„ä¸€ç§ã€‚ 0x00 å¦‚æžœæˆ‘ä»¬æ²¡æœ‰ç»™å…ƒç»„çš„å…ƒç´ å‘½åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç‚¹è¯­æ³•ï¼Œé€šè¿‡å®šä¹‰å¥½çš„å…ƒç»„å˜é‡æˆ–å¸¸é‡èŽ·å–å®ƒçš„ç¬¬ 1 ä¸ªåˆ°ç¬¬ n ä¸ªå…ƒç´ ï¼š 123let firstHighScore = ("Mary", 9001)firstHighScore.0 // MaryfirstHighScore.1 // 9001 0x01 å¦‚æžœä½ è§‰å¾—ä¸Šè¿°è¿™ç§æ–¹æ³•ä¼šé€ æˆè¯­ä¹‰çš„ä¸æ˜Žç¡®ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜å¯ä»¥å°†å…ƒç»„èµ‹å€¼ç»™ä¸€ä¸ªå¸¦æœ‰å…ƒç´ åç§°çš„å…ƒç»„ï¼ˆå…ƒç´ åç§°ä¸ªæ•°è¦å¯¹åº”ï¼‰ï¼š 123let (firstName, firstScore) = firstHighScorefirstName // MaryfirstScore // 9001 0x02 å¦‚æžœä½ åªæƒ³è¯»å– firstHighScore å…ƒç»„ä¸­çš„åˆ†æ•°ï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿™æ ·å†™ï¼š 12let (_, firstScore) = firstHighScorefirstScore // 9001 0x03 å…ƒç»„å…ƒç´ æœ‰å‘½åå¦‚æžœæˆ‘ä»¬å·²ç»ç»™å…ƒç»„ä¸­çš„å…ƒç´ å‘½åäº†åç§°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š 1234let secondName = secondHighScore.namelet secondScore = secondHighScore.scoresecondName // JamessecondScore // 4096 0x04 å°†å…ƒç»„ä½œä¸ºå‡½æ•°è¿”å›žå€¼æˆ‘ä»¬å¯ä»¥å°†å…ƒç»„ä½œä¸ºå‡½æ•°çš„è¿”å›žå€¼ï¼Œä¸‹é¢è¿™ä¸ªå‡½æ•°çš„è¿”å›žå€¼å°±æ˜¯æˆ‘ä»¬ä¹‹å‰å®šä¹‰è¿‡çš„ secondHighScore å…ƒç»„ï¼š 123456func getAHighScore() -&gt; (name: String, score: Int)&#123; let theName = "Patricia" let theScore = 3894 return (theName, theScore)&#125; ä¸ºä»€ä¹ˆè¯´ä¸Šè¿°å‡½æ•°çš„è¿”å›žå€¼æ˜¯ secondHighScore å…ƒç»„å‘¢ï¼Ÿå› ä¸º getAHighScore å‡½æ•°è¿”å›žçš„å…ƒç»„å…ƒç´ ä¸ªæ•°ã€å…ƒç´ åç§°ã€å…ƒç´ ç±»åž‹å‡å’Œ secondHighScore ç›¸åŒã€‚ å…¶å®žå°†å…ƒç»„ä½œä¸ºå‡½æ•°çš„è¿”å›žå€¼æ—¶ä¹Ÿå¯ä»¥ä¸å¿…å¯¹å…ƒç´ è¿›è¡Œå‘½åï¼Œåªè¦ä½ æ˜Žç™½æ¯ä¸ªå…ƒç´ ä»£è¡¨çš„å«ä¹‰å³å¯ï¼š 123456func getAHighScore() -&gt; (String, Int)&#123; let theName = "Patricia" let theScore = 3894 return (theName, theScore)&#125; å¦‚æžœä½ ä¸ç¡®å®šè¿”å›žçš„å…ƒç»„ä¸€å®šä¸ä¸º nil ï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿”å›žä¸€ä¸ªå¯é€‰çš„å…ƒç»„ç±»åž‹ï¼š 1234func maybeGetHighScore() -&gt; (String, Int)?&#123; return nil&#125; å› ä¸ºæ˜¯å¯é€‰çš„å…ƒç»„ç±»åž‹ï¼Œæ‰€ä»¥å½“è¿”å›žçš„å…ƒç»„ä¸ä¸º nil æ—¶ï¼Œä½ éœ€è¦å¯¹å…ƒç»„è¿›è¡Œè§£åŒ…ï¼š 123456789if let possibleScore = maybeGetHighScore()&#123; possibleScore.0 possibleScore.1&#125;else&#123; println("Nothing Here")&#125; æ³¨æ„ï¼šå½“ä½ å®šä¹‰äº†ä¸€ä¸ªæ²¡æœ‰è¿”å›žå€¼çš„å‡½æ•°æ—¶ï¼Œå…¶å®žè¯¥å‡½æ•°æ˜¯è¿”å›žä¸€ä¸ªç©ºçš„å…ƒç»„ ()ã€‚ å…ƒç»„çš„è®¿é—®çº§åˆ«å…ƒç»„çš„è®¿é—®çº§åˆ«å–å†³äºŽå®ƒåŒ…å«çš„å…ƒç´ ã€‚æ¯”å¦‚å…ƒç»„é‡Œçš„å…ƒç´ éƒ½æ˜¯ private çº§åˆ«çš„ï¼Œé‚£ä¹ˆè¯¥å…ƒç»„ä¹Ÿæ˜¯ private çº§åˆ«çš„ã€‚ä½†è¿™é‡Œæœ‰ä¸€ä¸ªéµå¾ªæœ€å°çš„åŽŸåˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœä¸€ä¸ªå…ƒç»„ä¸­æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªä¸ºprivateçº§åˆ«ï¼Œå¦ä¸€ä¸ªä¸º public çº§åˆ«ï¼Œé‚£ä¹ˆè¯¥å…ƒç»„éµå¾ªæœ€å°åŽŸåˆ™ï¼Œå®ƒçš„è®¿é—®çº§åˆ«ä¸º private ã€‚ å…ƒç»„æ˜¯å€¼ç±»åž‹å…³äºŽå€¼ç±»åž‹å’Œå¼•ç”¨ç±»åž‹çš„çŸ¥è¯†è¿™é‡Œä¸å†ç´¯èµ˜ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä»£ç ç¤ºä¾‹æ¥çœ‹çœ‹å…ƒç»„æ˜¯å“ªç§ç±»åž‹ï¼š 123456var someScore = ("John", 55)var anotherScore = someScoreanotherScore.0 = "Robert"println(anotherScore.0) //Outputs: "Robert"println(someScore.0) //Outputs: "John" é€šè¿‡ä¸Šè¿°çš„ä»£ç ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œæˆ‘æŠŠ someScore å…ƒç»„èµ‹å€¼ç»™äº† anotherScore ï¼Œç„¶åŽä¿®æ”¹äº† anotherScore çš„ç¬¬1ä¸ªå…ƒç´ çš„å€¼ï¼Œæœ€åŽåˆ†åˆ«æ‰“å°äº† someScore å’Œ anotherScore ç¬¬ 1 ä¸ªå…ƒç´ çš„å€¼ã€‚ someScore å…ƒç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ä¸º Robert ï¼Œè€Œ anotherScore å…ƒç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ä»ç„¶ä¸º John ã€‚ç”±æ­¤å¯è§å…ƒç»„æ˜¯å€¼ç±»åž‹ã€‚ å£°æ˜Ž æ–‡ç« æ¥è‡ªè¿™é‡Œ å…¶ä»–æ–‡ç«  1]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å›žå¿†æˆ‘ä»¬ç³»å®‰æŽ’çš„å®žä¹ ]]></title>
    <url>%2F2016%2F07%2F01%2F2016%2F%E5%9B%9E%E5%BF%86%E6%88%91%E4%BB%AC%E7%B3%BB%E5%AE%89%E6%8E%92%E7%9A%84%E5%AE%9E%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ä¸çŸ¥é“ä¸ºä»€ä¹ˆçªç„¶æƒ³èµ·äº†å¤§å­¦æ—¶å­¦æ ¡å®‰æŽ’çš„å®žä¹ ï¼Œä¸‹é¢ç®€å•è¯´ä¸‹å§ã€‚ ç¾Žå…¶åæ›°å®žä¹ ï¼Œå…¶å®žå°±æ˜¯åŽ»ä¸œèŽžå„ç§ç”µå­åŽ‚å½“æ™®å·¥ï¼Œå°±æ˜¯æ™®å·¥ä¹Ÿç®—äº†ï¼Œè®°å¾—åŽ»å®žä¹ çš„æ—¶å€™å­¦æ ¡åŒ…äº†1å°å¤§å·´è½¦ï¼ŒTMä¸çŸ¥é“æ‰¾äº†å‡ å±‚ä¸­ä»‹æ‰¾çš„è½¦ï¼Œè·¯çº¿ä¸ç†Ÿæ‚‰ï¼Œå„ç§è½¬æ¥è½¬åŽ»ï¼Œè¿˜ä»¥ä¸ºè¿·è·¯äº†ï¼Œä¹Ÿå¿ï¼Œå¥½ä¸å®¹æ˜“è½¬æ¥äº†ä¼ è¯´çš„å®žä¹ åŸºåœ°ï¼ŒTMå°±æ˜¯ä¸€ä¸ªåŠ å·¥åŽ‚ï¼Œè€Œä¸”æ˜¯ä¸€ä¸ªç‰¹åˆ«å°çš„ï¼Œä¹Ÿå¿äº†ï¼Œç„¶åŽåŽ»åŠžç†æ‰‹ç»­ï¼Œå“ˆå“ˆï¼Œå°±å’ŒåŽ»å·¥åŽ‚å…¥èŒä¸€æ ·ï¼Œè€Œä¸”è¿˜æœ‰ä¸€äº›é«˜è€ƒå®Œçš„å­¦ç”Ÿæ¥æ‰“æš‘å‡å·¥ï¼Œç¤¾ä¼šé’å¹´åŠžå…¥èŒæ‰‹ç»­ç­‰ï¼ˆå…¶å®žæˆ‘ä»¬ä¹Ÿæ˜¯ä»–æ‰¾çš„ä¸€ä¸ªä¸­ä»‹å¸¦è¿‡æ¥çš„ï¼ŒTMä¸€ä¸ªç³»ä¸»ä»»å±…ç„¶æ‰¾ä¸åˆ°ä¸€ä¸ªå®žä¹ åˆä½œï¼Œå°±ç®—æ‰¾ä¸åˆ°ä¹Ÿä¸è‡³äºŽè¿™æ ·å§ï¼Œæˆ‘ä»¬è‡ªå·±æ‰¾å•Šï¼Œåˆä¸å…è®¸ï¼‰ã€‚å“ˆå“ˆï¼Œä¹Ÿå¿äº†ï¼Œå…¶å®žå½“æ—¶å·²é¥¿å¾—ç²¾ç–²åŠ›å°½ï¼Œå¥½æƒ³ä¼‘æ¯ï¼ˆå¯èƒ½æ˜¯ä¸ºäº†é”»ç‚¼æˆ‘ä»¬çš„æ„å¿—å§ï¼Œå“ˆå“ˆï¼‰ï¼Œå› ä¸ºæ˜¯ç¬¬ä¸€å¤©æ™šä¸Š12ç‚¹çš„è½¦ï¼Œå½“æ—¶å·®ä¸å¤šä¸‹åˆ3ç‚¹äº†ï¼ˆå…·ä½“æ—¶é—´å¿˜è®°äº†ï¼‰ï¼Œç»ˆäºŽå¯ä»¥å¸¦æˆ‘ä»¬åŽ»ä¼ è¯´çš„å¯å®¤äº†ï¼Œåˆ°äº†ä¸€çœ‹ï¼Œè¿™æ¬¡ä¸€å…±æ¥äº†å·®ä¸å¤š30äººå·¦å³ï¼ˆå…·ä½“å¿˜è®°äº†ï¼‰ï¼Œå°±2é—´æˆ¿é—´ï¼Œä¸€é—´å¤§æ¦‚20ä¸ªå¹³æ–¹å§ï¼Œä¸€ä¸ªæ´—æ‰‹é—´ï¼Œ2ä¸ªæˆ¿é—´ï¼Œä¸€ä¸ªå®¢åŽ…ï¼Œè€Œä¸”TMå¥½åƒå°±3ï¼Œ4ä¸ªä¸Šä¸‹é“ºï¼Œå¤§æžå°±8ä¸ªåºŠä½ï¼ˆ8ä¸ªåºŠ8ä¸ªäººï¼Œ2é—´æˆ¿16äººï¼Œæ¥äº†å·®ä¸å¤š30äººï¼Œéš¾é“æ¢ç€ç¡ï¼‰ï¼Œå‘µå‘µï¼ŒçœŸä»–å¦ˆæ— è¯­å•Šï¼Œæƒ³æƒ³å°±å¯æ€•ã€‚å¹¿å·žå¤å¤©çš„å¤©æ°”ä½ æ‡‚çš„ï¼ˆ38Â°å·¦å³å§ï¼‰ï¼Œæ²¡æœ‰ç©ºè°ƒã€‚æˆ‘ä»¬é‚£ä¼ è¯´çš„ç³»ä¸»ä»»çœ‹äº†ä¸‹å¥½åƒå®žåœ¨æ˜¯æ”¾ä¸ä¸‹æˆ‘ä»¬ï¼ˆðŸ˜­ï¼‰ï¼Œå“ˆå“ˆï¼Œç„¶åŽå¦å¤–åœ¨ç§Ÿäº†ä¸€é—´æˆ¿å­ï¼Œç»ˆäºŽå‹‰å‹‰å¼ºå¼ºä½ä¸‹äº†ï¼ŒçŽ°åœ¨æƒ³èµ·çœŸçš„æ— è¯­ï¼Œåªè®°å¾—æ™šä¸Šç»å¸¸çƒ­é†’ã€‚è‡³äºŽä¸Šç­çŽ¯å¢ƒå°±ä¸è¯´äº†ï¼Œå¯ä»¥æœç´¢ä¸‹ä¸œèŽžå¯Œå£«åº·ç­‰ç±»ä¼¼çš„åŠ å·¥åŽ‚ï¼Œä½†æˆ‘æ•¢ä¿è¯è‚¯å®šæ²¡æœ‰å¯Œå£«åº·ç­‰çŸ¥ååŠ å·¥åŽ‚çŽ¯å¢ƒå¥½ï¼Œåœ¨çœ‹çœ‹é£Ÿå ‚å§ï¼ŒTMè¿›åŽ»ä¸€è‚¡ä¸çŸ¥é“ä»€ä¹ˆå‘³é“ï¼Œåæ­£åŽ»è¿‡ä¸€åœºå°±åœ¨ä¹Ÿæ²¡åŽ»è¿‡ï¼ˆä¸ºå“ªé‡Œé•¿æœŸä¸Šç­çš„æœ‹å‹æ„Ÿåˆ°ä¸çŸ¥æ‰«ææ„Ÿè§‰ï¼Œä¸å®¹æ˜“å•Šï¼‰ï¼ŒçœŸå¤Ÿå¿ƒé»‘å•Šï¼Œç†¬äº†å‡ å¤©è®¸å¤šäººååº”é—®é¢˜ï¼Œæƒ³æ—©ç‚¹å›žåŽ»ï¼Œæˆ‘ä»¬ä¼ è¯´çš„ç³»ä¸»ä»»å„ç§æŽ¨è¿Ÿï¼Œå„ç§ç†ç”±ï¼ˆTMå°±å¤©å¤©ä½é…’åº—ï¼‰ï¼Œæœ€åŽå®žåœ¨åšæŒä¸äº†äº†ï¼Œè¯´å¹²æ»¡å¤šå°‘å¤©å®žä¹ åˆ†å°±ä¼˜ç§€ï¼Œå¹²ä¸æ»¡å°±åŠæ ¼ã€‚æœ€åŽæˆ‘ä»¬å¤§éƒ¨åˆ†äººåšäº†å·®ä¸å¤šä¸€ä¸ªæœˆå›žå­¦æ ¡äº†ã€‚çœŸæ˜¯ä¸€æ¬¡éš¾å¿˜çš„å®žä¹ å•Šã€‚]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç³»ç»Ÿç¬¬ä¸‰æ–¹åˆ†äº«æ¡†æž¶Social.frameworkçš„ä½¿ç”¨]]></title>
    <url>%2F2016%2F06%2F01%2F2016%2FiOS%E7%B3%BB%E7%BB%9F%E7%AC%AC%E4%B8%89%E6%96%B9%E5%88%86%E4%BA%AB%E6%A1%86%E6%9E%B6Social-framework%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[iOSç³»ç»Ÿæä¾›äº†ä¸€ä¸ªæœ€ç®€å•çš„ç¬¬ä¸‰æ–¹åˆ†äº«æ¡†æž¶Social.framework ä½†æ˜¯æ”¯æŒçš„å¹³å°æœ‰é™ï¼Œè€Œä¸”å‡ ä¹Žæ²¡ä»€ä¹ˆäººä½¿ç”¨ï¼Œä½†æ˜¯ä½¿ç”¨çœŸçš„ç‰¹åˆ«ç‰¹åˆ«ç®€å• import Social1#import &lt;Social/Social.h&gt; åˆ›å»ºåˆ†äº«æŽ§åˆ¶å™¨1SLComposeViewController *composeViewController = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeSinaWeibo]; å¼€å§‹åˆ†äº«1234[self presentViewController:composeViewController animated:YES completion:nil];// åˆ†äº«ç»“æžœç›‘æŽ§composeViewController.completionHandler = ^(SLComposeViewControllerResult result)&#123;&#125;; å»ºè®®åœ¨ä½¿ç”¨æ—¶åšä¸€äº›å¿…è¦æ€§çš„åˆ¤æ–­å’Œå¤„ç†,åº”è¯¥æ˜¯æœ‰å²ä»¥æ¥iOSæœ€ç®€å•çš„ç¬¬ä¸‰æ–¹åˆ†äº«äº†ï¼]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>ç³»ç»Ÿæ¡†æž¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘çš„ä¸€äº›ç»ˆç«¯å‘½ä»¤]]></title>
    <url>%2F2016%2F05%2F02%2F2016%2FiOS%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[#iOSå¼€å‘çš„ä¸€äº›ç»ˆç«¯å‘½ä»¤ åŸºæœ¬å‘½ä»¤12// æ˜¾ç¤ºéšè—æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -bool true 12// éšè—éšè—æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -bool false Git å‘½ä»¤å¼€å‘å¸¸ç”¨1234git pull // æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯æƒ…å†µgit checkout . // æ¢å¤ä¿®æ”¹git commit -m "å¤‡æ³¨" // æäº¤ä»£ç git push // push åˆ°æœåŠ¡å™¨ åˆ†æ”¯æŸ¥çœ‹åˆ†æ”¯123git branch // æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯æƒ…å†µgit branch -r // æŸ¥çœ‹æœåŠ¡å™¨åˆ†æ”¯æƒ…å†µgit branch -a // æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯æƒ…å†µ åˆ›å»º123git checkout branch_name // åˆ‡æ¢åˆ†æ”¯git checkout -b newBranch_name // åˆ›å»ºæ–°åˆ†æ”¯ git push origin newBranch_name // æŠŠåˆ›å»ºçš„åˆ†æ”¯ push åˆ°æœåŠ¡å™¨ åˆ é™¤1git push origin :branch_name åˆ é™¤åˆ†æ”¯ tag æ“ä½œæŸ¥çœ‹ tag æƒ…å†µ1git tag æ–°å»ºtag12git tag tagName || git tag -a v0.1 -m "å¤‡æ³¨ä¿¡æ¯" // æ‰“taggit push -u origin tagName // push tag åˆ é™¤ tag12git tag -d tagName // åˆ é™¤æœ¬åœ°taggit push origin : tagName // push tag å‚è€ƒè‡ª å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ cocoapodså¸¸ç”¨12345678pod installpod install --no-repo-updatepod updatepod update --no-repo-updatepod search xxxpod setup å…¶ä»–POD ç¼“å­˜ç®¡ç† åˆ—å‡ºæ‰€æœ‰æœ¬åœ°å·²ç»ç¼“å­˜çš„ç¬¬ä¸‰æ–¹åº“ 1pod cache list ç»“æžœå¦‚ä¸‹: 1234567iCarousel: - Version: 1.8.2 Type: Release Spec: /Users/vivi/Library/Caches/CocoaPods/Pods/Specs/Release/iCarousel/1.8.podspec.json Pod: /Users/vivi/Library/Caches/CocoaPods/Pods/Release/iCarousel/1.8.2-67c8alibextobjc:... æ¸…é™¤æŒ‡å®šç¬¬ä¸‰æ–¹ç¼“å­˜ 1pod cache clean libName æ¸…é™¤å…¨éƒ¨ç¼“å­˜ 1pod cache clean all mac å‘½ä»¤è¡Œ åˆ«å cd ~ touch .bash_profile open .bash_profile 1alias ll=&apos;ls&apos; å…¶ä¸­ aliasï¼ˆåˆ«åï¼‰è¡¨ç¤ºå£°æ˜Žä¸€ä¸ªåˆ«å,ä½¿ç”¨ll ä»£æ›¿lså‘½ä»¤]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSé€†å‘ä¹‹èŽ·å–ç¬¬ä¸‰æ–¹Appå¤´æ–‡ä»¶]]></title>
    <url>%2F2016%2F04%2F20%2F2016%2FiOS%E9%80%86%E5%90%91%E4%B9%8B%E8%8E%B7%E5%8F%96%E7%AC%AC%E4%B8%89%E6%96%B9App%E5%A4%B4%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰éšä¾¿çœ‹äº†ä¸‹iOSé€†å‘çš„çŸ¥è¯†ï¼Œä¸‹é¢çš„ä¸€ä¸ªæœ€ç®€å•çš„ä½¿ç”¨ï¼ŒèŽ·å–ç¬¬ä¸‰æ–¹Appå¤´æ–‡ä»¶ï¼Œå¦‚ï¼šå¾®ä¿¡ï¼Œæ”¯ä»˜å®ç­‰ã€‚ æ“ä½œæ­¥éª¤ é¦–å…ˆéœ€è¦ç”¨ä¸€ä¸ªå·¥å…·class-dumpç‚¹æˆ‘ä¸‹è½½ ä¸‹è½½å¥½ä»¥åŽè§£åŽ‹å¦‚ä¸‹å›¾ï¼š æŠŠclass-dump-3.5æ–‡ä»¶å¤¹ä¸‹çš„class-dumpæ–‡ä»¶å¤¹æ‹–å…¥/usr/local/bin ç›®å½•ä¸‹ æ‰“å¼€ç»ˆç«¯ cd /usr/local/bin å† æ‰§è¡Œ sudo chmod 777/usr/local/bin/class-dump è¾“å…¥å¯†ç  ä¸‹è½½PPåŠ©æ‰‹æˆ–è€…å…¶ä»–å¯ä»¥ä¸‹è½½è¶Šç‹±åº”ç”¨çš„åº”ç”¨ï¼ˆæ­£ç‰ˆéœ€è¦ç ¸å£³ï¼‰ï¼Œä¸‹è½½è¶Šç‹±åº”ç”¨åŽè§£åŽ‹ æ‰§è¡Œ class-dump -H /Users/daredos/Desktop/å¾®ä¿¡-6.3.23\(è¶Šç‹±åº”ç”¨\)/Payload/WeChat.app -o /Users/daredos/Desktop/wx /Users/daredos/Desktop/å¾®ä¿¡-6.3.23\(è¶Šç‹±åº”ç”¨\)/Payload/WeChat.app è¡¨ç¤ºAppå…¨è·¯å¾„ /Users/daredos/Desktop/wx è¡¨ç¤ºèŽ·å–åˆ°çš„.h å­˜æ”¾çš„è·¯å¾„ æ•ˆæžœå›¾]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å„ç§æŽ’åºç®—æ³•]]></title>
    <url>%2F2016%2F04%2F10%2F2016%2F%E5%90%84%E7%A7%8D%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å‡†å¤‡å¼„ä¸€äº›ç®€å•çš„ç®—æ³•ï¼Œå…ˆä»ŽæŽ’åºå¼€å§‹å§ï¼Œä¹Ÿä¸çŸ¥é“å¯ä»¥åšæŒå¤šä¹…ï¼Œå…ˆè¿™æ ·ã€‚ ä»£ç åœ°å€ å†’æ³¡æŽ’åºå†’æ³¡æŽ’åºç»´åŸºç™¾ç§‘ä»‹ç» å†’æ³¡æŽ’åºï¼ˆè‹±è¯­ï¼šBubble Sortï¼Œå°ç£å¦å¤–ä¸€ç¨®è­¯åç‚ºï¼šæ³¡æ²«æŽ’åºï¼‰æ˜¯ä¸€ç¨®ç°¡å–®çš„æŽ’åºç®—æ³•ã€‚å®ƒé‡è¤‡åœ°èµ°è¨ªéŽè¦æŽ’åºçš„æ•¸åˆ—ï¼Œä¸€æ¬¡æ¯”è¼ƒå…©å€‹å…ƒç´ ï¼Œå¦‚æžœä»–å€‘çš„é †åºéŒ¯èª¤å°±æŠŠä»–å€‘äº¤æ›éŽä¾†ã€‚èµ°è¨ªæ•¸åˆ—çš„å·¥ä½œæ˜¯é‡è¤‡åœ°é€²è¡Œç›´åˆ°æ²’æœ‰å†éœ€è¦äº¤æ›ï¼Œä¹Ÿå°±æ˜¯èªªè©²æ•¸åˆ—å·²ç¶“æŽ’åºå®Œæˆã€‚é€™å€‹ç®—æ³•çš„åå­—ç”±ä¾†æ˜¯å› ç‚ºè¶Šå°çš„å…ƒç´ æœƒç¶“ç”±äº¤æ›æ…¢æ…¢ã€Œæµ®ã€åˆ°æ•¸åˆ—çš„é ‚ç«¯ã€‚ Cè¯­è¨€å®žçŽ°åŽŸå§‹ç‰ˆæœ¬1234567891011void bubbleSort(int *a, int n) &#123; for (int i = 0; i &lt; n - 1; i++) &#123; for (int j = 0; j &lt; n - i - 1; j++) &#123; if (a[j] &gt; a[j + 1]) &#123; int temp = a[j]; a[j] = a[j + 1]; a[j + 1] = temp; &#125; &#125; &#125;&#125; ä¸€ç‚¹ä¼˜åŒ–çš„ç‰ˆæœ¬1234567891011121314151617void bubbleSort(int *a, int n) &#123; int flag = 0; for (int i = 0; i &lt; n - 1; i++) &#123; flag = 0; for (int j = 0; j &lt; n - i - 1; j++) &#123; if (a[j] &gt; a[j + 1]) &#123; flag = 1; int temp = a[j]; a[j] = a[j + 1]; a[j + 1] = temp; &#125; &#125; if (flag == 0) &#123; break; &#125; &#125;&#125; æ‰©å±•äº¤æ¢2ä¸ªå˜é‡çš„ä¸€äº›æ–¹æ³•1234567891011121314151617int c1 = 1;int c2 = 100; // å±€éƒ¨å˜é‡int temp = c1;c1 = c2;c2 = temp;// åŠ å‡æ³• &amp;&amp; ä¹˜é™¤æ³•c1 = c1 + c2; // c1 = c1 * c2;c2 = c1 - c2; // c2 = c1 / c2;c1 = c1 - c2; // c1 = c1 - c2; // å¼‚æˆ–c1 = c1 ^ c2;c2 = c1 ^ c2;c1 = c1 ^ c2; èŽ·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼12345678910111213void getMaxMin(int *a, int n, int *max, int *min) &#123; int tempMax = a[0]; int tempMin = a[0]; for (int i = 1; i &lt; n; i++) &#123; if (a[i] &gt; tempMax) &#123; tempMax = a[i]; &#125; else if (a[i] &lt; tempMin) &#123; tempMin = a[i]; &#125; &#125; *min = tempMin; *max = tempMax;&#125; é€‰æ‹©æŽ’åºé€‰æ‹©æŽ’åºç»´åŸºç™¾ç§‘ä»‹ç» é€‰æ‹©æŽ’åºï¼ˆSelection sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŽŸç†å¦‚ä¸‹ã€‚é¦–å…ˆåœ¨æœªæŽ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æŽ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åŽï¼Œå†ä»Žå‰©ä½™æœªæŽ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åŽæ”¾åˆ°å·²æŽ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æŽ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æŽ’åºå®Œæ¯•ã€‚ Cè¯­è¨€å®žçŽ°12345678910111213141516void selectionSort(int *a, int n) &#123; int min, temp; for (int i = 0; i &lt; n; i++) &#123; min = i; for (int j = i; j &lt; n; j++) &#123; if (a[min] &gt; a[j] ) &#123; min = j; &#125; &#125; if (min != i) &#123; temp = a[min]; a[min] = a[i]; a[i] = temp; &#125; &#125;&#125; æ’å…¥æŽ’åºæ’å…¥æŽ’åºç»´åŸºç™¾ç§‘ä»‹ç» æ’å…¥æŽ’åºï¼ˆè‹±è¯­ï¼šInsertion Sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŽŸç†æ˜¯é€šè¿‡æž„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºŽæœªæŽ’åºæ•°æ®ï¼Œåœ¨å·²æŽ’åºåºåˆ—ä¸­ä»ŽåŽå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚æ’å…¥æŽ’åºåœ¨å®žçŽ°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨in-placeæŽ’åºï¼ˆå³åªéœ€ç”¨åˆ°O(1)çš„é¢å¤–ç©ºé—´çš„æŽ’åºï¼‰ï¼Œå› è€Œåœ¨ä»ŽåŽå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æŽ’åºå…ƒç´ é€æ­¥å‘åŽæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚ Cè¯­è¨€å®žçŽ°12345678910111213141516171819202122void insertSort(int *a, int n) &#123; for (int i = 1; i &lt; n; i++) &#123; // ä»Ž1 å¼€å§‹å–å‡ºåŽé¢çš„å…ƒç´ æ¥æ¥æ’å…¥ä¹‹å‰æŽ’å¥½çš„æ•°ç»„ä¸­ // å–å‡º i ä½ç½®ä¸Šçš„æ•° int temp = a[i]; // éåŽ†æŽ’åºå¥½çš„æ•°ç»„ for (int j = i; j &gt;= 0; j--) &#123; // å¦‚æžœå–å‡ºæ¥çš„å¤§äºŽa[j-1] è¯´æ˜Žå·²ç»æŽ’åºå¥½äº† if (a[j-1] &lt; temp) &#123; // èµ‹å€¼é€€å‡ºæ­¤å±‚å¾ªçŽ¯ a[j] = temp; break; &#125; else &#123; // æŽ’åºå¥½çš„æ•°ç»„ a[j] = a[j-1]; a[j] = a[j-1]; &#125; &#125; &#125;&#125; å¸Œå°”æŽ’åº ShellSortå½’å¹¶æŽ’åº MergeSortå¿«é€ŸæŽ’åº QuickSortå †æŽ’åº HeapSort]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘ä¸­çš„ä¸€äº›ç¬¬ä¸‰æ–¹]]></title>
    <url>%2F2016%2F04%2F09%2F2016%2FiOS%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%AC%E4%B8%89%E6%96%B9%2F</url>
    <content type="text"><![CDATA[ä¸‹é¢æ˜¯æœ¬äººåœ¨åš iOS å¼€å‘ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œæ€»ç»“çš„ä¸€äº›é¡¹ç›®å¼€å‘å¿…å¤‡çŸ¥è¯†å’Œå…³é”®ç‚¹ðŸ˜Šï¼Œæˆ‘ä¼šä¸€ç›´æ›´æ–°ä¸‹åŽ»ã€‚è°¢è°¢ä½ æ”¯æŒï¼åŒæ—¶æ›´è¦æ„Ÿè°¢æä¾›ç›¸å…³åº“çš„å¤§ç¥žðŸ˜ã€‚å¦‚æžœæœ‰è®¤ä¸ºéžå¸¸å¥½çš„å¸Œæœ›Mæˆ‘å“¦ã€‚ Objective-Cç½‘ç»œ ç½‘ç»œè¯·æ±‚ AFNetworking ç½‘ç»œå›¾ç‰‡å¤„ç† SDWebImage çŒ¿é¢˜åº“å¯¹ AFN çš„å°è£… YTKNetwork å¾®ä¿¡è·¨å¹³å°ç½‘ç»œæ¡†æž¶ mars UIæŽ§ä»¶ HUD MBProgressHUDã€SVProgressHUD åˆ·æ–°æŽ§ä»¶ MJRefresh å¹¿å‘Šè½®æ’­å™¨ SDCycleScrollView ä¾§æ»‘èœå• MMDrawerController CoverFlow æ•ˆæžœ iCarousel æ¨¡ç³Šæ•ˆæžœ FXBlurView RDVTabBar RDVTabBar å¯åŠ¨é¡µ JazzHand å›¾ç‰‡æµè§ˆ MWPhotoBrowser ç…§ç‰‡é€‰æ‹© TZImagePickerController ä¾§æ»‘ Cell MGSwipeTableCell Facebook å¼€æºçš„å¼‚æ­¥æ¸²æŸ“åº“ AsyncDisplayKit å…¼å®¹ iOS7 Cell ä¾§æ»‘å¤šæŒ‰é’®åŠŸèƒ½ JZTableViewRowAction å¯Œæ–‡æœ¬ TTTAttributedLabel å¯Œæ–‡æœ¬ YYText æ—¥åŽ†æŽ§ä»¶ FSCalendar æ‰å¹³é£Žæ ¼çš„æŠ˜çº¿å›¾ / æŸ±å½¢å›¾ PNChart åŸºäºŽ Block çš„ CA åŠ¨ç”» RBBAnimation å¯¹ç³»ç»Ÿ API (AVFoundation)ã€ZXingã€ZBarçš„å°è£…LBXScan Xib æ¡¥ XXNibBridge åˆ†é¡µæŽ§åˆ¶å™¨ WMPageControllerã€ARSegmentPager APP å†…åµŒ Safari TOWebViewController APP å†…åµŒ Safari SVWebViewController é¢œè‰²é€‰æ‹©å™¨ Color-Picker-for-iOS ç©ºæ•°æ®é¡µ DZNEmptyDataSet æ¡†æž¶ é”®ç›˜å¤„ç† IQKeyboardManager ä»£ç å¸ƒå±€ Masonry æ•°æ®è§£æž MJExtension Cell çš„é«˜åº¦è®¡ç®—ä¼˜åŒ–1 FDTemplateLayoutCell Cell çš„é«˜åº¦è®¡ç®—ä¼˜åŒ–2 BMTemplateLayoutCell ç½‘ç»œçŠ¶æ€ç›‘æµ‹ Reachability ç¬¬ä¸‰æ–¹ç®¡ç† CocoaPods å…¨å±ä¾§æ»‘è¿”å›ž FDFullscreenPopGesture ç¼“å­˜ï¼Œå›¾ç‰‡å¤„ç†ï¼Œæ•°æ®è§£æžç­‰ YYKit FMDB æ•°æ®åº“ fmdb çƒ­ä¿®å¤ JSPatchã€JSPatchå¹³å° æ—¥å¿—å·¥å…· CocoaLumberjack RAC ReactiveCocoa Facebook å¼€æºçš„åŠ¨ç”»æ¡†æž¶ pop Socket CocoaAsyncSocket åŸºäºŽ GPU çš„å›¾ç‰‡å¤„ç†æ¡†æž¶ GPUImage NYXImagesKit NYXImagesKit WebViewJavascriptBridge WebViewJavascriptBridge AFDownloadRequestOperation AFDownloadRequestOperation KVOController KVOController LTNavigationBar LTNavigationBar FMDBMigrationManager FMDBMigrationManager TGRDataSource TGRDataSource é«˜æ•ˆçš„åŠ è½½ PDF Reader ä¸€æ¬¾è“ç‰™æ“ä½œåº“ BabyBluetooth æ”¯ä»˜å®ç±»ä¼¼çš„æ‹–æ‹½é‡æŽ’ BMDragCellCollectionView TableViewçš„å„ç§é«˜åº¦è‡ªé€‚åº”åŠç¼“å­˜ https://github.com/asiosldh/UITableView-BMTemplateLayoutCell å·¥å…·åŒ… BlocksKit YYKit [sstoolkit] (https://github.com/soffes/sstoolkit) [BFKit] (https://github.com/FabrizioBrancati/BFKit) [BFKit-Swift] (https://github.com/FabrizioBrancati/BFKit-Swift) ä¸åªæ˜¯æ‰“åŒ… Fastlane Swift Alamofire Masonry çš„ Swift ç‰ˆæœ¬ SnapKit SDWebImage çš„ Swift ç‰ˆæœ¬ AlamofireImage å–µç¥žçš„ç½‘ç»œå›¾ç‰‡å¤„ç†åº“ Kingfisher IQKeyboardManager çš„ Swift ç‰ˆæœ¬ IQKeyboardManagerSwift RxSwift Mac ç§’ç”Ÿ Model ä»£ç  JSONExport https://github.com/liangdahong/BMExport ä½¿ç”¨è¿‡çš„åº“ ç½‘ç»œè¯·æ±‚ AFNetworking ç½‘ç»œå›¾ç‰‡å¤„ç† SDWebImage çŒ¿é¢˜åº“å¯¹ AFN çš„å°è£…YTKNetwork HUD MBProgressHUDã€SVProgressHUD åˆ·æ–°æŽ§ä»¶ MJRefresh å¹¿å‘Šè½®æ’­å™¨ SDCycleScrollView ä¾§æ»‘èœå• MMDrawerController å›¾ç‰‡æµè§ˆ MWPhotoBrowser ç…§ç‰‡é€‰æ‹© TZImagePickerController å…¼å®¹ iOS7 Cell ä¾§æ»‘å¤šæŒ‰é’®åŠŸèƒ½ JZTableViewRowAction æ—¥åŽ†æŽ§ä»¶ FSCalendar é”®ç›˜å¤„ç† IQKeyboardManager ä»£ç å¸ƒå±€ Masonry æ•°æ®è§£æž MJExtension Cell çš„é«˜åº¦è®¡ç®—ä¼˜åŒ– FDTemplateLayoutCell ç½‘ç»œçŠ¶æ€ç›‘æµ‹ Reachability ç¬¬ä¸‰æ–¹ç®¡ç† CocoaPods å…¨å±ä¾§æ»‘è¿”å›ž FDFullscreenPopGesture çƒ­ä¿®å¤ JSPatchã€JSPatchå¹³å° æ—¥å¿—å·¥å…· CocoaLumberjack Facebook å¼€æºçš„åŠ¨ç”»æ¡†æž¶ pop åŸºäºŽ GPU çš„å›¾ç‰‡å¤„ç†æ¡†æž¶ GPUImage BFKit-Swift BlocksKit ç½‘ç»œè¯·æ±‚ AFN çš„ Swift ç‰ˆæœ¬ Alamofire Masonry çš„ Swift ç‰ˆæœ¬ SnapKit SDWebImage çš„ Swift ç‰ˆæœ¬ AlamofireImage å–µç¥žçš„ç½‘ç»œå›¾ç‰‡å¤„ç†åº“ Kingfisher IQKeyboardManager çš„ Swift ç‰ˆæœ¬ IQKeyboardManagerSwift ç§’ç”Ÿ Model ä»£ç  JSONExport å¯¹ç³»ç»Ÿ API (AVFoundation) ã€ ZXingã€ZBar çš„å°è£… LBXScan Xib æ¡¥ XXNibBridge å‚è€ƒ [å‚è€ƒèµ„æ–™] (http://www.jianshu.com/p/b7c4a787a597?utm_campaign=hugo&amp;utm_medium=reader_share&amp;utm_content=note&amp;utm_source=qq) å‚è€ƒèµ„æ–™]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>ç¬¬ä¸‰æ–¹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ Hexo æ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2F2016%2F04%2F08%2F2016%2F%E4%BD%BF%E7%94%A8-Hexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[è¯´åœ¨å‰é¢ hexo.io ä»€ä¹ˆæ˜¯ Hexo ï¼Ÿ Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æž¶, Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“Žï¼‰è§£æžæ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µ æ¥è‡ªè¿™é‡Œã€‚ Hexo ç”±ä¸€ä¸ªå°æ¹¾åŒèƒžå¼€å‘çš„ Blog æ¡†æž¶ https://github.com/tommy351, å’Œ Github æˆ– Coding é…åˆå¯ä»¥éžå¸¸ç®€å•è€Œå…è´¹çš„æ­å»ºä¸€ä¸ªæ¼‚äº®çš„ä¸ªäºº Blogï¼Œè€Œä¸”å¯ä»¥è‡ªå®šä¹‰åŸŸåï¼Œä¸‹é¢å°±ç®€å•ä»‹ç»å…¶ä½¿ç”¨å§ã€‚ è´­ä¹°åŸŸå åŸŸåè´­ä¹°å¯åˆ° é˜¿é‡Œäº‘ æˆ–è€… godaddy è´­ä¹°å³å¯ï¼Œå¤§æ¦‚ 60RMB/å¹´ï¼Œè€Œä¸”å¯ä»¥è‡ªå®šä¹‰åŸŸåé‚®ç®±ï¼Œçœ‹èµ·æ¥é«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡ðŸ˜„ã€‚å¦‚ï¼šios@liangdahong.comå…¶å®žæ²¡ä»€ä¹ˆ X ç”¨ å…·ä½“å°±ä¸ä»‹ç»äº†ã€‚ çŽ¯å¢ƒ Hexo æ”¯æŒ Windows å’Œ masOSï¼Œéœ€å®‰è£…å¥½ Node.js Git å…·ä½“çš„å®‰è£…å¯è‡ªè¡Œ Google å®‰è£… Hexo åœ¨å®‰è£…å¥½çŽ¯å¢ƒåŽï¼Œä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£… Hexo 1npm install -g hexo-cli åœ¨å®‰è£…å¥½ Hexo åŽï¼Œæˆ‘ä»¬åˆå§‹åŒ–è‡ªå·±çš„ Blog ï¼Œé¦–å…ˆåˆ›å»º Blog éœ€è¦ä¿å­˜çš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¿›å…¥æ–‡ä»¶å¤¹ä¸‹ã€‚ 12cd blog/ åˆå§‹åŒ– Blog 12hexo init åˆå§‹åŒ–å®ŒæˆåŽæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰å¦‚ä¸‹çš„æ–‡ä»¶å¤¹ç»“æž„ 12345678_config.yml node_modules package-lock.json package.json scaffolds source themes _config.yml æ–‡ä»¶æ˜¯ Blog çš„ä¸€äº›åŸºæœ¬é…ç½®, å…·ä½“å¯ä»¥å‚è€ƒå®˜ç½‘çš„è¯´æ˜Žã€‚ é¢„è§ˆ, å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é¢„è§ˆ Blogï¼Œç„¶åŽåœ¨æµè§ˆå™¨è¾“å…¥ http://localhost:4000 å³å¯çœ‹åˆ° Blog çš„æ•ˆæžœäº† 1hexo s åˆ›å»ºä¸€ç¯‡æ–‡ç«  1hexo new &quot;ä½ çš„æ–‡ç« åç§°&quot; çŽ°åœ¨æˆ‘ä»¬åœ¨æœ¬åœ°å·²ç»å¯ä»¥çœ‹åˆ° Blog äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€Žä¹ˆéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šå‘¢ï¼Ÿ è®©åˆ«äººä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ Blog æˆ‘ä»¬éœ€è¦åŽ» Github åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå‘½åä¸ºï¼šname.github.io å¦‚ï¼šiangdahong.github.io ç„¶åŽåŽ»å¼€å¯ GitHub Pages ç„¶åŽåœ¨åˆšæ‰æˆ‘ä»¬åˆå§‹åŒ–çš„ Blog çš„ _config.yml ä¸­åšå…·ä½“çš„ä¿®æ”¹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Sitetitle: Hexosubtitle:description:keywords:author: John Doelanguage:timezone:# URL## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;url: http://yoursite.comroot: /permalink: :year/:month/:day/:title/permalink_defaults:# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: # Home page setting# path: Root path for your blogs index page. (default = &apos;&apos;)# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: &apos;&apos; per_page: 10 order_by: -date # Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: landscape# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: å¦‚ä¸Šï¼ŒçŽ°åœ¨æˆ‘ä»¬éœ€è¦æŠŠ Blog éƒ¨ç½²åˆ° Github ä¸Šï¼Œ 1234// ç”Ÿæˆé™æ€ html æ–‡ä»¶hexo g// éƒ¨ç½²åˆ° githubhexo d çŽ°åœ¨ä½ å¯ä»¥ä½¿ç”¨ xxxxx.github.io è®¿é—®ä½ çš„ Blog äº†ã€‚ çŽ°åœ¨æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Hexo æä¾›çš„é»˜è®¤ä¸»é¢˜ï¼Œå…¶å®ž github ä¸Šå·²ç»æœ‰å¤§é‡çš„å¼€æºçš„æ¼‚äº®çš„ä¸»é¢˜å¦‚ï¼šnext æˆ‘ä»¬ä½¿ç”¨è‡ªå®šä¹‰çš„ä¸»é¢˜ï¼Œ æˆ‘ä»¬æŠŠæˆ‘ä»¬çŸ¥é“çš„ä¸»é¢˜ clone åˆ° themes ä¸‹ï¼Œ ç„¶åŽåœ¨ _config.yml ä¸­ä¿®æ”¹ä¸»é¢˜ä¸ºä½ ä½¿ç”¨çš„ä¸»é¢˜ï¼Œ åœ¨ä½¿ç”¨å¦‚ä¸Šçš„æ–¹æ³•éƒ¨ç½²åˆ° github å³å¯ä½¿ç”¨è‡ªå®šä¹‰çš„ä¸»é¢˜äº†ã€‚ åŸºæœ¬é…ç½® ä¸€äº›ç®€å•çš„é…ç½®å¼€æºå‚è€ƒ hexo å’Œ ç›¸åº”çš„ä¸»é¢˜åšè‡ªå®šä¹‰ä¿®æ”¹ è‡ªå®šä¹‰åŸŸå github æ”¯æŒè‡ªå®šä¹‰åŸŸåï¼Œåœ¨åˆšæ‰æˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®ä¸­å¯ä»¥è®¾ç½®è‡ªå®šä¹‰çš„åŸŸåï¼Œä½†éœ€è¦å…ˆåšå¥½åŸŸåè§£æžï¼Œå…·ä½“çš„æ“ä½œå¯ä»¥ Google ä¸‹ Https åœ¨ä¹‹å‰ github æ˜¯ä¸æ”¯æŒ https çš„ï¼Œä½†åœ¨ä¸ä¹…å‰å·²ç»æ”¯æŒäº† httpsã€‚ å…¶ä»–é…ç½® å…¶ä»–æ‰©å±•çš„è¾ƒå¤šï¼šè¯„ä»·ç³»ç»Ÿï¼Œç»Ÿè®¡ç³»ç»Ÿï¼Œåˆ†äº«ï¼Œæ‰“èµç­‰ï¼Œå¯ä»¥è‡ªè¡ŒæŽ¢ç´¢ã€‚ä¸‹é¢çš„ Blog æä¾›äº†è®¸å¤šçš„æ‰©å±•è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒä¸‹ã€‚ https://segmentfault.com/a/1190000009544924 å…¶ä»– æˆ‘ä»¬å¯ä»¥ä¼šæ€è€ƒä¸€ä¸ªé—®é¢˜ ï¼ŸçŽ°åœ¨æˆ‘ä»¬å¯ä»¥å†™ Blog äº†ï¼Œé‚£ä¹ˆå¦‚æžœæˆ‘ä»¬æ¢ç”µè„‘äº†æ€Žä¹ˆç ´ï¼Ÿå…¶å®ž æˆ‘ä»¬åœ¨ä½¿ç”¨ hexo g å‘½ä»¤æ—¶ï¼Œæ˜¯æŠŠæˆ‘ä»¬å†™å¥½çš„ Markdown ç¼–è¯‘ ä¸º html css æ–‡ä»¶ã€‚åœ¨ public ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ hexo d çš„æ—¶å€™ å…¶å®žæ˜¯å§ public æ–‡ä»¶çš„å†…å®¹å…¨éƒ¨åŒæ­¥åˆ° github ä¸ŠåŽ»äº†ï¼Œä½ å¯ä»¥åŽ»éªŒè¯ä¸‹ï¼Œæ‰€ä»¥å¦‚æžœä½ è‡ªå·±å†™çš„ html å¯ä»¥ç›´æŽ¥æ”¾åˆ° public ä¸­ ç„¶åŽéƒ¨ç½²ä¸ŠåŽ»ä¹Ÿä¸€æ ·å¯ä»¥ä½¿ç”¨ã€‚ æ‰€ä»¥æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„çš„é¡¹ç›®å­˜å‚¨çš„æ˜¯ç”Ÿæˆçš„ html æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æºæ–‡ä»¶å‘¢ï¼Ÿ å¦‚æžœæ¢ç”µè„‘äº†å°±æ²¡åŠžæ³•èŽ·å–äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ github åœ¨åŒæ­¥æˆ‘ä»¬çš„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨ github ä¸Šåœ¨åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ¥ä¸“é—¨å­˜æ”¾ æˆ‘ä»¬çš„ blog æºæ–‡ä»¶ï¼ŒåŒæ—¶æŠŠ public å¿½ç•¥è°ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ¢ç”µè„‘åŽåªéœ€è¦é…ç½®å¥½çŽ¯å¢ƒä¾¿éšæ—¶éšåœ°å¯ä»¥æ„‰å¿«çš„å†™ blog äº†ã€‚ Blog åŠ é€Ÿï¼Œå›½å†…æ—¶è®¿é—® Coding, å›½å¤–è®¿é—® Github ï¼Œéœ€æŠŠ Blog åŒæ—¶éƒ¨ç½²åœ¨ 2 ä¸ªå¹³å°ï¼ŒåŒæ—¶åŸŸåè§£æžä¸ºï¼šå›½å¤–è®¿é—® Githubï¼Œå›½å†…è®¿é—® Coding ã€‚ ä»¥ä¸‹åšå®¢ç»™äºŽäº†å¸®åŠ© 1ã€æ™‹å…ˆæ£®ä»Žè´­ä¹°åŸŸååˆ°åŸŸåé‚®ç®±ï¼Œæ­å»ºåšå®¢ç­‰ 2ã€Hexoåšå®¢ä¼˜åŒ–é…ç½®ä¹‹â€“ä¸ºè‡ªå·±åšå®¢æ·»åŠ ç«™å†…æœç´¢ 3ã€Hexoåšå®¢ä¼˜åŒ–é…ç½®ä¹‹â€“ä¸ºè‡ªå·±åšå®¢æ·»åŠ æœç´¢å¼•æ“Žç½‘é¡µæ”¶å½• 4ã€hexo+githubæ­å»ºä¸ªäººåšå®¢ 5ã€http://www.voidking.com/tags/hexo/ 6ã€ https://segmentfault.com/a/1190000009544924/]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
